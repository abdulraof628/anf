function e(e,t){let n=null;const r="number"==typeof t?t:function(e){const[t,n="ms"]=String(e).split(/(ms|s)/i);return Number(t)*{ms:1,s:1e3}[n]}(t),a=function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];const l=()=>{n=null,e.apply(this,a)};clearTimeout(n),n=setTimeout(l,r),n||e.apply(this,a)};return a.cancel=()=>{clearTimeout(n),n=null},a}function t(e){return e.map((e=>e.toLowerCase()))}function n(e,n){const r=e?e["debounce-events"]:[];return r&&r.length>0?Array.isArray(r)?t(r):t(r.split(",")):t((a=n,Array.isArray(a)?a:null==a?[]:[a]));var a}function r(e){return""===e}function a(e,t){return"Enter"===e&&(!t.lock||t.unlock)}function c(e,t,n){return r(e)&&n.fireonempty&&("Enter"===t||" "===t)}function l(){let{lock:t=!1,listenTo:l="keyup",defaultTime:i="300ms",fireOnEmpty:o=!1,cancelOnEmpty:u=!1,trim:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{created(m,f,y){let{value:p,arg:v=i,modifiers:d}=f;const g=Object.assign({lock:t,trim:s,fireonempty:o,cancelonempty:u},d),k=n(y.props,l),E=e((e=>{p(e.target.value,e)}),v);function h(e){const t=g.trim?e.target.value.trim():e.target.value;r(t)&&g.cancelonempty?E.cancel():a(e.key,g)||c(t,e.key,g)?(E.cancel(),p(e.target.value,e)):E(e)}k.forEach((e=>{m.addEventListener(e,h)}))}}}var i={install(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.directive("debounce",function(){let{lock:t=!1,listenTo:l="keyup",defaultTime:i="300ms",fireOnEmpty:o=!1,cancelOnEmpty:u=!1,trim:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{bind(m,f,y){let{value:p,arg:v=i,modifiers:d}=f;const g=Object.assign({lock:t,trim:s,fireonempty:o,cancelonempty:u},d),k=n(y.data.attrs,l),E=e((e=>{p(e.target.value,e)}),v);function h(e){const t=g.trim?e.target.value.trim():e.target.value;r(t)&&g.cancelonempty?E.cancel():a(e.key,g)||c(t,e.key,g)?(E.cancel(),p(e.target.value,e)):E(e)}k.forEach((e=>{m.addEventListener(e,h)}))}}}(l))}};export{e as debounce,i as default,l as vue3Debounce};
