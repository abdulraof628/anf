{
  "version": 3,
  "sources": ["../../viewerjs/dist/viewer.esm.js", "../../v-viewer/dist/index.es.js"],
  "sourcesContent": ["/*!\r\n * Viewer.js v1.11.3\r\n * https://fengyuanchen.github.io/viewerjs\r\n *\r\n * Copyright 2015-present Chen Fengyuan\r\n * Released under the MIT license\r\n *\r\n * Date: 2023-03-05T07:01:17.741Z\r\n */\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n  var keys = Object.keys(object);\r\n  if (Object.getOwnPropertySymbols) {\r\n    var symbols = Object.getOwnPropertySymbols(object);\r\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\r\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\r\n    })), keys.push.apply(keys, symbols);\r\n  }\r\n  return keys;\r\n}\r\nfunction _objectSpread2(target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = null != arguments[i] ? arguments[i] : {};\r\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\r\n      _defineProperty(target, key, source[key]);\r\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\r\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\r\n    });\r\n  }\r\n  return target;\r\n}\r\nfunction _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\r\n    return typeof obj;\r\n  } : function (obj) {\r\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n  }, _typeof(obj);\r\n}\r\nfunction _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}\r\nfunction _defineProperties(target, props) {\r\n  for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor) descriptor.writable = true;\r\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\r\n  }\r\n}\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n  if (staticProps) _defineProperties(Constructor, staticProps);\r\n  Object.defineProperty(Constructor, \"prototype\", {\r\n    writable: false\r\n  });\r\n  return Constructor;\r\n}\r\nfunction _defineProperty(obj, key, value) {\r\n  key = _toPropertyKey(key);\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n  return obj;\r\n}\r\nfunction _toPrimitive(input, hint) {\r\n  if (typeof input !== \"object\" || input === null) return input;\r\n  var prim = input[Symbol.toPrimitive];\r\n  if (prim !== undefined) {\r\n    var res = prim.call(input, hint || \"default\");\r\n    if (typeof res !== \"object\") return res;\r\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n  }\r\n  return (hint === \"string\" ? String : Number)(input);\r\n}\r\nfunction _toPropertyKey(arg) {\r\n  var key = _toPrimitive(arg, \"string\");\r\n  return typeof key === \"symbol\" ? key : String(key);\r\n}\r\n\r\nvar DEFAULTS = {\r\n  /**\r\n   * Enable a modal backdrop, specify `static` for a backdrop\r\n   * which doesn't close the modal on click.\r\n   * @type {boolean}\r\n   */\r\n  backdrop: true,\r\n  /**\r\n   * Show the button on the top-right of the viewer.\r\n   * @type {boolean}\r\n   */\r\n  button: true,\r\n  /**\r\n   * Show the navbar.\r\n   * @type {boolean | number}\r\n   */\r\n  navbar: true,\r\n  /**\r\n   * Specify the visibility and the content of the title.\r\n   * @type {boolean | number | Function | Array}\r\n   */\r\n  title: true,\r\n  /**\r\n   * Show the toolbar.\r\n   * @type {boolean | number | Object}\r\n   */\r\n  toolbar: true,\r\n  /**\r\n   * Custom class name(s) to add to the viewer's root element.\r\n   * @type {string}\r\n   */\r\n  className: '',\r\n  /**\r\n   * Define where to put the viewer in modal mode.\r\n   * @type {string | Element}\r\n   */\r\n  container: 'body',\r\n  /**\r\n   * Filter the images for viewing. Return true if the image is viewable.\r\n   * @type {Function}\r\n   */\r\n  filter: null,\r\n  /**\r\n   * Enable to request fullscreen when play.\r\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions}\r\n   * @type {boolean|FullscreenOptions}\r\n   */\r\n  fullscreen: true,\r\n  /**\r\n   * Define the extra attributes to inherit from the original image.\r\n   * @type {Array}\r\n   */\r\n  inheritedAttributes: ['crossOrigin', 'decoding', 'isMap', 'loading', 'referrerPolicy', 'sizes', 'srcset', 'useMap'],\r\n  /**\r\n   * Define the initial coverage of the viewing image.\r\n   * @type {number}\r\n   */\r\n  initialCoverage: 0.9,\r\n  /**\r\n   * Define the initial index of the image for viewing.\r\n   * @type {number}\r\n   */\r\n  initialViewIndex: 0,\r\n  /**\r\n   * Enable inline mode.\r\n   * @type {boolean}\r\n   */\r\n  inline: false,\r\n  /**\r\n   * The amount of time to delay between automatically cycling an image when playing.\r\n   * @type {number}\r\n   */\r\n  interval: 5000,\r\n  /**\r\n   * Enable keyboard support.\r\n   * @type {boolean}\r\n   */\r\n  keyboard: true,\r\n  /**\r\n   * Focus the viewer when initialized.\r\n   * @type {boolean}\r\n   */\r\n  focus: true,\r\n  /**\r\n   * Indicate if show a loading spinner when load image or not.\r\n   * @type {boolean}\r\n   */\r\n  loading: true,\r\n  /**\r\n   * Indicate if enable loop viewing or not.\r\n   * @type {boolean}\r\n   */\r\n  loop: true,\r\n  /**\r\n   * Min width of the viewer in inline mode.\r\n   * @type {number}\r\n   */\r\n  minWidth: 200,\r\n  /**\r\n   * Min height of the viewer in inline mode.\r\n   * @type {number}\r\n   */\r\n  minHeight: 100,\r\n  /**\r\n   * Enable to move the image.\r\n   * @type {boolean}\r\n   */\r\n  movable: true,\r\n  /**\r\n   * Enable to rotate the image.\r\n   * @type {boolean}\r\n   */\r\n  rotatable: true,\r\n  /**\r\n   * Enable to scale the image.\r\n   * @type {boolean}\r\n   */\r\n  scalable: true,\r\n  /**\r\n   * Enable to zoom the image.\r\n   * @type {boolean}\r\n   */\r\n  zoomable: true,\r\n  /**\r\n   * Enable to zoom the current image by dragging on the touch screen.\r\n   * @type {boolean}\r\n   */\r\n  zoomOnTouch: true,\r\n  /**\r\n   * Enable to zoom the image by wheeling mouse.\r\n   * @type {boolean}\r\n   */\r\n  zoomOnWheel: true,\r\n  /**\r\n   * Enable to slide to the next or previous image by swiping on the touch screen.\r\n   * @type {boolean}\r\n   */\r\n  slideOnTouch: true,\r\n  /**\r\n   * Indicate if toggle the image size between its natural size\r\n   * and initial size when double click on the image or not.\r\n   * @type {boolean}\r\n   */\r\n  toggleOnDblclick: true,\r\n  /**\r\n   * Show the tooltip with image ratio (percentage) when zoom in or zoom out.\r\n   * @type {boolean}\r\n   */\r\n  tooltip: true,\r\n  /**\r\n   * Enable CSS3 Transition for some special elements.\r\n   * @type {boolean}\r\n   */\r\n  transition: true,\r\n  /**\r\n   * Define the CSS `z-index` value of viewer in modal mode.\r\n   * @type {number}\r\n   */\r\n  zIndex: 2015,\r\n  /**\r\n   * Define the CSS `z-index` value of viewer in inline mode.\r\n   * @type {number}\r\n   */\r\n  zIndexInline: 0,\r\n  /**\r\n   * Define the ratio when zoom the image by wheeling mouse.\r\n   * @type {number}\r\n   */\r\n  zoomRatio: 0.1,\r\n  /**\r\n   * Define the min ratio of the image when zoom out.\r\n   * @type {number}\r\n   */\r\n  minZoomRatio: 0.01,\r\n  /**\r\n   * Define the max ratio of the image when zoom in.\r\n   * @type {number}\r\n   */\r\n  maxZoomRatio: 100,\r\n  /**\r\n   * Define where to get the original image URL for viewing.\r\n   * @type {string | Function}\r\n   */\r\n  url: 'src',\r\n  /**\r\n   * Event shortcuts.\r\n   * @type {Function}\r\n   */\r\n  ready: null,\r\n  show: null,\r\n  shown: null,\r\n  hide: null,\r\n  hidden: null,\r\n  view: null,\r\n  viewed: null,\r\n  move: null,\r\n  moved: null,\r\n  rotate: null,\r\n  rotated: null,\r\n  scale: null,\r\n  scaled: null,\r\n  zoom: null,\r\n  zoomed: null,\r\n  play: null,\r\n  stop: null\r\n};\r\n\r\nvar TEMPLATE = '<div class=\"viewer-container\" tabindex=\"-1\" touch-action=\"none\">' + '<div class=\"viewer-canvas\"></div>' + '<div class=\"viewer-footer\">' + '<div class=\"viewer-title\"></div>' + '<div class=\"viewer-toolbar\"></div>' + '<div class=\"viewer-navbar\">' + '<ul class=\"viewer-list\" role=\"navigation\"></ul>' + '</div>' + '</div>' + '<div class=\"viewer-tooltip\" role=\"alert\" aria-hidden=\"true\"></div>' + '<div class=\"viewer-button\" data-viewer-action=\"mix\" role=\"button\"></div>' + '<div class=\"viewer-player\"></div>' + '</div>';\r\n\r\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\r\nvar WINDOW = IS_BROWSER ? window : {};\r\nvar IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\r\nvar HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\r\nvar NAMESPACE = 'viewer';\r\n\r\n// Actions\r\nvar ACTION_MOVE = 'move';\r\nvar ACTION_SWITCH = 'switch';\r\nvar ACTION_ZOOM = 'zoom';\r\n\r\n// Classes\r\nvar CLASS_ACTIVE = \"\".concat(NAMESPACE, \"-active\");\r\nvar CLASS_CLOSE = \"\".concat(NAMESPACE, \"-close\");\r\nvar CLASS_FADE = \"\".concat(NAMESPACE, \"-fade\");\r\nvar CLASS_FIXED = \"\".concat(NAMESPACE, \"-fixed\");\r\nvar CLASS_FULLSCREEN = \"\".concat(NAMESPACE, \"-fullscreen\");\r\nvar CLASS_FULLSCREEN_EXIT = \"\".concat(NAMESPACE, \"-fullscreen-exit\");\r\nvar CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\r\nvar CLASS_HIDE_MD_DOWN = \"\".concat(NAMESPACE, \"-hide-md-down\");\r\nvar CLASS_HIDE_SM_DOWN = \"\".concat(NAMESPACE, \"-hide-sm-down\");\r\nvar CLASS_HIDE_XS_DOWN = \"\".concat(NAMESPACE, \"-hide-xs-down\");\r\nvar CLASS_IN = \"\".concat(NAMESPACE, \"-in\");\r\nvar CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\r\nvar CLASS_LOADING = \"\".concat(NAMESPACE, \"-loading\");\r\nvar CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\");\r\nvar CLASS_OPEN = \"\".concat(NAMESPACE, \"-open\");\r\nvar CLASS_SHOW = \"\".concat(NAMESPACE, \"-show\");\r\nvar CLASS_TRANSITION = \"\".concat(NAMESPACE, \"-transition\");\r\n\r\n// Native events\r\nvar EVENT_CLICK = 'click';\r\nvar EVENT_DBLCLICK = 'dblclick';\r\nvar EVENT_DRAG_START = 'dragstart';\r\nvar EVENT_FOCUSIN = 'focusin';\r\nvar EVENT_KEY_DOWN = 'keydown';\r\nvar EVENT_LOAD = 'load';\r\nvar EVENT_ERROR = 'error';\r\nvar EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\r\nvar EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\r\nvar EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\r\nvar EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\r\nvar EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\r\nvar EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\r\nvar EVENT_RESIZE = 'resize';\r\nvar EVENT_TRANSITION_END = 'transitionend';\r\nvar EVENT_WHEEL = 'wheel';\r\n\r\n// Custom events\r\nvar EVENT_READY = 'ready';\r\nvar EVENT_SHOW = 'show';\r\nvar EVENT_SHOWN = 'shown';\r\nvar EVENT_HIDE = 'hide';\r\nvar EVENT_HIDDEN = 'hidden';\r\nvar EVENT_VIEW = 'view';\r\nvar EVENT_VIEWED = 'viewed';\r\nvar EVENT_MOVE = 'move';\r\nvar EVENT_MOVED = 'moved';\r\nvar EVENT_ROTATE = 'rotate';\r\nvar EVENT_ROTATED = 'rotated';\r\nvar EVENT_SCALE = 'scale';\r\nvar EVENT_SCALED = 'scaled';\r\nvar EVENT_ZOOM = 'zoom';\r\nvar EVENT_ZOOMED = 'zoomed';\r\nvar EVENT_PLAY = 'play';\r\nvar EVENT_STOP = 'stop';\r\n\r\n// Data keys\r\nvar DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\r\n\r\n// RegExps\r\nvar REGEXP_SPACES = /\\s\\s*/;\r\n\r\n// Misc\r\nvar BUTTONS = ['zoom-in', 'zoom-out', 'one-to-one', 'reset', 'prev', 'play', 'next', 'rotate-left', 'rotate-right', 'flip-horizontal', 'flip-vertical'];\r\n\r\n/**\r\n * Check if the given value is a string.\r\n * @param {*} value - The value to check.\r\n * @returns {boolean} Returns `true` if the given value is a string, else `false`.\r\n */\r\nfunction isString(value) {\r\n  return typeof value === 'string';\r\n}\r\n\r\n/**\r\n * Check if the given value is not a number.\r\n */\r\nvar isNaN = Number.isNaN || WINDOW.isNaN;\r\n\r\n/**\r\n * Check if the given value is a number.\r\n * @param {*} value - The value to check.\r\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\r\n */\r\nfunction isNumber(value) {\r\n  return typeof value === 'number' && !isNaN(value);\r\n}\r\n\r\n/**\r\n * Check if the given value is undefined.\r\n * @param {*} value - The value to check.\r\n * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\r\n */\r\nfunction isUndefined(value) {\r\n  return typeof value === 'undefined';\r\n}\r\n\r\n/**\r\n * Check if the given value is an object.\r\n * @param {*} value - The value to check.\r\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\r\n */\r\nfunction isObject(value) {\r\n  return _typeof(value) === 'object' && value !== null;\r\n}\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\n/**\r\n * Check if the given value is a plain object.\r\n * @param {*} value - The value to check.\r\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\r\n */\r\nfunction isPlainObject(value) {\r\n  if (!isObject(value)) {\r\n    return false;\r\n  }\r\n  try {\r\n    var _constructor = value.constructor;\r\n    var prototype = _constructor.prototype;\r\n    return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Check if the given value is a function.\r\n * @param {*} value - The value to check.\r\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\r\n */\r\nfunction isFunction(value) {\r\n  return typeof value === 'function';\r\n}\r\n\r\n/**\r\n * Iterate the given data.\r\n * @param {*} data - The data to iterate.\r\n * @param {Function} callback - The process function for each element.\r\n * @returns {*} The original data.\r\n */\r\nfunction forEach(data, callback) {\r\n  if (data && isFunction(callback)) {\r\n    if (Array.isArray(data) || isNumber(data.length) /* array-like */) {\r\n      var length = data.length;\r\n      var i;\r\n      for (i = 0; i < length; i += 1) {\r\n        if (callback.call(data, data[i], i, data) === false) {\r\n          break;\r\n        }\r\n      }\r\n    } else if (isObject(data)) {\r\n      Object.keys(data).forEach(function (key) {\r\n        callback.call(data, data[key], key, data);\r\n      });\r\n    }\r\n  }\r\n  return data;\r\n}\r\n\r\n/**\r\n * Extend the given object.\r\n * @param {*} obj - The object to be extended.\r\n * @param {*} args - The rest objects which will be merged to the first object.\r\n * @returns {Object} The extended object.\r\n */\r\nvar assign = Object.assign || function assign(obj) {\r\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n    args[_key - 1] = arguments[_key];\r\n  }\r\n  if (isObject(obj) && args.length > 0) {\r\n    args.forEach(function (arg) {\r\n      if (isObject(arg)) {\r\n        Object.keys(arg).forEach(function (key) {\r\n          obj[key] = arg[key];\r\n        });\r\n      }\r\n    });\r\n  }\r\n  return obj;\r\n};\r\nvar REGEXP_SUFFIX = /^(?:width|height|left|top|marginLeft|marginTop)$/;\r\n\r\n/**\r\n * Apply styles to the given element.\r\n * @param {Element} element - The target element.\r\n * @param {Object} styles - The styles for applying.\r\n */\r\nfunction setStyle(element, styles) {\r\n  var style = element.style;\r\n  forEach(styles, function (value, property) {\r\n    if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\r\n      value += 'px';\r\n    }\r\n    style[property] = value;\r\n  });\r\n}\r\n\r\n/**\r\n * Escape a string for using in HTML.\r\n * @param {String} value - The string to escape.\r\n * @returns {String} Returns the escaped string.\r\n */\r\nfunction escapeHTMLEntities(value) {\r\n  return isString(value) ? value.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;') : value;\r\n}\r\n\r\n/**\r\n * Check if the given element has a special class.\r\n * @param {Element} element - The element to check.\r\n * @param {string} value - The class to search.\r\n * @returns {boolean} Returns `true` if the special class was found.\r\n */\r\nfunction hasClass(element, value) {\r\n  if (!element || !value) {\r\n    return false;\r\n  }\r\n  return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\r\n}\r\n\r\n/**\r\n * Add classes to the given element.\r\n * @param {Element} element - The target element.\r\n * @param {string} value - The classes to be added.\r\n */\r\nfunction addClass(element, value) {\r\n  if (!element || !value) {\r\n    return;\r\n  }\r\n  if (isNumber(element.length)) {\r\n    forEach(element, function (elem) {\r\n      addClass(elem, value);\r\n    });\r\n    return;\r\n  }\r\n  if (element.classList) {\r\n    element.classList.add(value);\r\n    return;\r\n  }\r\n  var className = element.className.trim();\r\n  if (!className) {\r\n    element.className = value;\r\n  } else if (className.indexOf(value) < 0) {\r\n    element.className = \"\".concat(className, \" \").concat(value);\r\n  }\r\n}\r\n\r\n/**\r\n * Remove classes from the given element.\r\n * @param {Element} element - The target element.\r\n * @param {string} value - The classes to be removed.\r\n */\r\nfunction removeClass(element, value) {\r\n  if (!element || !value) {\r\n    return;\r\n  }\r\n  if (isNumber(element.length)) {\r\n    forEach(element, function (elem) {\r\n      removeClass(elem, value);\r\n    });\r\n    return;\r\n  }\r\n  if (element.classList) {\r\n    element.classList.remove(value);\r\n    return;\r\n  }\r\n  if (element.className.indexOf(value) >= 0) {\r\n    element.className = element.className.replace(value, '');\r\n  }\r\n}\r\n\r\n/**\r\n * Add or remove classes from the given element.\r\n * @param {Element} element - The target element.\r\n * @param {string} value - The classes to be toggled.\r\n * @param {boolean} added - Add only.\r\n */\r\nfunction toggleClass(element, value, added) {\r\n  if (!value) {\r\n    return;\r\n  }\r\n  if (isNumber(element.length)) {\r\n    forEach(element, function (elem) {\r\n      toggleClass(elem, value, added);\r\n    });\r\n    return;\r\n  }\r\n\r\n  // IE10-11 doesn't support the second parameter of `classList.toggle`\r\n  if (added) {\r\n    addClass(element, value);\r\n  } else {\r\n    removeClass(element, value);\r\n  }\r\n}\r\nvar REGEXP_HYPHENATE = /([a-z\\d])([A-Z])/g;\r\n\r\n/**\r\n * Transform the given string from camelCase to kebab-case\r\n * @param {string} value - The value to transform.\r\n * @returns {string} The transformed value.\r\n */\r\nfunction hyphenate(value) {\r\n  return value.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();\r\n}\r\n\r\n/**\r\n * Get data from the given element.\r\n * @param {Element} element - The target element.\r\n * @param {string} name - The data key to get.\r\n * @returns {string} The data value.\r\n */\r\nfunction getData(element, name) {\r\n  if (isObject(element[name])) {\r\n    return element[name];\r\n  }\r\n  if (element.dataset) {\r\n    return element.dataset[name];\r\n  }\r\n  return element.getAttribute(\"data-\".concat(hyphenate(name)));\r\n}\r\n\r\n/**\r\n * Set data to the given element.\r\n * @param {Element} element - The target element.\r\n * @param {string} name - The data key to set.\r\n * @param {string} data - The data value.\r\n */\r\nfunction setData(element, name, data) {\r\n  if (isObject(data)) {\r\n    element[name] = data;\r\n  } else if (element.dataset) {\r\n    element.dataset[name] = data;\r\n  } else {\r\n    element.setAttribute(\"data-\".concat(hyphenate(name)), data);\r\n  }\r\n}\r\nvar onceSupported = function () {\r\n  var supported = false;\r\n  if (IS_BROWSER) {\r\n    var once = false;\r\n    var listener = function listener() {};\r\n    var options = Object.defineProperty({}, 'once', {\r\n      get: function get() {\r\n        supported = true;\r\n        return once;\r\n      },\r\n      /**\r\n       * This setter can fix a `TypeError` in strict mode\r\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\r\n       * @param {boolean} value - The value to set\r\n       */\r\n      set: function set(value) {\r\n        once = value;\r\n      }\r\n    });\r\n    WINDOW.addEventListener('test', listener, options);\r\n    WINDOW.removeEventListener('test', listener, options);\r\n  }\r\n  return supported;\r\n}();\r\n\r\n/**\r\n * Remove event listener from the target element.\r\n * @param {Element} element - The event target.\r\n * @param {string} type - The event type(s).\r\n * @param {Function} listener - The event listener.\r\n * @param {Object} options - The event options.\r\n */\r\nfunction removeListener(element, type, listener) {\r\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\r\n  var handler = listener;\r\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\r\n    if (!onceSupported) {\r\n      var listeners = element.listeners;\r\n      if (listeners && listeners[event] && listeners[event][listener]) {\r\n        handler = listeners[event][listener];\r\n        delete listeners[event][listener];\r\n        if (Object.keys(listeners[event]).length === 0) {\r\n          delete listeners[event];\r\n        }\r\n        if (Object.keys(listeners).length === 0) {\r\n          delete element.listeners;\r\n        }\r\n      }\r\n    }\r\n    element.removeEventListener(event, handler, options);\r\n  });\r\n}\r\n\r\n/**\r\n * Add event listener to the target element.\r\n * @param {Element} element - The event target.\r\n * @param {string} type - The event type(s).\r\n * @param {Function} listener - The event listener.\r\n * @param {Object} options - The event options.\r\n */\r\nfunction addListener(element, type, listener) {\r\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\r\n  var _handler = listener;\r\n  type.trim().split(REGEXP_SPACES).forEach(function (event) {\r\n    if (options.once && !onceSupported) {\r\n      var _element$listeners = element.listeners,\r\n        listeners = _element$listeners === void 0 ? {} : _element$listeners;\r\n      _handler = function handler() {\r\n        delete listeners[event][listener];\r\n        element.removeEventListener(event, _handler, options);\r\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n          args[_key2] = arguments[_key2];\r\n        }\r\n        listener.apply(element, args);\r\n      };\r\n      if (!listeners[event]) {\r\n        listeners[event] = {};\r\n      }\r\n      if (listeners[event][listener]) {\r\n        element.removeEventListener(event, listeners[event][listener], options);\r\n      }\r\n      listeners[event][listener] = _handler;\r\n      element.listeners = listeners;\r\n    }\r\n    element.addEventListener(event, _handler, options);\r\n  });\r\n}\r\n\r\n/**\r\n * Dispatch event on the target element.\r\n * @param {Element} element - The event target.\r\n * @param {string} type - The event type(s).\r\n * @param {Object} data - The additional event data.\r\n * @param {Object} options - The additional event options.\r\n * @returns {boolean} Indicate if the event is default prevented or not.\r\n */\r\nfunction dispatchEvent(element, type, data, options) {\r\n  var event;\r\n\r\n  // Event and CustomEvent on IE9-11 are global objects, not constructors\r\n  if (isFunction(Event) && isFunction(CustomEvent)) {\r\n    event = new CustomEvent(type, _objectSpread2({\r\n      bubbles: true,\r\n      cancelable: true,\r\n      detail: data\r\n    }, options));\r\n  } else {\r\n    event = document.createEvent('CustomEvent');\r\n    event.initCustomEvent(type, true, true, data);\r\n  }\r\n  return element.dispatchEvent(event);\r\n}\r\n\r\n/**\r\n * Get the offset base on the document.\r\n * @param {Element} element - The target element.\r\n * @returns {Object} The offset data.\r\n */\r\nfunction getOffset(element) {\r\n  var box = element.getBoundingClientRect();\r\n  return {\r\n    left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\r\n    top: box.top + (window.pageYOffset - document.documentElement.clientTop)\r\n  };\r\n}\r\n\r\n/**\r\n * Get transforms base on the given object.\r\n * @param {Object} obj - The target object.\r\n * @returns {string} A string contains transform values.\r\n */\r\nfunction getTransforms(_ref) {\r\n  var rotate = _ref.rotate,\r\n    scaleX = _ref.scaleX,\r\n    scaleY = _ref.scaleY,\r\n    translateX = _ref.translateX,\r\n    translateY = _ref.translateY;\r\n  var values = [];\r\n  if (isNumber(translateX) && translateX !== 0) {\r\n    values.push(\"translateX(\".concat(translateX, \"px)\"));\r\n  }\r\n  if (isNumber(translateY) && translateY !== 0) {\r\n    values.push(\"translateY(\".concat(translateY, \"px)\"));\r\n  }\r\n\r\n  // Rotate should come first before scale to match orientation transform\r\n  if (isNumber(rotate) && rotate !== 0) {\r\n    values.push(\"rotate(\".concat(rotate, \"deg)\"));\r\n  }\r\n  if (isNumber(scaleX) && scaleX !== 1) {\r\n    values.push(\"scaleX(\".concat(scaleX, \")\"));\r\n  }\r\n  if (isNumber(scaleY) && scaleY !== 1) {\r\n    values.push(\"scaleY(\".concat(scaleY, \")\"));\r\n  }\r\n  var transform = values.length ? values.join(' ') : 'none';\r\n  return {\r\n    WebkitTransform: transform,\r\n    msTransform: transform,\r\n    transform: transform\r\n  };\r\n}\r\n\r\n/**\r\n * Get an image name from an image url.\r\n * @param {string} url - The target url.\r\n * @example\r\n * // picture.jpg\r\n * getImageNameFromURL('https://domain.com/path/to/picture.jpg?size=1280×960')\r\n * @returns {string} A string contains the image name.\r\n */\r\nfunction getImageNameFromURL(url) {\r\n  return isString(url) ? decodeURIComponent(url.replace(/^.*\\//, '').replace(/[?&#].*$/, '')) : '';\r\n}\r\nvar IS_SAFARI = WINDOW.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(WINDOW.navigator.userAgent);\r\n\r\n/**\r\n * Get an image's natural sizes.\r\n * @param {string} image - The target image.\r\n * @param {Object} options - The viewer options.\r\n * @param {Function} callback - The callback function.\r\n * @returns {HTMLImageElement} The new image.\r\n */\r\nfunction getImageNaturalSizes(image, options, callback) {\r\n  var newImage = document.createElement('img');\r\n\r\n  // Modern browsers (except Safari)\r\n  if (image.naturalWidth && !IS_SAFARI) {\r\n    callback(image.naturalWidth, image.naturalHeight);\r\n    return newImage;\r\n  }\r\n  var body = document.body || document.documentElement;\r\n  newImage.onload = function () {\r\n    callback(newImage.width, newImage.height);\r\n    if (!IS_SAFARI) {\r\n      body.removeChild(newImage);\r\n    }\r\n  };\r\n  forEach(options.inheritedAttributes, function (name) {\r\n    var value = image.getAttribute(name);\r\n    if (value !== null) {\r\n      newImage.setAttribute(name, value);\r\n    }\r\n  });\r\n  newImage.src = image.src;\r\n\r\n  // iOS Safari will convert the image automatically\r\n  // with its orientation once append it into DOM\r\n  if (!IS_SAFARI) {\r\n    newImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\r\n    body.appendChild(newImage);\r\n  }\r\n  return newImage;\r\n}\r\n\r\n/**\r\n * Get the related class name of a responsive type number.\r\n * @param {string} type - The responsive type.\r\n * @returns {string} The related class name.\r\n */\r\nfunction getResponsiveClass(type) {\r\n  switch (type) {\r\n    case 2:\r\n      return CLASS_HIDE_XS_DOWN;\r\n    case 3:\r\n      return CLASS_HIDE_SM_DOWN;\r\n    case 4:\r\n      return CLASS_HIDE_MD_DOWN;\r\n    default:\r\n      return '';\r\n  }\r\n}\r\n\r\n/**\r\n * Get the max ratio of a group of pointers.\r\n * @param {string} pointers - The target pointers.\r\n * @returns {number} The result ratio.\r\n */\r\nfunction getMaxZoomRatio(pointers) {\r\n  var pointers2 = _objectSpread2({}, pointers);\r\n  var ratios = [];\r\n  forEach(pointers, function (pointer, pointerId) {\r\n    delete pointers2[pointerId];\r\n    forEach(pointers2, function (pointer2) {\r\n      var x1 = Math.abs(pointer.startX - pointer2.startX);\r\n      var y1 = Math.abs(pointer.startY - pointer2.startY);\r\n      var x2 = Math.abs(pointer.endX - pointer2.endX);\r\n      var y2 = Math.abs(pointer.endY - pointer2.endY);\r\n      var z1 = Math.sqrt(x1 * x1 + y1 * y1);\r\n      var z2 = Math.sqrt(x2 * x2 + y2 * y2);\r\n      var ratio = (z2 - z1) / z1;\r\n      ratios.push(ratio);\r\n    });\r\n  });\r\n  ratios.sort(function (a, b) {\r\n    return Math.abs(a) < Math.abs(b);\r\n  });\r\n  return ratios[0];\r\n}\r\n\r\n/**\r\n * Get a pointer from an event object.\r\n * @param {Object} event - The target event object.\r\n * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\r\n * @returns {Object} The result pointer contains start and/or end point coordinates.\r\n */\r\nfunction getPointer(_ref2, endOnly) {\r\n  var pageX = _ref2.pageX,\r\n    pageY = _ref2.pageY;\r\n  var end = {\r\n    endX: pageX,\r\n    endY: pageY\r\n  };\r\n  return endOnly ? end : _objectSpread2({\r\n    timeStamp: Date.now(),\r\n    startX: pageX,\r\n    startY: pageY\r\n  }, end);\r\n}\r\n\r\n/**\r\n * Get the center point coordinate of a group of pointers.\r\n * @param {Object} pointers - The target pointers.\r\n * @returns {Object} The center point coordinate.\r\n */\r\nfunction getPointersCenter(pointers) {\r\n  var pageX = 0;\r\n  var pageY = 0;\r\n  var count = 0;\r\n  forEach(pointers, function (_ref3) {\r\n    var startX = _ref3.startX,\r\n      startY = _ref3.startY;\r\n    pageX += startX;\r\n    pageY += startY;\r\n    count += 1;\r\n  });\r\n  pageX /= count;\r\n  pageY /= count;\r\n  return {\r\n    pageX: pageX,\r\n    pageY: pageY\r\n  };\r\n}\r\n\r\nvar render = {\r\n  render: function render() {\r\n    this.initContainer();\r\n    this.initViewer();\r\n    this.initList();\r\n    this.renderViewer();\r\n  },\r\n  initBody: function initBody() {\r\n    var ownerDocument = this.element.ownerDocument;\r\n    var body = ownerDocument.body || ownerDocument.documentElement;\r\n    this.body = body;\r\n    this.scrollbarWidth = window.innerWidth - ownerDocument.documentElement.clientWidth;\r\n    this.initialBodyPaddingRight = body.style.paddingRight;\r\n    this.initialBodyComputedPaddingRight = window.getComputedStyle(body).paddingRight;\r\n  },\r\n  initContainer: function initContainer() {\r\n    this.containerData = {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight\r\n    };\r\n  },\r\n  initViewer: function initViewer() {\r\n    var options = this.options,\r\n      parent = this.parent;\r\n    var viewerData;\r\n    if (options.inline) {\r\n      viewerData = {\r\n        width: Math.max(parent.offsetWidth, options.minWidth),\r\n        height: Math.max(parent.offsetHeight, options.minHeight)\r\n      };\r\n      this.parentData = viewerData;\r\n    }\r\n    if (this.fulled || !viewerData) {\r\n      viewerData = this.containerData;\r\n    }\r\n    this.viewerData = assign({}, viewerData);\r\n  },\r\n  renderViewer: function renderViewer() {\r\n    if (this.options.inline && !this.fulled) {\r\n      setStyle(this.viewer, this.viewerData);\r\n    }\r\n  },\r\n  initList: function initList() {\r\n    var _this = this;\r\n    var element = this.element,\r\n      options = this.options,\r\n      list = this.list;\r\n    var items = [];\r\n\r\n    // initList may be called in this.update, so should keep idempotent\r\n    list.innerHTML = '';\r\n    forEach(this.images, function (image, index) {\r\n      var src = image.src;\r\n      var alt = image.alt || getImageNameFromURL(src);\r\n      var url = _this.getImageURL(image);\r\n      if (src || url) {\r\n        var item = document.createElement('li');\r\n        var img = document.createElement('img');\r\n        forEach(options.inheritedAttributes, function (name) {\r\n          var value = image.getAttribute(name);\r\n          if (value !== null) {\r\n            img.setAttribute(name, value);\r\n          }\r\n        });\r\n        if (options.navbar) {\r\n          img.src = src || url;\r\n        }\r\n        img.alt = alt;\r\n        img.setAttribute('data-original-url', url || src);\r\n        item.setAttribute('data-index', index);\r\n        item.setAttribute('data-viewer-action', 'view');\r\n        item.setAttribute('role', 'button');\r\n        if (options.keyboard) {\r\n          item.setAttribute('tabindex', 0);\r\n        }\r\n        item.appendChild(img);\r\n        list.appendChild(item);\r\n        items.push(item);\r\n      }\r\n    });\r\n    this.items = items;\r\n    forEach(items, function (item) {\r\n      var image = item.firstElementChild;\r\n      var onLoad;\r\n      var onError;\r\n      setData(image, 'filled', true);\r\n      if (options.loading) {\r\n        addClass(item, CLASS_LOADING);\r\n      }\r\n      addListener(image, EVENT_LOAD, onLoad = function onLoad(event) {\r\n        removeListener(image, EVENT_ERROR, onError);\r\n        if (options.loading) {\r\n          removeClass(item, CLASS_LOADING);\r\n        }\r\n        _this.loadImage(event);\r\n      }, {\r\n        once: true\r\n      });\r\n      addListener(image, EVENT_ERROR, onError = function onError() {\r\n        removeListener(image, EVENT_LOAD, onLoad);\r\n        if (options.loading) {\r\n          removeClass(item, CLASS_LOADING);\r\n        }\r\n      }, {\r\n        once: true\r\n      });\r\n    });\r\n    if (options.transition) {\r\n      addListener(element, EVENT_VIEWED, function () {\r\n        addClass(list, CLASS_TRANSITION);\r\n      }, {\r\n        once: true\r\n      });\r\n    }\r\n  },\r\n  renderList: function renderList() {\r\n    var index = this.index;\r\n    var item = this.items[index];\r\n    if (!item) {\r\n      return;\r\n    }\r\n    var next = item.nextElementSibling;\r\n    var gutter = parseInt(window.getComputedStyle(next || item).marginLeft, 10);\r\n    var offsetWidth = item.offsetWidth;\r\n    var outerWidth = offsetWidth + gutter;\r\n\r\n    // Place the active item in the center of the screen\r\n    setStyle(this.list, assign({\r\n      width: outerWidth * this.length - gutter\r\n    }, getTransforms({\r\n      translateX: (this.viewerData.width - offsetWidth) / 2 - outerWidth * index\r\n    })));\r\n  },\r\n  resetList: function resetList() {\r\n    var list = this.list;\r\n    list.innerHTML = '';\r\n    removeClass(list, CLASS_TRANSITION);\r\n    setStyle(list, getTransforms({\r\n      translateX: 0\r\n    }));\r\n  },\r\n  initImage: function initImage(done) {\r\n    var _this2 = this;\r\n    var options = this.options,\r\n      image = this.image,\r\n      viewerData = this.viewerData;\r\n    var footerHeight = this.footer.offsetHeight;\r\n    var viewerWidth = viewerData.width;\r\n    var viewerHeight = Math.max(viewerData.height - footerHeight, footerHeight);\r\n    var oldImageData = this.imageData || {};\r\n    var sizingImage;\r\n    this.imageInitializing = {\r\n      abort: function abort() {\r\n        sizingImage.onload = null;\r\n      }\r\n    };\r\n    sizingImage = getImageNaturalSizes(image, options, function (naturalWidth, naturalHeight) {\r\n      var aspectRatio = naturalWidth / naturalHeight;\r\n      var initialCoverage = Math.max(0, Math.min(1, options.initialCoverage));\r\n      var width = viewerWidth;\r\n      var height = viewerHeight;\r\n      _this2.imageInitializing = false;\r\n      if (viewerHeight * aspectRatio > viewerWidth) {\r\n        height = viewerWidth / aspectRatio;\r\n      } else {\r\n        width = viewerHeight * aspectRatio;\r\n      }\r\n      initialCoverage = isNumber(initialCoverage) ? initialCoverage : 0.9;\r\n      width = Math.min(width * initialCoverage, naturalWidth);\r\n      height = Math.min(height * initialCoverage, naturalHeight);\r\n      var left = (viewerWidth - width) / 2;\r\n      var top = (viewerHeight - height) / 2;\r\n      var imageData = {\r\n        left: left,\r\n        top: top,\r\n        x: left,\r\n        y: top,\r\n        width: width,\r\n        height: height,\r\n        oldRatio: 1,\r\n        ratio: width / naturalWidth,\r\n        aspectRatio: aspectRatio,\r\n        naturalWidth: naturalWidth,\r\n        naturalHeight: naturalHeight\r\n      };\r\n      var initialImageData = assign({}, imageData);\r\n      if (options.rotatable) {\r\n        imageData.rotate = oldImageData.rotate || 0;\r\n        initialImageData.rotate = 0;\r\n      }\r\n      if (options.scalable) {\r\n        imageData.scaleX = oldImageData.scaleX || 1;\r\n        imageData.scaleY = oldImageData.scaleY || 1;\r\n        initialImageData.scaleX = 1;\r\n        initialImageData.scaleY = 1;\r\n      }\r\n      _this2.imageData = imageData;\r\n      _this2.initialImageData = initialImageData;\r\n      if (done) {\r\n        done();\r\n      }\r\n    });\r\n  },\r\n  renderImage: function renderImage(done) {\r\n    var _this3 = this;\r\n    var image = this.image,\r\n      imageData = this.imageData;\r\n    setStyle(image, assign({\r\n      width: imageData.width,\r\n      height: imageData.height,\r\n      // XXX: Not to use translateX/Y to avoid image shaking when zooming\r\n      marginLeft: imageData.x,\r\n      marginTop: imageData.y\r\n    }, getTransforms(imageData)));\r\n    if (done) {\r\n      if ((this.viewing || this.moving || this.rotating || this.scaling || this.zooming) && this.options.transition && hasClass(image, CLASS_TRANSITION)) {\r\n        var onTransitionEnd = function onTransitionEnd() {\r\n          _this3.imageRendering = false;\r\n          done();\r\n        };\r\n        this.imageRendering = {\r\n          abort: function abort() {\r\n            removeListener(image, EVENT_TRANSITION_END, onTransitionEnd);\r\n          }\r\n        };\r\n        addListener(image, EVENT_TRANSITION_END, onTransitionEnd, {\r\n          once: true\r\n        });\r\n      } else {\r\n        done();\r\n      }\r\n    }\r\n  },\r\n  resetImage: function resetImage() {\r\n    // this.image only defined after viewed\r\n    if (this.viewing || this.viewed) {\r\n      var image = this.image;\r\n      if (this.viewing) {\r\n        this.viewing.abort();\r\n      }\r\n      image.parentNode.removeChild(image);\r\n      this.image = null;\r\n    }\r\n  }\r\n};\r\n\r\nvar events = {\r\n  bind: function bind() {\r\n    var options = this.options,\r\n      viewer = this.viewer,\r\n      canvas = this.canvas;\r\n    var document = this.element.ownerDocument;\r\n    addListener(viewer, EVENT_CLICK, this.onClick = this.click.bind(this));\r\n    addListener(viewer, EVENT_DRAG_START, this.onDragStart = this.dragstart.bind(this));\r\n    addListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown = this.pointerdown.bind(this));\r\n    addListener(document, EVENT_POINTER_MOVE, this.onPointerMove = this.pointermove.bind(this));\r\n    addListener(document, EVENT_POINTER_UP, this.onPointerUp = this.pointerup.bind(this));\r\n    addListener(document, EVENT_KEY_DOWN, this.onKeyDown = this.keydown.bind(this));\r\n    addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\r\n    if (options.zoomable && options.zoomOnWheel) {\r\n      addListener(viewer, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\r\n        passive: false,\r\n        capture: true\r\n      });\r\n    }\r\n    if (options.toggleOnDblclick) {\r\n      addListener(canvas, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\r\n    }\r\n  },\r\n  unbind: function unbind() {\r\n    var options = this.options,\r\n      viewer = this.viewer,\r\n      canvas = this.canvas;\r\n    var document = this.element.ownerDocument;\r\n    removeListener(viewer, EVENT_CLICK, this.onClick);\r\n    removeListener(viewer, EVENT_DRAG_START, this.onDragStart);\r\n    removeListener(canvas, EVENT_POINTER_DOWN, this.onPointerDown);\r\n    removeListener(document, EVENT_POINTER_MOVE, this.onPointerMove);\r\n    removeListener(document, EVENT_POINTER_UP, this.onPointerUp);\r\n    removeListener(document, EVENT_KEY_DOWN, this.onKeyDown);\r\n    removeListener(window, EVENT_RESIZE, this.onResize);\r\n    if (options.zoomable && options.zoomOnWheel) {\r\n      removeListener(viewer, EVENT_WHEEL, this.onWheel, {\r\n        passive: false,\r\n        capture: true\r\n      });\r\n    }\r\n    if (options.toggleOnDblclick) {\r\n      removeListener(canvas, EVENT_DBLCLICK, this.onDblclick);\r\n    }\r\n  }\r\n};\r\n\r\nvar handlers = {\r\n  click: function click(event) {\r\n    var options = this.options,\r\n      imageData = this.imageData;\r\n    var target = event.target;\r\n    var action = getData(target, DATA_ACTION);\r\n    if (!action && target.localName === 'img' && target.parentElement.localName === 'li') {\r\n      target = target.parentElement;\r\n      action = getData(target, DATA_ACTION);\r\n    }\r\n\r\n    // Cancel the emulated click when the native click event was triggered.\r\n    if (IS_TOUCH_DEVICE && event.isTrusted && target === this.canvas) {\r\n      clearTimeout(this.clickCanvasTimeout);\r\n    }\r\n    switch (action) {\r\n      case 'mix':\r\n        if (this.played) {\r\n          this.stop();\r\n        } else if (options.inline) {\r\n          if (this.fulled) {\r\n            this.exit();\r\n          } else {\r\n            this.full();\r\n          }\r\n        } else {\r\n          this.hide();\r\n        }\r\n        break;\r\n      case 'hide':\r\n        if (!this.pointerMoved) {\r\n          this.hide();\r\n        }\r\n        break;\r\n      case 'view':\r\n        this.view(getData(target, 'index'));\r\n        break;\r\n      case 'zoom-in':\r\n        this.zoom(0.1, true);\r\n        break;\r\n      case 'zoom-out':\r\n        this.zoom(-0.1, true);\r\n        break;\r\n      case 'one-to-one':\r\n        this.toggle();\r\n        break;\r\n      case 'reset':\r\n        this.reset();\r\n        break;\r\n      case 'prev':\r\n        this.prev(options.loop);\r\n        break;\r\n      case 'play':\r\n        this.play(options.fullscreen);\r\n        break;\r\n      case 'next':\r\n        this.next(options.loop);\r\n        break;\r\n      case 'rotate-left':\r\n        this.rotate(-90);\r\n        break;\r\n      case 'rotate-right':\r\n        this.rotate(90);\r\n        break;\r\n      case 'flip-horizontal':\r\n        this.scaleX(-imageData.scaleX || -1);\r\n        break;\r\n      case 'flip-vertical':\r\n        this.scaleY(-imageData.scaleY || -1);\r\n        break;\r\n      default:\r\n        if (this.played) {\r\n          this.stop();\r\n        }\r\n    }\r\n  },\r\n  dblclick: function dblclick(event) {\r\n    event.preventDefault();\r\n    if (this.viewed && event.target === this.image) {\r\n      // Cancel the emulated double click when the native dblclick event was triggered.\r\n      if (IS_TOUCH_DEVICE && event.isTrusted) {\r\n        clearTimeout(this.doubleClickImageTimeout);\r\n      }\r\n\r\n      // XXX: No pageX/Y properties in custom event, fallback to the original event.\r\n      this.toggle(event.isTrusted ? event : event.detail && event.detail.originalEvent);\r\n    }\r\n  },\r\n  load: function load() {\r\n    var _this = this;\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n      this.timeout = false;\r\n    }\r\n    var element = this.element,\r\n      options = this.options,\r\n      image = this.image,\r\n      index = this.index,\r\n      viewerData = this.viewerData;\r\n    removeClass(image, CLASS_INVISIBLE);\r\n    if (options.loading) {\r\n      removeClass(this.canvas, CLASS_LOADING);\r\n    }\r\n    image.style.cssText = 'height:0;' + \"margin-left:\".concat(viewerData.width / 2, \"px;\") + \"margin-top:\".concat(viewerData.height / 2, \"px;\") + 'max-width:none!important;' + 'position:relative;' + 'width:0;';\r\n    this.initImage(function () {\r\n      toggleClass(image, CLASS_MOVE, options.movable);\r\n      toggleClass(image, CLASS_TRANSITION, options.transition);\r\n      _this.renderImage(function () {\r\n        _this.viewed = true;\r\n        _this.viewing = false;\r\n        if (isFunction(options.viewed)) {\r\n          addListener(element, EVENT_VIEWED, options.viewed, {\r\n            once: true\r\n          });\r\n        }\r\n        dispatchEvent(element, EVENT_VIEWED, {\r\n          originalImage: _this.images[index],\r\n          index: index,\r\n          image: image\r\n        }, {\r\n          cancelable: false\r\n        });\r\n      });\r\n    });\r\n  },\r\n  loadImage: function loadImage(event) {\r\n    var image = event.target;\r\n    var parent = image.parentNode;\r\n    var parentWidth = parent.offsetWidth || 30;\r\n    var parentHeight = parent.offsetHeight || 50;\r\n    var filled = !!getData(image, 'filled');\r\n    getImageNaturalSizes(image, this.options, function (naturalWidth, naturalHeight) {\r\n      var aspectRatio = naturalWidth / naturalHeight;\r\n      var width = parentWidth;\r\n      var height = parentHeight;\r\n      if (parentHeight * aspectRatio > parentWidth) {\r\n        if (filled) {\r\n          width = parentHeight * aspectRatio;\r\n        } else {\r\n          height = parentWidth / aspectRatio;\r\n        }\r\n      } else if (filled) {\r\n        height = parentWidth / aspectRatio;\r\n      } else {\r\n        width = parentHeight * aspectRatio;\r\n      }\r\n      setStyle(image, assign({\r\n        width: width,\r\n        height: height\r\n      }, getTransforms({\r\n        translateX: (parentWidth - width) / 2,\r\n        translateY: (parentHeight - height) / 2\r\n      })));\r\n    });\r\n  },\r\n  keydown: function keydown(event) {\r\n    var options = this.options;\r\n    if (!options.keyboard) {\r\n      return;\r\n    }\r\n    var keyCode = event.keyCode || event.which || event.charCode;\r\n    switch (keyCode) {\r\n      // Enter\r\n      case 13:\r\n        if (this.viewer.contains(event.target)) {\r\n          this.click(event);\r\n        }\r\n        break;\r\n    }\r\n    if (!this.fulled) {\r\n      return;\r\n    }\r\n    switch (keyCode) {\r\n      // Escape\r\n      case 27:\r\n        if (this.played) {\r\n          this.stop();\r\n        } else if (options.inline) {\r\n          if (this.fulled) {\r\n            this.exit();\r\n          }\r\n        } else {\r\n          this.hide();\r\n        }\r\n        break;\r\n\r\n      // Space\r\n      case 32:\r\n        if (this.played) {\r\n          this.stop();\r\n        }\r\n        break;\r\n\r\n      // ArrowLeft\r\n      case 37:\r\n        if (this.played && this.playing) {\r\n          this.playing.prev();\r\n        } else {\r\n          this.prev(options.loop);\r\n        }\r\n        break;\r\n\r\n      // ArrowUp\r\n      case 38:\r\n        // Prevent scroll on Firefox\r\n        event.preventDefault();\r\n\r\n        // Zoom in\r\n        this.zoom(options.zoomRatio, true);\r\n        break;\r\n\r\n      // ArrowRight\r\n      case 39:\r\n        if (this.played && this.playing) {\r\n          this.playing.next();\r\n        } else {\r\n          this.next(options.loop);\r\n        }\r\n        break;\r\n\r\n      // ArrowDown\r\n      case 40:\r\n        // Prevent scroll on Firefox\r\n        event.preventDefault();\r\n\r\n        // Zoom out\r\n        this.zoom(-options.zoomRatio, true);\r\n        break;\r\n\r\n      // Ctrl + 0\r\n      case 48:\r\n      // Fall through\r\n\r\n      // Ctrl + 1\r\n      // eslint-disable-next-line no-fallthrough\r\n      case 49:\r\n        if (event.ctrlKey) {\r\n          event.preventDefault();\r\n          this.toggle();\r\n        }\r\n        break;\r\n    }\r\n  },\r\n  dragstart: function dragstart(event) {\r\n    if (event.target.localName === 'img') {\r\n      event.preventDefault();\r\n    }\r\n  },\r\n  pointerdown: function pointerdown(event) {\r\n    var options = this.options,\r\n      pointers = this.pointers;\r\n    var buttons = event.buttons,\r\n      button = event.button;\r\n    this.pointerMoved = false;\r\n    if (!this.viewed || this.showing || this.viewing || this.hiding\r\n\r\n    // Handle mouse event and pointer event and ignore touch event\r\n    || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && (\r\n    // No primary button (Usually the left button)\r\n    isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0\r\n\r\n    // Open context menu\r\n    || event.ctrlKey)) {\r\n      return;\r\n    }\r\n\r\n    // Prevent default behaviours as page zooming in touch devices.\r\n    event.preventDefault();\r\n    if (event.changedTouches) {\r\n      forEach(event.changedTouches, function (touch) {\r\n        pointers[touch.identifier] = getPointer(touch);\r\n      });\r\n    } else {\r\n      pointers[event.pointerId || 0] = getPointer(event);\r\n    }\r\n    var action = options.movable ? ACTION_MOVE : false;\r\n    if (options.zoomOnTouch && options.zoomable && Object.keys(pointers).length > 1) {\r\n      action = ACTION_ZOOM;\r\n    } else if (options.slideOnTouch && (event.pointerType === 'touch' || event.type === 'touchstart') && this.isSwitchable()) {\r\n      action = ACTION_SWITCH;\r\n    }\r\n    if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\r\n      removeClass(this.image, CLASS_TRANSITION);\r\n    }\r\n    this.action = action;\r\n  },\r\n  pointermove: function pointermove(event) {\r\n    var pointers = this.pointers,\r\n      action = this.action;\r\n    if (!this.viewed || !action) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    if (event.changedTouches) {\r\n      forEach(event.changedTouches, function (touch) {\r\n        assign(pointers[touch.identifier] || {}, getPointer(touch, true));\r\n      });\r\n    } else {\r\n      assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\r\n    }\r\n    this.change(event);\r\n  },\r\n  pointerup: function pointerup(event) {\r\n    var _this2 = this;\r\n    var options = this.options,\r\n      action = this.action,\r\n      pointers = this.pointers;\r\n    var pointer;\r\n    if (event.changedTouches) {\r\n      forEach(event.changedTouches, function (touch) {\r\n        pointer = pointers[touch.identifier];\r\n        delete pointers[touch.identifier];\r\n      });\r\n    } else {\r\n      pointer = pointers[event.pointerId || 0];\r\n      delete pointers[event.pointerId || 0];\r\n    }\r\n    if (!action) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    if (options.transition && (action === ACTION_MOVE || action === ACTION_ZOOM)) {\r\n      addClass(this.image, CLASS_TRANSITION);\r\n    }\r\n    this.action = false;\r\n\r\n    // Emulate click and double click in touch devices to support backdrop and image zooming (#210).\r\n    if (IS_TOUCH_DEVICE && action !== ACTION_ZOOM && pointer && Date.now() - pointer.timeStamp < 500) {\r\n      clearTimeout(this.clickCanvasTimeout);\r\n      clearTimeout(this.doubleClickImageTimeout);\r\n      if (options.toggleOnDblclick && this.viewed && event.target === this.image) {\r\n        if (this.imageClicked) {\r\n          this.imageClicked = false;\r\n\r\n          // This timeout will be cleared later when a native dblclick event is triggering\r\n          this.doubleClickImageTimeout = setTimeout(function () {\r\n            dispatchEvent(_this2.image, EVENT_DBLCLICK, {\r\n              originalEvent: event\r\n            });\r\n          }, 50);\r\n        } else {\r\n          this.imageClicked = true;\r\n\r\n          // The default timing of a double click in Windows is 500 ms\r\n          this.doubleClickImageTimeout = setTimeout(function () {\r\n            _this2.imageClicked = false;\r\n          }, 500);\r\n        }\r\n      } else {\r\n        this.imageClicked = false;\r\n        if (options.backdrop && options.backdrop !== 'static' && event.target === this.canvas) {\r\n          // This timeout will be cleared later when a native click event is triggering\r\n          this.clickCanvasTimeout = setTimeout(function () {\r\n            dispatchEvent(_this2.canvas, EVENT_CLICK, {\r\n              originalEvent: event\r\n            });\r\n          }, 50);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  resize: function resize() {\r\n    var _this3 = this;\r\n    if (!this.isShown || this.hiding) {\r\n      return;\r\n    }\r\n    if (this.fulled) {\r\n      this.close();\r\n      this.initBody();\r\n      this.open();\r\n    }\r\n    this.initContainer();\r\n    this.initViewer();\r\n    this.renderViewer();\r\n    this.renderList();\r\n    if (this.viewed) {\r\n      this.initImage(function () {\r\n        _this3.renderImage();\r\n      });\r\n    }\r\n    if (this.played) {\r\n      if (this.options.fullscreen && this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\r\n        this.stop();\r\n        return;\r\n      }\r\n      forEach(this.player.getElementsByTagName('img'), function (image) {\r\n        addListener(image, EVENT_LOAD, _this3.loadImage.bind(_this3), {\r\n          once: true\r\n        });\r\n        dispatchEvent(image, EVENT_LOAD);\r\n      });\r\n    }\r\n  },\r\n  wheel: function wheel(event) {\r\n    var _this4 = this;\r\n    if (!this.viewed) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n\r\n    // Limit wheel speed to prevent zoom too fast\r\n    if (this.wheeling) {\r\n      return;\r\n    }\r\n    this.wheeling = true;\r\n    setTimeout(function () {\r\n      _this4.wheeling = false;\r\n    }, 50);\r\n    var ratio = Number(this.options.zoomRatio) || 0.1;\r\n    var delta = 1;\r\n    if (event.deltaY) {\r\n      delta = event.deltaY > 0 ? 1 : -1;\r\n    } else if (event.wheelDelta) {\r\n      delta = -event.wheelDelta / 120;\r\n    } else if (event.detail) {\r\n      delta = event.detail > 0 ? 1 : -1;\r\n    }\r\n    this.zoom(-delta * ratio, true, null, event);\r\n  }\r\n};\r\n\r\nvar methods = {\r\n  /** Show the viewer (only available in modal mode)\r\n   * @param {boolean} [immediate=false] - Indicates if show the viewer immediately or not.\r\n   * @returns {Viewer} this\r\n   */\r\n  show: function show() {\r\n    var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n    var element = this.element,\r\n      options = this.options;\r\n    if (options.inline || this.showing || this.isShown || this.showing) {\r\n      return this;\r\n    }\r\n    if (!this.ready) {\r\n      this.build();\r\n      if (this.ready) {\r\n        this.show(immediate);\r\n      }\r\n      return this;\r\n    }\r\n    if (isFunction(options.show)) {\r\n      addListener(element, EVENT_SHOW, options.show, {\r\n        once: true\r\n      });\r\n    }\r\n    if (dispatchEvent(element, EVENT_SHOW) === false || !this.ready) {\r\n      return this;\r\n    }\r\n    if (this.hiding) {\r\n      this.transitioning.abort();\r\n    }\r\n    this.showing = true;\r\n    this.open();\r\n    var viewer = this.viewer;\r\n    removeClass(viewer, CLASS_HIDE);\r\n    viewer.setAttribute('role', 'dialog');\r\n    viewer.setAttribute('aria-labelledby', this.title.id);\r\n    viewer.setAttribute('aria-modal', true);\r\n    viewer.removeAttribute('aria-hidden');\r\n    if (options.transition && !immediate) {\r\n      var shown = this.shown.bind(this);\r\n      this.transitioning = {\r\n        abort: function abort() {\r\n          removeListener(viewer, EVENT_TRANSITION_END, shown);\r\n          removeClass(viewer, CLASS_IN);\r\n        }\r\n      };\r\n      addClass(viewer, CLASS_TRANSITION);\r\n\r\n      // Force reflow to enable CSS3 transition\r\n      viewer.initialOffsetWidth = viewer.offsetWidth;\r\n      addListener(viewer, EVENT_TRANSITION_END, shown, {\r\n        once: true\r\n      });\r\n      addClass(viewer, CLASS_IN);\r\n    } else {\r\n      addClass(viewer, CLASS_IN);\r\n      this.shown();\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * Hide the viewer (only available in modal mode)\r\n   * @param {boolean} [immediate=false] - Indicates if hide the viewer immediately or not.\r\n   * @returns {Viewer} this\r\n   */\r\n  hide: function hide() {\r\n    var _this = this;\r\n    var immediate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n    var element = this.element,\r\n      options = this.options;\r\n    if (options.inline || this.hiding || !(this.isShown || this.showing)) {\r\n      return this;\r\n    }\r\n    if (isFunction(options.hide)) {\r\n      addListener(element, EVENT_HIDE, options.hide, {\r\n        once: true\r\n      });\r\n    }\r\n    if (dispatchEvent(element, EVENT_HIDE) === false) {\r\n      return this;\r\n    }\r\n    if (this.showing) {\r\n      this.transitioning.abort();\r\n    }\r\n    this.hiding = true;\r\n    if (this.played) {\r\n      this.stop();\r\n    } else if (this.viewing) {\r\n      this.viewing.abort();\r\n    }\r\n    var viewer = this.viewer,\r\n      image = this.image;\r\n    var hideImmediately = function hideImmediately() {\r\n      removeClass(viewer, CLASS_IN);\r\n      _this.hidden();\r\n    };\r\n    if (options.transition && !immediate) {\r\n      var onViewerTransitionEnd = function onViewerTransitionEnd(event) {\r\n        // Ignore all propagating `transitionend` events (#275).\r\n        if (event && event.target === viewer) {\r\n          removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\r\n          _this.hidden();\r\n        }\r\n      };\r\n      var onImageTransitionEnd = function onImageTransitionEnd() {\r\n        // In case of show the viewer by `viewer.show(true)` previously (#407).\r\n        if (hasClass(viewer, CLASS_TRANSITION)) {\r\n          addListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\r\n          removeClass(viewer, CLASS_IN);\r\n        } else {\r\n          hideImmediately();\r\n        }\r\n      };\r\n      this.transitioning = {\r\n        abort: function abort() {\r\n          if (_this.viewed && hasClass(image, CLASS_TRANSITION)) {\r\n            removeListener(image, EVENT_TRANSITION_END, onImageTransitionEnd);\r\n          } else if (hasClass(viewer, CLASS_TRANSITION)) {\r\n            removeListener(viewer, EVENT_TRANSITION_END, onViewerTransitionEnd);\r\n          }\r\n        }\r\n      };\r\n\r\n      // In case of hiding the viewer when holding on the image (#255),\r\n      // note that the `CLASS_TRANSITION` class will be removed on pointer down.\r\n      if (this.viewed && hasClass(image, CLASS_TRANSITION)) {\r\n        addListener(image, EVENT_TRANSITION_END, onImageTransitionEnd, {\r\n          once: true\r\n        });\r\n        this.zoomTo(0, false, null, null, true);\r\n      } else {\r\n        onImageTransitionEnd();\r\n      }\r\n    } else {\r\n      hideImmediately();\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * View one of the images with image's index\r\n   * @param {number} index - The index of the image to view.\r\n   * @returns {Viewer} this\r\n   */\r\n  view: function view() {\r\n    var _this2 = this;\r\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.initialViewIndex;\r\n    index = Number(index) || 0;\r\n    if (this.hiding || this.played || index < 0 || index >= this.length || this.viewed && index === this.index) {\r\n      return this;\r\n    }\r\n    if (!this.isShown) {\r\n      this.index = index;\r\n      return this.show();\r\n    }\r\n    if (this.viewing) {\r\n      this.viewing.abort();\r\n    }\r\n    var element = this.element,\r\n      options = this.options,\r\n      title = this.title,\r\n      canvas = this.canvas;\r\n    var item = this.items[index];\r\n    var img = item.querySelector('img');\r\n    var url = getData(img, 'originalUrl');\r\n    var alt = img.getAttribute('alt');\r\n    var image = document.createElement('img');\r\n    forEach(options.inheritedAttributes, function (name) {\r\n      var value = img.getAttribute(name);\r\n      if (value !== null) {\r\n        image.setAttribute(name, value);\r\n      }\r\n    });\r\n    image.src = url;\r\n    image.alt = alt;\r\n    if (isFunction(options.view)) {\r\n      addListener(element, EVENT_VIEW, options.view, {\r\n        once: true\r\n      });\r\n    }\r\n    if (dispatchEvent(element, EVENT_VIEW, {\r\n      originalImage: this.images[index],\r\n      index: index,\r\n      image: image\r\n    }) === false || !this.isShown || this.hiding || this.played) {\r\n      return this;\r\n    }\r\n    var activeItem = this.items[this.index];\r\n    if (activeItem) {\r\n      removeClass(activeItem, CLASS_ACTIVE);\r\n      activeItem.removeAttribute('aria-selected');\r\n    }\r\n    addClass(item, CLASS_ACTIVE);\r\n    item.setAttribute('aria-selected', true);\r\n    if (options.focus) {\r\n      item.focus();\r\n    }\r\n    this.image = image;\r\n    this.viewed = false;\r\n    this.index = index;\r\n    this.imageData = {};\r\n    addClass(image, CLASS_INVISIBLE);\r\n    if (options.loading) {\r\n      addClass(canvas, CLASS_LOADING);\r\n    }\r\n    canvas.innerHTML = '';\r\n    canvas.appendChild(image);\r\n\r\n    // Center current item\r\n    this.renderList();\r\n\r\n    // Clear title\r\n    title.innerHTML = '';\r\n\r\n    // Generate title after viewed\r\n    var onViewed = function onViewed() {\r\n      var imageData = _this2.imageData;\r\n      var render = Array.isArray(options.title) ? options.title[1] : options.title;\r\n      title.innerHTML = escapeHTMLEntities(isFunction(render) ? render.call(_this2, image, imageData) : \"\".concat(alt, \" (\").concat(imageData.naturalWidth, \" \\xD7 \").concat(imageData.naturalHeight, \")\"));\r\n    };\r\n    var onLoad;\r\n    var onError;\r\n    addListener(element, EVENT_VIEWED, onViewed, {\r\n      once: true\r\n    });\r\n    this.viewing = {\r\n      abort: function abort() {\r\n        removeListener(element, EVENT_VIEWED, onViewed);\r\n        if (image.complete) {\r\n          if (_this2.imageRendering) {\r\n            _this2.imageRendering.abort();\r\n          } else if (_this2.imageInitializing) {\r\n            _this2.imageInitializing.abort();\r\n          }\r\n        } else {\r\n          // Cancel download to save bandwidth.\r\n          image.src = '';\r\n          removeListener(image, EVENT_LOAD, onLoad);\r\n          if (_this2.timeout) {\r\n            clearTimeout(_this2.timeout);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    if (image.complete) {\r\n      this.load();\r\n    } else {\r\n      addListener(image, EVENT_LOAD, onLoad = function onLoad() {\r\n        removeListener(image, EVENT_ERROR, onError);\r\n        _this2.load();\r\n      }, {\r\n        once: true\r\n      });\r\n      addListener(image, EVENT_ERROR, onError = function onError() {\r\n        removeListener(image, EVENT_LOAD, onLoad);\r\n        if (_this2.timeout) {\r\n          clearTimeout(_this2.timeout);\r\n          _this2.timeout = false;\r\n        }\r\n        removeClass(image, CLASS_INVISIBLE);\r\n        if (options.loading) {\r\n          removeClass(_this2.canvas, CLASS_LOADING);\r\n        }\r\n      }, {\r\n        once: true\r\n      });\r\n      if (this.timeout) {\r\n        clearTimeout(this.timeout);\r\n      }\r\n\r\n      // Make the image visible if it fails to load within 1s\r\n      this.timeout = setTimeout(function () {\r\n        removeClass(image, CLASS_INVISIBLE);\r\n        _this2.timeout = false;\r\n      }, 1000);\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * View the previous image\r\n   * @param {boolean} [loop=false] - Indicate if view the last one\r\n   * when it is the first one at present.\r\n   * @returns {Viewer} this\r\n   */\r\n  prev: function prev() {\r\n    var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n    var index = this.index - 1;\r\n    if (index < 0) {\r\n      index = loop ? this.length - 1 : 0;\r\n    }\r\n    this.view(index);\r\n    return this;\r\n  },\r\n  /**\r\n   * View the next image\r\n   * @param {boolean} [loop=false] - Indicate if view the first one\r\n   * when it is the last one at present.\r\n   * @returns {Viewer} this\r\n   */\r\n  next: function next() {\r\n    var loop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n    var maxIndex = this.length - 1;\r\n    var index = this.index + 1;\r\n    if (index > maxIndex) {\r\n      index = loop ? 0 : maxIndex;\r\n    }\r\n    this.view(index);\r\n    return this;\r\n  },\r\n  /**\r\n   * Move the image with relative offsets.\r\n   * @param {number} x - The moving distance in the horizontal direction.\r\n   * @param {number} [y=x] The moving distance in the vertical direction.\r\n   * @returns {Viewer} this\r\n   */\r\n  move: function move(x) {\r\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\r\n    var imageData = this.imageData;\r\n    this.moveTo(isUndefined(x) ? x : imageData.x + Number(x), isUndefined(y) ? y : imageData.y + Number(y));\r\n    return this;\r\n  },\r\n  /**\r\n   * Move the image to an absolute point.\r\n   * @param {number} x - The new position in the horizontal direction.\r\n   * @param {number} [y=x] - The new position in the vertical direction.\r\n   * @param {Event} [_originalEvent=null] - The original event if any.\r\n   * @returns {Viewer} this\r\n   */\r\n  moveTo: function moveTo(x) {\r\n    var _this3 = this;\r\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\r\n    var _originalEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\r\n    var element = this.element,\r\n      options = this.options,\r\n      imageData = this.imageData;\r\n    x = Number(x);\r\n    y = Number(y);\r\n    if (this.viewed && !this.played && options.movable) {\r\n      var oldX = imageData.x;\r\n      var oldY = imageData.y;\r\n      var changed = false;\r\n      if (isNumber(x)) {\r\n        changed = true;\r\n      } else {\r\n        x = oldX;\r\n      }\r\n      if (isNumber(y)) {\r\n        changed = true;\r\n      } else {\r\n        y = oldY;\r\n      }\r\n      if (changed) {\r\n        if (isFunction(options.move)) {\r\n          addListener(element, EVENT_MOVE, options.move, {\r\n            once: true\r\n          });\r\n        }\r\n        if (dispatchEvent(element, EVENT_MOVE, {\r\n          x: x,\r\n          y: y,\r\n          oldX: oldX,\r\n          oldY: oldY,\r\n          originalEvent: _originalEvent\r\n        }) === false) {\r\n          return this;\r\n        }\r\n        imageData.x = x;\r\n        imageData.y = y;\r\n        imageData.left = x;\r\n        imageData.top = y;\r\n        this.moving = true;\r\n        this.renderImage(function () {\r\n          _this3.moving = false;\r\n          if (isFunction(options.moved)) {\r\n            addListener(element, EVENT_MOVED, options.moved, {\r\n              once: true\r\n            });\r\n          }\r\n          dispatchEvent(element, EVENT_MOVED, {\r\n            x: x,\r\n            y: y,\r\n            oldX: oldX,\r\n            oldY: oldY,\r\n            originalEvent: _originalEvent\r\n          }, {\r\n            cancelable: false\r\n          });\r\n        });\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * Rotate the image with a relative degree.\r\n   * @param {number} degree - The rotate degree.\r\n   * @returns {Viewer} this\r\n   */\r\n  rotate: function rotate(degree) {\r\n    this.rotateTo((this.imageData.rotate || 0) + Number(degree));\r\n    return this;\r\n  },\r\n  /**\r\n   * Rotate the image to an absolute degree.\r\n   * @param {number} degree - The rotate degree.\r\n   * @returns {Viewer} this\r\n   */\r\n  rotateTo: function rotateTo(degree) {\r\n    var _this4 = this;\r\n    var element = this.element,\r\n      options = this.options,\r\n      imageData = this.imageData;\r\n    degree = Number(degree);\r\n    if (isNumber(degree) && this.viewed && !this.played && options.rotatable) {\r\n      var oldDegree = imageData.rotate;\r\n      if (isFunction(options.rotate)) {\r\n        addListener(element, EVENT_ROTATE, options.rotate, {\r\n          once: true\r\n        });\r\n      }\r\n      if (dispatchEvent(element, EVENT_ROTATE, {\r\n        degree: degree,\r\n        oldDegree: oldDegree\r\n      }) === false) {\r\n        return this;\r\n      }\r\n      imageData.rotate = degree;\r\n      this.rotating = true;\r\n      this.renderImage(function () {\r\n        _this4.rotating = false;\r\n        if (isFunction(options.rotated)) {\r\n          addListener(element, EVENT_ROTATED, options.rotated, {\r\n            once: true\r\n          });\r\n        }\r\n        dispatchEvent(element, EVENT_ROTATED, {\r\n          degree: degree,\r\n          oldDegree: oldDegree\r\n        }, {\r\n          cancelable: false\r\n        });\r\n      });\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * Scale the image on the x-axis.\r\n   * @param {number} scaleX - The scale ratio on the x-axis.\r\n   * @returns {Viewer} this\r\n   */\r\n  scaleX: function scaleX(_scaleX) {\r\n    this.scale(_scaleX, this.imageData.scaleY);\r\n    return this;\r\n  },\r\n  /**\r\n   * Scale the image on the y-axis.\r\n   * @param {number} scaleY - The scale ratio on the y-axis.\r\n   * @returns {Viewer} this\r\n   */\r\n  scaleY: function scaleY(_scaleY) {\r\n    this.scale(this.imageData.scaleX, _scaleY);\r\n    return this;\r\n  },\r\n  /**\r\n   * Scale the image.\r\n   * @param {number} scaleX - The scale ratio on the x-axis.\r\n   * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\r\n   * @returns {Viewer} this\r\n   */\r\n  scale: function scale(scaleX) {\r\n    var _this5 = this;\r\n    var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\r\n    var element = this.element,\r\n      options = this.options,\r\n      imageData = this.imageData;\r\n    scaleX = Number(scaleX);\r\n    scaleY = Number(scaleY);\r\n    if (this.viewed && !this.played && options.scalable) {\r\n      var oldScaleX = imageData.scaleX;\r\n      var oldScaleY = imageData.scaleY;\r\n      var changed = false;\r\n      if (isNumber(scaleX)) {\r\n        changed = true;\r\n      } else {\r\n        scaleX = oldScaleX;\r\n      }\r\n      if (isNumber(scaleY)) {\r\n        changed = true;\r\n      } else {\r\n        scaleY = oldScaleY;\r\n      }\r\n      if (changed) {\r\n        if (isFunction(options.scale)) {\r\n          addListener(element, EVENT_SCALE, options.scale, {\r\n            once: true\r\n          });\r\n        }\r\n        if (dispatchEvent(element, EVENT_SCALE, {\r\n          scaleX: scaleX,\r\n          scaleY: scaleY,\r\n          oldScaleX: oldScaleX,\r\n          oldScaleY: oldScaleY\r\n        }) === false) {\r\n          return this;\r\n        }\r\n        imageData.scaleX = scaleX;\r\n        imageData.scaleY = scaleY;\r\n        this.scaling = true;\r\n        this.renderImage(function () {\r\n          _this5.scaling = false;\r\n          if (isFunction(options.scaled)) {\r\n            addListener(element, EVENT_SCALED, options.scaled, {\r\n              once: true\r\n            });\r\n          }\r\n          dispatchEvent(element, EVENT_SCALED, {\r\n            scaleX: scaleX,\r\n            scaleY: scaleY,\r\n            oldScaleX: oldScaleX,\r\n            oldScaleY: oldScaleY\r\n          }, {\r\n            cancelable: false\r\n          });\r\n        });\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * Zoom the image with a relative ratio.\r\n   * @param {number} ratio - The target ratio.\r\n   * @param {boolean} [showTooltip=false] - Indicates whether to show the tooltip.\r\n   * @param {Object} [pivot] - The pivot point coordinate for zooming.\r\n   * @param {Event} [_originalEvent=null] - The original event if any.\r\n   * @returns {Viewer} this\r\n   */\r\n  zoom: function zoom(ratio) {\r\n    var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n    var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\r\n    var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\r\n    var imageData = this.imageData;\r\n    ratio = Number(ratio);\r\n    if (ratio < 0) {\r\n      ratio = 1 / (1 - ratio);\r\n    } else {\r\n      ratio = 1 + ratio;\r\n    }\r\n    this.zoomTo(imageData.width * ratio / imageData.naturalWidth, showTooltip, pivot, _originalEvent);\r\n    return this;\r\n  },\r\n  /**\r\n   * Zoom the image to an absolute ratio.\r\n   * @param {number} ratio - The target ratio.\r\n   * @param {boolean} [showTooltip] - Indicates whether to show the tooltip.\r\n   * @param {Object} [pivot] - The pivot point coordinate for zooming.\r\n   * @param {Event} [_originalEvent=null] - The original event if any.\r\n   * @param {Event} [_zoomable=false] - Indicates if the current zoom is available or not.\r\n   * @returns {Viewer} this\r\n   */\r\n  zoomTo: function zoomTo(ratio) {\r\n    var _this6 = this;\r\n    var showTooltip = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n    var pivot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\r\n    var _originalEvent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\r\n    var _zoomable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n    var element = this.element,\r\n      options = this.options,\r\n      pointers = this.pointers,\r\n      imageData = this.imageData;\r\n    var x = imageData.x,\r\n      y = imageData.y,\r\n      width = imageData.width,\r\n      height = imageData.height,\r\n      naturalWidth = imageData.naturalWidth,\r\n      naturalHeight = imageData.naturalHeight;\r\n    ratio = Math.max(0, ratio);\r\n    if (isNumber(ratio) && this.viewed && !this.played && (_zoomable || options.zoomable)) {\r\n      if (!_zoomable) {\r\n        var minZoomRatio = Math.max(0.01, options.minZoomRatio);\r\n        var maxZoomRatio = Math.min(100, options.maxZoomRatio);\r\n        ratio = Math.min(Math.max(ratio, minZoomRatio), maxZoomRatio);\r\n      }\r\n      if (_originalEvent) {\r\n        switch (_originalEvent.type) {\r\n          case 'wheel':\r\n            if (options.zoomRatio >= 0.055 && ratio > 0.95 && ratio < 1.05) {\r\n              ratio = 1;\r\n            }\r\n            break;\r\n          case 'pointermove':\r\n          case 'touchmove':\r\n          case 'mousemove':\r\n            if (ratio > 0.99 && ratio < 1.01) {\r\n              ratio = 1;\r\n            }\r\n            break;\r\n        }\r\n      }\r\n      var newWidth = naturalWidth * ratio;\r\n      var newHeight = naturalHeight * ratio;\r\n      var offsetWidth = newWidth - width;\r\n      var offsetHeight = newHeight - height;\r\n      var oldRatio = imageData.ratio;\r\n      if (isFunction(options.zoom)) {\r\n        addListener(element, EVENT_ZOOM, options.zoom, {\r\n          once: true\r\n        });\r\n      }\r\n      if (dispatchEvent(element, EVENT_ZOOM, {\r\n        ratio: ratio,\r\n        oldRatio: oldRatio,\r\n        originalEvent: _originalEvent\r\n      }) === false) {\r\n        return this;\r\n      }\r\n      this.zooming = true;\r\n      if (_originalEvent) {\r\n        var offset = getOffset(this.viewer);\r\n        var center = pointers && Object.keys(pointers).length > 0 ? getPointersCenter(pointers) : {\r\n          pageX: _originalEvent.pageX,\r\n          pageY: _originalEvent.pageY\r\n        };\r\n\r\n        // Zoom from the triggering point of the event\r\n        imageData.x -= offsetWidth * ((center.pageX - offset.left - x) / width);\r\n        imageData.y -= offsetHeight * ((center.pageY - offset.top - y) / height);\r\n      } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\r\n        imageData.x -= offsetWidth * ((pivot.x - x) / width);\r\n        imageData.y -= offsetHeight * ((pivot.y - y) / height);\r\n      } else {\r\n        // Zoom from the center of the image\r\n        imageData.x -= offsetWidth / 2;\r\n        imageData.y -= offsetHeight / 2;\r\n      }\r\n      imageData.left = imageData.x;\r\n      imageData.top = imageData.y;\r\n      imageData.width = newWidth;\r\n      imageData.height = newHeight;\r\n      imageData.oldRatio = oldRatio;\r\n      imageData.ratio = ratio;\r\n      this.renderImage(function () {\r\n        _this6.zooming = false;\r\n        if (isFunction(options.zoomed)) {\r\n          addListener(element, EVENT_ZOOMED, options.zoomed, {\r\n            once: true\r\n          });\r\n        }\r\n        dispatchEvent(element, EVENT_ZOOMED, {\r\n          ratio: ratio,\r\n          oldRatio: oldRatio,\r\n          originalEvent: _originalEvent\r\n        }, {\r\n          cancelable: false\r\n        });\r\n      });\r\n      if (showTooltip) {\r\n        this.tooltip();\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n  /**\r\n   * Play the images\r\n   * @param {boolean|FullscreenOptions} [fullscreen=false] - Indicate if request fullscreen or not.\r\n   * @returns {Viewer} this\r\n   */\r\n  play: function play() {\r\n    var _this7 = this;\r\n    var fullscreen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n    if (!this.isShown || this.played) {\r\n      return this;\r\n    }\r\n    var element = this.element,\r\n      options = this.options;\r\n    if (isFunction(options.play)) {\r\n      addListener(element, EVENT_PLAY, options.play, {\r\n        once: true\r\n      });\r\n    }\r\n    if (dispatchEvent(element, EVENT_PLAY) === false) {\r\n      return this;\r\n    }\r\n    var player = this.player;\r\n    var onLoad = this.loadImage.bind(this);\r\n    var list = [];\r\n    var total = 0;\r\n    var index = 0;\r\n    this.played = true;\r\n    this.onLoadWhenPlay = onLoad;\r\n    if (fullscreen) {\r\n      this.requestFullscreen(fullscreen);\r\n    }\r\n    addClass(player, CLASS_SHOW);\r\n    forEach(this.items, function (item, i) {\r\n      var img = item.querySelector('img');\r\n      var image = document.createElement('img');\r\n      image.src = getData(img, 'originalUrl');\r\n      image.alt = img.getAttribute('alt');\r\n      image.referrerPolicy = img.referrerPolicy;\r\n      total += 1;\r\n      addClass(image, CLASS_FADE);\r\n      toggleClass(image, CLASS_TRANSITION, options.transition);\r\n      if (hasClass(item, CLASS_ACTIVE)) {\r\n        addClass(image, CLASS_IN);\r\n        index = i;\r\n      }\r\n      list.push(image);\r\n      addListener(image, EVENT_LOAD, onLoad, {\r\n        once: true\r\n      });\r\n      player.appendChild(image);\r\n    });\r\n    if (isNumber(options.interval) && options.interval > 0) {\r\n      var prev = function prev() {\r\n        clearTimeout(_this7.playing.timeout);\r\n        removeClass(list[index], CLASS_IN);\r\n        index -= 1;\r\n        index = index >= 0 ? index : total - 1;\r\n        addClass(list[index], CLASS_IN);\r\n        _this7.playing.timeout = setTimeout(prev, options.interval);\r\n      };\r\n      var next = function next() {\r\n        clearTimeout(_this7.playing.timeout);\r\n        removeClass(list[index], CLASS_IN);\r\n        index += 1;\r\n        index = index < total ? index : 0;\r\n        addClass(list[index], CLASS_IN);\r\n        _this7.playing.timeout = setTimeout(next, options.interval);\r\n      };\r\n      if (total > 1) {\r\n        this.playing = {\r\n          prev: prev,\r\n          next: next,\r\n          timeout: setTimeout(next, options.interval)\r\n        };\r\n      }\r\n    }\r\n    return this;\r\n  },\r\n  // Stop play\r\n  stop: function stop() {\r\n    var _this8 = this;\r\n    if (!this.played) {\r\n      return this;\r\n    }\r\n    var element = this.element,\r\n      options = this.options;\r\n    if (isFunction(options.stop)) {\r\n      addListener(element, EVENT_STOP, options.stop, {\r\n        once: true\r\n      });\r\n    }\r\n    if (dispatchEvent(element, EVENT_STOP) === false) {\r\n      return this;\r\n    }\r\n    var player = this.player;\r\n    clearTimeout(this.playing.timeout);\r\n    this.playing = false;\r\n    this.played = false;\r\n    forEach(player.getElementsByTagName('img'), function (image) {\r\n      removeListener(image, EVENT_LOAD, _this8.onLoadWhenPlay);\r\n    });\r\n    removeClass(player, CLASS_SHOW);\r\n    player.innerHTML = '';\r\n    this.exitFullscreen();\r\n    return this;\r\n  },\r\n  // Enter modal mode (only available in inline mode)\r\n  full: function full() {\r\n    var _this9 = this;\r\n    var options = this.options,\r\n      viewer = this.viewer,\r\n      image = this.image,\r\n      list = this.list;\r\n    if (!this.isShown || this.played || this.fulled || !options.inline) {\r\n      return this;\r\n    }\r\n    this.fulled = true;\r\n    this.open();\r\n    addClass(this.button, CLASS_FULLSCREEN_EXIT);\r\n    if (options.transition) {\r\n      removeClass(list, CLASS_TRANSITION);\r\n      if (this.viewed) {\r\n        removeClass(image, CLASS_TRANSITION);\r\n      }\r\n    }\r\n    addClass(viewer, CLASS_FIXED);\r\n    viewer.setAttribute('role', 'dialog');\r\n    viewer.setAttribute('aria-labelledby', this.title.id);\r\n    viewer.setAttribute('aria-modal', true);\r\n    viewer.removeAttribute('style');\r\n    setStyle(viewer, {\r\n      zIndex: options.zIndex\r\n    });\r\n    if (options.focus) {\r\n      this.enforceFocus();\r\n    }\r\n    this.initContainer();\r\n    this.viewerData = assign({}, this.containerData);\r\n    this.renderList();\r\n    if (this.viewed) {\r\n      this.initImage(function () {\r\n        _this9.renderImage(function () {\r\n          if (options.transition) {\r\n            setTimeout(function () {\r\n              addClass(image, CLASS_TRANSITION);\r\n              addClass(list, CLASS_TRANSITION);\r\n            }, 0);\r\n          }\r\n        });\r\n      });\r\n    }\r\n    return this;\r\n  },\r\n  // Exit modal mode (only available in inline mode)\r\n  exit: function exit() {\r\n    var _this10 = this;\r\n    var options = this.options,\r\n      viewer = this.viewer,\r\n      image = this.image,\r\n      list = this.list;\r\n    if (!this.isShown || this.played || !this.fulled || !options.inline) {\r\n      return this;\r\n    }\r\n    this.fulled = false;\r\n    this.close();\r\n    removeClass(this.button, CLASS_FULLSCREEN_EXIT);\r\n    if (options.transition) {\r\n      removeClass(list, CLASS_TRANSITION);\r\n      if (this.viewed) {\r\n        removeClass(image, CLASS_TRANSITION);\r\n      }\r\n    }\r\n    if (options.focus) {\r\n      this.clearEnforceFocus();\r\n    }\r\n    viewer.removeAttribute('role');\r\n    viewer.removeAttribute('aria-labelledby');\r\n    viewer.removeAttribute('aria-modal');\r\n    removeClass(viewer, CLASS_FIXED);\r\n    setStyle(viewer, {\r\n      zIndex: options.zIndexInline\r\n    });\r\n    this.viewerData = assign({}, this.parentData);\r\n    this.renderViewer();\r\n    this.renderList();\r\n    if (this.viewed) {\r\n      this.initImage(function () {\r\n        _this10.renderImage(function () {\r\n          if (options.transition) {\r\n            setTimeout(function () {\r\n              addClass(image, CLASS_TRANSITION);\r\n              addClass(list, CLASS_TRANSITION);\r\n            }, 0);\r\n          }\r\n        });\r\n      });\r\n    }\r\n    return this;\r\n  },\r\n  // Show the current ratio of the image with percentage\r\n  tooltip: function tooltip() {\r\n    var _this11 = this;\r\n    var options = this.options,\r\n      tooltipBox = this.tooltipBox,\r\n      imageData = this.imageData;\r\n    if (!this.viewed || this.played || !options.tooltip) {\r\n      return this;\r\n    }\r\n    tooltipBox.textContent = \"\".concat(Math.round(imageData.ratio * 100), \"%\");\r\n    if (!this.tooltipping) {\r\n      if (options.transition) {\r\n        if (this.fading) {\r\n          dispatchEvent(tooltipBox, EVENT_TRANSITION_END);\r\n        }\r\n        addClass(tooltipBox, CLASS_SHOW);\r\n        addClass(tooltipBox, CLASS_FADE);\r\n        addClass(tooltipBox, CLASS_TRANSITION);\r\n        tooltipBox.removeAttribute('aria-hidden');\r\n\r\n        // Force reflow to enable CSS3 transition\r\n        tooltipBox.initialOffsetWidth = tooltipBox.offsetWidth;\r\n        addClass(tooltipBox, CLASS_IN);\r\n      } else {\r\n        addClass(tooltipBox, CLASS_SHOW);\r\n        tooltipBox.removeAttribute('aria-hidden');\r\n      }\r\n    } else {\r\n      clearTimeout(this.tooltipping);\r\n    }\r\n    this.tooltipping = setTimeout(function () {\r\n      if (options.transition) {\r\n        addListener(tooltipBox, EVENT_TRANSITION_END, function () {\r\n          removeClass(tooltipBox, CLASS_SHOW);\r\n          removeClass(tooltipBox, CLASS_FADE);\r\n          removeClass(tooltipBox, CLASS_TRANSITION);\r\n          tooltipBox.setAttribute('aria-hidden', true);\r\n          _this11.fading = false;\r\n        }, {\r\n          once: true\r\n        });\r\n        removeClass(tooltipBox, CLASS_IN);\r\n        _this11.fading = true;\r\n      } else {\r\n        removeClass(tooltipBox, CLASS_SHOW);\r\n        tooltipBox.setAttribute('aria-hidden', true);\r\n      }\r\n      _this11.tooltipping = false;\r\n    }, 1000);\r\n    return this;\r\n  },\r\n  /**\r\n   * Toggle the image size between its current size and natural size\r\n   * @param {Event} [_originalEvent=null] - The original event if any.\r\n   * @returns {Viewer} this\r\n   */\r\n  toggle: function toggle() {\r\n    var _originalEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n    if (this.imageData.ratio === 1) {\r\n      this.zoomTo(this.imageData.oldRatio, true, null, _originalEvent);\r\n    } else {\r\n      this.zoomTo(1, true, null, _originalEvent);\r\n    }\r\n    return this;\r\n  },\r\n  // Reset the image to its initial state\r\n  reset: function reset() {\r\n    if (this.viewed && !this.played) {\r\n      this.imageData = assign({}, this.initialImageData);\r\n      this.renderImage();\r\n    }\r\n    return this;\r\n  },\r\n  // Update viewer when images changed\r\n  update: function update() {\r\n    var _this12 = this;\r\n    var element = this.element,\r\n      options = this.options,\r\n      isImg = this.isImg;\r\n\r\n    // Destroy viewer if the target image was deleted\r\n    if (isImg && !element.parentNode) {\r\n      return this.destroy();\r\n    }\r\n    var images = [];\r\n    forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\r\n      if (isFunction(options.filter)) {\r\n        if (options.filter.call(_this12, image)) {\r\n          images.push(image);\r\n        }\r\n      } else if (_this12.getImageURL(image)) {\r\n        images.push(image);\r\n      }\r\n    });\r\n    if (!images.length) {\r\n      return this;\r\n    }\r\n    this.images = images;\r\n    this.length = images.length;\r\n    if (this.ready) {\r\n      var changedIndexes = [];\r\n      forEach(this.items, function (item, i) {\r\n        var img = item.querySelector('img');\r\n        var image = images[i];\r\n        if (image && img) {\r\n          if (image.src !== img.src\r\n\r\n          // Title changed (#408)\r\n          || image.alt !== img.alt) {\r\n            changedIndexes.push(i);\r\n          }\r\n        } else {\r\n          changedIndexes.push(i);\r\n        }\r\n      });\r\n      setStyle(this.list, {\r\n        width: 'auto'\r\n      });\r\n      this.initList();\r\n      if (this.isShown) {\r\n        if (this.length) {\r\n          if (this.viewed) {\r\n            var changedIndex = changedIndexes.indexOf(this.index);\r\n            if (changedIndex >= 0) {\r\n              this.viewed = false;\r\n              this.view(Math.max(Math.min(this.index - changedIndex, this.length - 1), 0));\r\n            } else {\r\n              var activeItem = this.items[this.index];\r\n\r\n              // Reactivate the current viewing item after reset the list.\r\n              addClass(activeItem, CLASS_ACTIVE);\r\n              activeItem.setAttribute('aria-selected', true);\r\n            }\r\n          }\r\n        } else {\r\n          this.image = null;\r\n          this.viewed = false;\r\n          this.index = 0;\r\n          this.imageData = {};\r\n          this.canvas.innerHTML = '';\r\n          this.title.innerHTML = '';\r\n        }\r\n      }\r\n    } else {\r\n      this.build();\r\n    }\r\n    return this;\r\n  },\r\n  // Destroy the viewer\r\n  destroy: function destroy() {\r\n    var element = this.element,\r\n      options = this.options;\r\n    if (!element[NAMESPACE]) {\r\n      return this;\r\n    }\r\n    this.destroyed = true;\r\n    if (this.ready) {\r\n      if (this.played) {\r\n        this.stop();\r\n      }\r\n      if (options.inline) {\r\n        if (this.fulled) {\r\n          this.exit();\r\n        }\r\n        this.unbind();\r\n      } else if (this.isShown) {\r\n        if (this.viewing) {\r\n          if (this.imageRendering) {\r\n            this.imageRendering.abort();\r\n          } else if (this.imageInitializing) {\r\n            this.imageInitializing.abort();\r\n          }\r\n        }\r\n        if (this.hiding) {\r\n          this.transitioning.abort();\r\n        }\r\n        this.hidden();\r\n      } else if (this.showing) {\r\n        this.transitioning.abort();\r\n        this.hidden();\r\n      }\r\n      this.ready = false;\r\n      this.viewer.parentNode.removeChild(this.viewer);\r\n    } else if (options.inline) {\r\n      if (this.delaying) {\r\n        this.delaying.abort();\r\n      } else if (this.initializing) {\r\n        this.initializing.abort();\r\n      }\r\n    }\r\n    if (!options.inline) {\r\n      removeListener(element, EVENT_CLICK, this.onStart);\r\n    }\r\n    element[NAMESPACE] = undefined;\r\n    return this;\r\n  }\r\n};\r\n\r\nvar others = {\r\n  getImageURL: function getImageURL(image) {\r\n    var url = this.options.url;\r\n    if (isString(url)) {\r\n      url = image.getAttribute(url);\r\n    } else if (isFunction(url)) {\r\n      url = url.call(this, image);\r\n    } else {\r\n      url = '';\r\n    }\r\n    return url;\r\n  },\r\n  enforceFocus: function enforceFocus() {\r\n    var _this = this;\r\n    this.clearEnforceFocus();\r\n    addListener(document, EVENT_FOCUSIN, this.onFocusin = function (event) {\r\n      var viewer = _this.viewer;\r\n      var target = event.target;\r\n      if (target === document || target === viewer || viewer.contains(target)) {\r\n        return;\r\n      }\r\n      while (target) {\r\n        // Avoid conflicts with other modals (#474, #540)\r\n        if (target.getAttribute('tabindex') !== null || target.getAttribute('aria-modal') === 'true') {\r\n          return;\r\n        }\r\n        target = target.parentElement;\r\n      }\r\n      viewer.focus();\r\n    });\r\n  },\r\n  clearEnforceFocus: function clearEnforceFocus() {\r\n    if (this.onFocusin) {\r\n      removeListener(document, EVENT_FOCUSIN, this.onFocusin);\r\n      this.onFocusin = null;\r\n    }\r\n  },\r\n  open: function open() {\r\n    var body = this.body;\r\n    addClass(body, CLASS_OPEN);\r\n    if (this.scrollbarWidth > 0) {\r\n      body.style.paddingRight = \"\".concat(this.scrollbarWidth + (parseFloat(this.initialBodyComputedPaddingRight) || 0), \"px\");\r\n    }\r\n  },\r\n  close: function close() {\r\n    var body = this.body;\r\n    removeClass(body, CLASS_OPEN);\r\n    if (this.scrollbarWidth > 0) {\r\n      body.style.paddingRight = this.initialBodyPaddingRight;\r\n    }\r\n  },\r\n  shown: function shown() {\r\n    var element = this.element,\r\n      options = this.options,\r\n      viewer = this.viewer;\r\n    this.fulled = true;\r\n    this.isShown = true;\r\n    this.render();\r\n    this.bind();\r\n    this.showing = false;\r\n    if (options.focus) {\r\n      viewer.focus();\r\n      this.enforceFocus();\r\n    }\r\n    if (isFunction(options.shown)) {\r\n      addListener(element, EVENT_SHOWN, options.shown, {\r\n        once: true\r\n      });\r\n    }\r\n    if (dispatchEvent(element, EVENT_SHOWN) === false) {\r\n      return;\r\n    }\r\n    if (this.ready && this.isShown && !this.hiding) {\r\n      this.view(this.index);\r\n    }\r\n  },\r\n  hidden: function hidden() {\r\n    var element = this.element,\r\n      options = this.options,\r\n      viewer = this.viewer;\r\n    if (options.fucus) {\r\n      this.clearEnforceFocus();\r\n    }\r\n    this.fulled = false;\r\n    this.viewed = false;\r\n    this.isShown = false;\r\n    this.close();\r\n    this.unbind();\r\n    addClass(viewer, CLASS_HIDE);\r\n    viewer.removeAttribute('role');\r\n    viewer.removeAttribute('aria-labelledby');\r\n    viewer.removeAttribute('aria-modal');\r\n    viewer.setAttribute('aria-hidden', true);\r\n    this.resetList();\r\n    this.resetImage();\r\n    this.hiding = false;\r\n    if (!this.destroyed) {\r\n      if (isFunction(options.hidden)) {\r\n        addListener(element, EVENT_HIDDEN, options.hidden, {\r\n          once: true\r\n        });\r\n      }\r\n      dispatchEvent(element, EVENT_HIDDEN, null, {\r\n        cancelable: false\r\n      });\r\n    }\r\n  },\r\n  requestFullscreen: function requestFullscreen(options) {\r\n    var document = this.element.ownerDocument;\r\n    if (this.fulled && !(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\r\n      var documentElement = document.documentElement;\r\n\r\n      // Element.requestFullscreen()\r\n      if (documentElement.requestFullscreen) {\r\n        // Avoid TypeError when convert `options` to dictionary\r\n        if (isPlainObject(options)) {\r\n          documentElement.requestFullscreen(options);\r\n        } else {\r\n          documentElement.requestFullscreen();\r\n        }\r\n      } else if (documentElement.webkitRequestFullscreen) {\r\n        documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\r\n      } else if (documentElement.mozRequestFullScreen) {\r\n        documentElement.mozRequestFullScreen();\r\n      } else if (documentElement.msRequestFullscreen) {\r\n        documentElement.msRequestFullscreen();\r\n      }\r\n    }\r\n  },\r\n  exitFullscreen: function exitFullscreen() {\r\n    var document = this.element.ownerDocument;\r\n    if (this.fulled && (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)) {\r\n      // Document.exitFullscreen()\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n      } else if (document.webkitExitFullscreen) {\r\n        document.webkitExitFullscreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n      } else if (document.msExitFullscreen) {\r\n        document.msExitFullscreen();\r\n      }\r\n    }\r\n  },\r\n  change: function change(event) {\r\n    var options = this.options,\r\n      pointers = this.pointers;\r\n    var pointer = pointers[Object.keys(pointers)[0]];\r\n\r\n    // In the case of the `pointers` object is empty (#421)\r\n    if (!pointer) {\r\n      return;\r\n    }\r\n    var offsetX = pointer.endX - pointer.startX;\r\n    var offsetY = pointer.endY - pointer.startY;\r\n    switch (this.action) {\r\n      // Move the current image\r\n      case ACTION_MOVE:\r\n        if (offsetX !== 0 || offsetY !== 0) {\r\n          this.pointerMoved = true;\r\n          this.move(offsetX, offsetY, event);\r\n        }\r\n        break;\r\n\r\n      // Zoom the current image\r\n      case ACTION_ZOOM:\r\n        this.zoom(getMaxZoomRatio(pointers), false, null, event);\r\n        break;\r\n      case ACTION_SWITCH:\r\n        {\r\n          this.action = 'switched';\r\n          var absoluteOffsetX = Math.abs(offsetX);\r\n          if (absoluteOffsetX > 1 && absoluteOffsetX > Math.abs(offsetY)) {\r\n            // Empty `pointers` as `touchend` event will not be fired after swiped in iOS browsers.\r\n            this.pointers = {};\r\n            if (offsetX > 1) {\r\n              this.prev(options.loop);\r\n            } else if (offsetX < -1) {\r\n              this.next(options.loop);\r\n            }\r\n          }\r\n          break;\r\n        }\r\n    }\r\n\r\n    // Override\r\n    forEach(pointers, function (p) {\r\n      p.startX = p.endX;\r\n      p.startY = p.endY;\r\n    });\r\n  },\r\n  isSwitchable: function isSwitchable() {\r\n    var imageData = this.imageData,\r\n      viewerData = this.viewerData;\r\n    return this.length > 1 && imageData.x >= 0 && imageData.y >= 0 && imageData.width <= viewerData.width && imageData.height <= viewerData.height;\r\n  }\r\n};\r\n\r\nvar AnotherViewer = WINDOW.Viewer;\r\nvar getUniqueID = function (id) {\r\n  return function () {\r\n    id += 1;\r\n    return id;\r\n  };\r\n}(-1);\r\nvar Viewer = /*#__PURE__*/function () {\r\n  /**\r\n   * Create a new Viewer.\r\n   * @param {Element} element - The target element for viewing.\r\n   * @param {Object} [options={}] - The configuration options.\r\n   */\r\n  function Viewer(element) {\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    _classCallCheck(this, Viewer);\r\n    if (!element || element.nodeType !== 1) {\r\n      throw new Error('The first argument is required and must be an element.');\r\n    }\r\n    this.element = element;\r\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\r\n    this.action = false;\r\n    this.fading = false;\r\n    this.fulled = false;\r\n    this.hiding = false;\r\n    this.imageClicked = false;\r\n    this.imageData = {};\r\n    this.index = this.options.initialViewIndex;\r\n    this.isImg = false;\r\n    this.isShown = false;\r\n    this.length = 0;\r\n    this.moving = false;\r\n    this.played = false;\r\n    this.playing = false;\r\n    this.pointers = {};\r\n    this.ready = false;\r\n    this.rotating = false;\r\n    this.scaling = false;\r\n    this.showing = false;\r\n    this.timeout = false;\r\n    this.tooltipping = false;\r\n    this.viewed = false;\r\n    this.viewing = false;\r\n    this.wheeling = false;\r\n    this.zooming = false;\r\n    this.pointerMoved = false;\r\n    this.id = getUniqueID();\r\n    this.init();\r\n  }\r\n  _createClass(Viewer, [{\r\n    key: \"init\",\r\n    value: function init() {\r\n      var _this = this;\r\n      var element = this.element,\r\n        options = this.options;\r\n      if (element[NAMESPACE]) {\r\n        return;\r\n      }\r\n      element[NAMESPACE] = this;\r\n\r\n      // The `focus` option requires the `keyboard` option set to `true`.\r\n      if (options.focus && !options.keyboard) {\r\n        options.focus = false;\r\n      }\r\n      var isImg = element.localName === 'img';\r\n      var images = [];\r\n      forEach(isImg ? [element] : element.querySelectorAll('img'), function (image) {\r\n        if (isFunction(options.filter)) {\r\n          if (options.filter.call(_this, image)) {\r\n            images.push(image);\r\n          }\r\n        } else if (_this.getImageURL(image)) {\r\n          images.push(image);\r\n        }\r\n      });\r\n      this.isImg = isImg;\r\n      this.length = images.length;\r\n      this.images = images;\r\n      this.initBody();\r\n\r\n      // Override `transition` option if it is not supported\r\n      if (isUndefined(document.createElement(NAMESPACE).style.transition)) {\r\n        options.transition = false;\r\n      }\r\n      if (options.inline) {\r\n        var count = 0;\r\n        var progress = function progress() {\r\n          count += 1;\r\n          if (count === _this.length) {\r\n            var timeout;\r\n            _this.initializing = false;\r\n            _this.delaying = {\r\n              abort: function abort() {\r\n                clearTimeout(timeout);\r\n              }\r\n            };\r\n\r\n            // build asynchronously to keep `this.viewer` is accessible in `ready` event handler.\r\n            timeout = setTimeout(function () {\r\n              _this.delaying = false;\r\n              _this.build();\r\n            }, 0);\r\n          }\r\n        };\r\n        this.initializing = {\r\n          abort: function abort() {\r\n            forEach(images, function (image) {\r\n              if (!image.complete) {\r\n                removeListener(image, EVENT_LOAD, progress);\r\n                removeListener(image, EVENT_ERROR, progress);\r\n              }\r\n            });\r\n          }\r\n        };\r\n        forEach(images, function (image) {\r\n          if (image.complete) {\r\n            progress();\r\n          } else {\r\n            var onLoad;\r\n            var onError;\r\n            addListener(image, EVENT_LOAD, onLoad = function onLoad() {\r\n              removeListener(image, EVENT_ERROR, onError);\r\n              progress();\r\n            }, {\r\n              once: true\r\n            });\r\n            addListener(image, EVENT_ERROR, onError = function onError() {\r\n              removeListener(image, EVENT_LOAD, onLoad);\r\n              progress();\r\n            }, {\r\n              once: true\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        addListener(element, EVENT_CLICK, this.onStart = function (_ref) {\r\n          var target = _ref.target;\r\n          if (target.localName === 'img' && (!isFunction(options.filter) || options.filter.call(_this, target))) {\r\n            _this.view(_this.images.indexOf(target));\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"build\",\r\n    value: function build() {\r\n      if (this.ready) {\r\n        return;\r\n      }\r\n      var element = this.element,\r\n        options = this.options;\r\n      var parent = element.parentNode;\r\n      var template = document.createElement('div');\r\n      template.innerHTML = TEMPLATE;\r\n      var viewer = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\r\n      var title = viewer.querySelector(\".\".concat(NAMESPACE, \"-title\"));\r\n      var toolbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-toolbar\"));\r\n      var navbar = viewer.querySelector(\".\".concat(NAMESPACE, \"-navbar\"));\r\n      var button = viewer.querySelector(\".\".concat(NAMESPACE, \"-button\"));\r\n      var canvas = viewer.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\r\n      this.parent = parent;\r\n      this.viewer = viewer;\r\n      this.title = title;\r\n      this.toolbar = toolbar;\r\n      this.navbar = navbar;\r\n      this.button = button;\r\n      this.canvas = canvas;\r\n      this.footer = viewer.querySelector(\".\".concat(NAMESPACE, \"-footer\"));\r\n      this.tooltipBox = viewer.querySelector(\".\".concat(NAMESPACE, \"-tooltip\"));\r\n      this.player = viewer.querySelector(\".\".concat(NAMESPACE, \"-player\"));\r\n      this.list = viewer.querySelector(\".\".concat(NAMESPACE, \"-list\"));\r\n      viewer.id = \"\".concat(NAMESPACE).concat(this.id);\r\n      title.id = \"\".concat(NAMESPACE, \"Title\").concat(this.id);\r\n      addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(Array.isArray(options.title) ? options.title[0] : options.title));\r\n      addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));\r\n      toggleClass(button, CLASS_HIDE, !options.button);\r\n      if (options.keyboard) {\r\n        button.setAttribute('tabindex', 0);\r\n      }\r\n      if (options.backdrop) {\r\n        addClass(viewer, \"\".concat(NAMESPACE, \"-backdrop\"));\r\n        if (!options.inline && options.backdrop !== 'static') {\r\n          setData(canvas, DATA_ACTION, 'hide');\r\n        }\r\n      }\r\n      if (isString(options.className) && options.className) {\r\n        // In case there are multiple class names\r\n        options.className.split(REGEXP_SPACES).forEach(function (className) {\r\n          addClass(viewer, className);\r\n        });\r\n      }\r\n      if (options.toolbar) {\r\n        var list = document.createElement('ul');\r\n        var custom = isPlainObject(options.toolbar);\r\n        var zoomButtons = BUTTONS.slice(0, 3);\r\n        var rotateButtons = BUTTONS.slice(7, 9);\r\n        var scaleButtons = BUTTONS.slice(9);\r\n        if (!custom) {\r\n          addClass(toolbar, getResponsiveClass(options.toolbar));\r\n        }\r\n        forEach(custom ? options.toolbar : BUTTONS, function (value, index) {\r\n          var deep = custom && isPlainObject(value);\r\n          var name = custom ? hyphenate(index) : value;\r\n          var show = deep && !isUndefined(value.show) ? value.show : value;\r\n          if (!show || !options.zoomable && zoomButtons.indexOf(name) !== -1 || !options.rotatable && rotateButtons.indexOf(name) !== -1 || !options.scalable && scaleButtons.indexOf(name) !== -1) {\r\n            return;\r\n          }\r\n          var size = deep && !isUndefined(value.size) ? value.size : value;\r\n          var click = deep && !isUndefined(value.click) ? value.click : value;\r\n          var item = document.createElement('li');\r\n          if (options.keyboard) {\r\n            item.setAttribute('tabindex', 0);\r\n          }\r\n          item.setAttribute('role', 'button');\r\n          addClass(item, \"\".concat(NAMESPACE, \"-\").concat(name));\r\n          if (!isFunction(click)) {\r\n            setData(item, DATA_ACTION, name);\r\n          }\r\n          if (isNumber(show)) {\r\n            addClass(item, getResponsiveClass(show));\r\n          }\r\n          if (['small', 'large'].indexOf(size) !== -1) {\r\n            addClass(item, \"\".concat(NAMESPACE, \"-\").concat(size));\r\n          } else if (name === 'play') {\r\n            addClass(item, \"\".concat(NAMESPACE, \"-large\"));\r\n          }\r\n          if (isFunction(click)) {\r\n            addListener(item, EVENT_CLICK, click);\r\n          }\r\n          list.appendChild(item);\r\n        });\r\n        toolbar.appendChild(list);\r\n      } else {\r\n        addClass(toolbar, CLASS_HIDE);\r\n      }\r\n      if (!options.rotatable) {\r\n        var rotates = toolbar.querySelectorAll('li[class*=\"rotate\"]');\r\n        addClass(rotates, CLASS_INVISIBLE);\r\n        forEach(rotates, function (rotate) {\r\n          toolbar.appendChild(rotate);\r\n        });\r\n      }\r\n      if (options.inline) {\r\n        addClass(button, CLASS_FULLSCREEN);\r\n        setStyle(viewer, {\r\n          zIndex: options.zIndexInline\r\n        });\r\n        if (window.getComputedStyle(parent).position === 'static') {\r\n          setStyle(parent, {\r\n            position: 'relative'\r\n          });\r\n        }\r\n        parent.insertBefore(viewer, element.nextSibling);\r\n      } else {\r\n        addClass(button, CLASS_CLOSE);\r\n        addClass(viewer, CLASS_FIXED);\r\n        addClass(viewer, CLASS_FADE);\r\n        addClass(viewer, CLASS_HIDE);\r\n        setStyle(viewer, {\r\n          zIndex: options.zIndex\r\n        });\r\n        var container = options.container;\r\n        if (isString(container)) {\r\n          container = element.ownerDocument.querySelector(container);\r\n        }\r\n        if (!container) {\r\n          container = this.body;\r\n        }\r\n        container.appendChild(viewer);\r\n      }\r\n      if (options.inline) {\r\n        this.render();\r\n        this.bind();\r\n        this.isShown = true;\r\n      }\r\n      this.ready = true;\r\n      if (isFunction(options.ready)) {\r\n        addListener(element, EVENT_READY, options.ready, {\r\n          once: true\r\n        });\r\n      }\r\n      if (dispatchEvent(element, EVENT_READY) === false) {\r\n        this.ready = false;\r\n        return;\r\n      }\r\n      if (this.ready && options.inline) {\r\n        this.view(this.index);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Get the no conflict viewer class.\r\n     * @returns {Viewer} The viewer class.\r\n     */\r\n  }], [{\r\n    key: \"noConflict\",\r\n    value: function noConflict() {\r\n      window.Viewer = AnotherViewer;\r\n      return Viewer;\r\n    }\r\n\r\n    /**\r\n     * Change the default options.\r\n     * @param {Object} options - The new default options.\r\n     */\r\n  }, {\r\n    key: \"setDefaults\",\r\n    value: function setDefaults(options) {\r\n      assign(DEFAULTS, isPlainObject(options) && options);\r\n    }\r\n  }]);\r\n  return Viewer;\r\n}();\r\nassign(Viewer.prototype, render, events, handlers, methods, others);\r\n\r\nexport { Viewer as default };\r\n", "/*!\r\n * v-viewer v3.0.11\r\n * https://github.com/mirari/v-viewer#readme\r\n *\r\n * Copyright 2022 mirari\r\n * Released under the MIT license\r\n *\r\n * Date: 2022-10-25T08:49:33.301Z\r\n */\r\nimport Viewer from \"viewerjs\";\r\nexport { default as Viewer } from \"viewerjs\";\r\nimport { h, render, watch, nextTick, defineComponent, ref, onMounted, onUnmounted, openBlock, createElementBlock, renderSlot } from \"vue\";\r\nvar commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\r\nfunction identity$2(value) {\r\n  return value;\r\n}\r\nvar identity_1 = identity$2;\r\nfunction apply$1(func, thisArg, args) {\r\n  switch (args.length) {\r\n    case 0:\r\n      return func.call(thisArg);\r\n    case 1:\r\n      return func.call(thisArg, args[0]);\r\n    case 2:\r\n      return func.call(thisArg, args[0], args[1]);\r\n    case 3:\r\n      return func.call(thisArg, args[0], args[1], args[2]);\r\n  }\r\n  return func.apply(thisArg, args);\r\n}\r\nvar _apply = apply$1;\r\nvar apply = _apply;\r\nvar nativeMax$1 = Math.max;\r\nfunction overRest$1(func, start, transform) {\r\n  start = nativeMax$1(start === void 0 ? func.length - 1 : start, 0);\r\n  return function() {\r\n    var args = arguments, index2 = -1, length = nativeMax$1(args.length - start, 0), array = Array(length);\r\n    while (++index2 < length) {\r\n      array[index2] = args[start + index2];\r\n    }\r\n    index2 = -1;\r\n    var otherArgs = Array(start + 1);\r\n    while (++index2 < start) {\r\n      otherArgs[index2] = args[index2];\r\n    }\r\n    otherArgs[start] = transform(array);\r\n    return apply(func, this, otherArgs);\r\n  };\r\n}\r\nvar _overRest = overRest$1;\r\nfunction constant$1(value) {\r\n  return function() {\r\n    return value;\r\n  };\r\n}\r\nvar constant_1 = constant$1;\r\nvar freeGlobal$1 = typeof commonjsGlobal == \"object\" && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\r\nvar _freeGlobal = freeGlobal$1;\r\nvar freeGlobal = _freeGlobal;\r\nvar freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\r\nvar root$3 = freeGlobal || freeSelf || Function(\"return this\")();\r\nvar _root = root$3;\r\nvar root$2 = _root;\r\nvar Symbol$3 = root$2.Symbol;\r\nvar _Symbol = Symbol$3;\r\nvar Symbol$2 = _Symbol;\r\nvar objectProto$7 = Object.prototype;\r\nvar hasOwnProperty$5 = objectProto$7.hasOwnProperty;\r\nvar nativeObjectToString$1 = objectProto$7.toString;\r\nvar symToStringTag$1 = Symbol$2 ? Symbol$2.toStringTag : void 0;\r\nfunction getRawTag$1(value) {\r\n  var isOwn = hasOwnProperty$5.call(value, symToStringTag$1), tag = value[symToStringTag$1];\r\n  try {\r\n    value[symToStringTag$1] = void 0;\r\n    var unmasked = true;\r\n  } catch (e) {\r\n  }\r\n  var result = nativeObjectToString$1.call(value);\r\n  if (unmasked) {\r\n    if (isOwn) {\r\n      value[symToStringTag$1] = tag;\r\n    } else {\r\n      delete value[symToStringTag$1];\r\n    }\r\n  }\r\n  return result;\r\n}\r\nvar _getRawTag = getRawTag$1;\r\nvar objectProto$6 = Object.prototype;\r\nvar nativeObjectToString = objectProto$6.toString;\r\nfunction objectToString$1(value) {\r\n  return nativeObjectToString.call(value);\r\n}\r\nvar _objectToString = objectToString$1;\r\nvar Symbol$1 = _Symbol, getRawTag = _getRawTag, objectToString = _objectToString;\r\nvar nullTag = \"[object Null]\", undefinedTag = \"[object Undefined]\";\r\nvar symToStringTag = Symbol$1 ? Symbol$1.toStringTag : void 0;\r\nfunction baseGetTag$4(value) {\r\n  if (value == null) {\r\n    return value === void 0 ? undefinedTag : nullTag;\r\n  }\r\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\r\n}\r\nvar _baseGetTag = baseGetTag$4;\r\nfunction isObject$7(value) {\r\n  var type = typeof value;\r\n  return value != null && (type == \"object\" || type == \"function\");\r\n}\r\nvar isObject_1 = isObject$7;\r\nvar baseGetTag$3 = _baseGetTag, isObject$6 = isObject_1;\r\nvar asyncTag = \"[object AsyncFunction]\", funcTag$1 = \"[object Function]\", genTag = \"[object GeneratorFunction]\", proxyTag = \"[object Proxy]\";\r\nfunction isFunction$2(value) {\r\n  if (!isObject$6(value)) {\r\n    return false;\r\n  }\r\n  var tag = baseGetTag$3(value);\r\n  return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;\r\n}\r\nvar isFunction_1 = isFunction$2;\r\nvar root$1 = _root;\r\nvar coreJsData$1 = root$1[\"__core-js_shared__\"];\r\nvar _coreJsData = coreJsData$1;\r\nvar coreJsData = _coreJsData;\r\nvar maskSrcKey = function() {\r\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || \"\");\r\n  return uid ? \"Symbol(src)_1.\" + uid : \"\";\r\n}();\r\nfunction isMasked$1(func) {\r\n  return !!maskSrcKey && maskSrcKey in func;\r\n}\r\nvar _isMasked = isMasked$1;\r\nvar funcProto$1 = Function.prototype;\r\nvar funcToString$1 = funcProto$1.toString;\r\nfunction toSource$1(func) {\r\n  if (func != null) {\r\n    try {\r\n      return funcToString$1.call(func);\r\n    } catch (e) {\r\n    }\r\n    try {\r\n      return func + \"\";\r\n    } catch (e) {\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\nvar _toSource = toSource$1;\r\nvar isFunction$1 = isFunction_1, isMasked = _isMasked, isObject$5 = isObject_1, toSource = _toSource;\r\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\r\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\r\nvar funcProto = Function.prototype, objectProto$5 = Object.prototype;\r\nvar funcToString = funcProto.toString;\r\nvar hasOwnProperty$4 = objectProto$5.hasOwnProperty;\r\nvar reIsNative = RegExp(\"^\" + funcToString.call(hasOwnProperty$4).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\");\r\nfunction baseIsNative$1(value) {\r\n  if (!isObject$5(value) || isMasked(value)) {\r\n    return false;\r\n  }\r\n  var pattern = isFunction$1(value) ? reIsNative : reIsHostCtor;\r\n  return pattern.test(toSource(value));\r\n}\r\nvar _baseIsNative = baseIsNative$1;\r\nfunction getValue$1(object, key) {\r\n  return object == null ? void 0 : object[key];\r\n}\r\nvar _getValue = getValue$1;\r\nvar baseIsNative = _baseIsNative, getValue = _getValue;\r\nfunction getNative$1(object, key) {\r\n  var value = getValue(object, key);\r\n  return baseIsNative(value) ? value : void 0;\r\n}\r\nvar _getNative = getNative$1;\r\nvar getNative = _getNative;\r\nvar defineProperty$1 = function() {\r\n  try {\r\n    var func = getNative(Object, \"defineProperty\");\r\n    func({}, \"\", {});\r\n    return func;\r\n  } catch (e) {\r\n  }\r\n}();\r\nvar _defineProperty = defineProperty$1;\r\nvar constant = constant_1, defineProperty = _defineProperty, identity$1 = identity_1;\r\nvar baseSetToString$1 = !defineProperty ? identity$1 : function(func, string) {\r\n  return defineProperty(func, \"toString\", {\r\n    \"configurable\": true,\r\n    \"enumerable\": false,\r\n    \"value\": constant(string),\r\n    \"writable\": true\r\n  });\r\n};\r\nvar _baseSetToString = baseSetToString$1;\r\nvar HOT_COUNT = 800, HOT_SPAN = 16;\r\nvar nativeNow = Date.now;\r\nfunction shortOut$1(func) {\r\n  var count = 0, lastCalled = 0;\r\n  return function() {\r\n    var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\r\n    lastCalled = stamp;\r\n    if (remaining > 0) {\r\n      if (++count >= HOT_COUNT) {\r\n        return arguments[0];\r\n      }\r\n    } else {\r\n      count = 0;\r\n    }\r\n    return func.apply(void 0, arguments);\r\n  };\r\n}\r\nvar _shortOut = shortOut$1;\r\nvar baseSetToString = _baseSetToString, shortOut = _shortOut;\r\nvar setToString$1 = shortOut(baseSetToString);\r\nvar _setToString = setToString$1;\r\nvar identity = identity_1, overRest = _overRest, setToString = _setToString;\r\nfunction baseRest$1(func, start) {\r\n  return setToString(overRest(func, start, identity), func + \"\");\r\n}\r\nvar _baseRest = baseRest$1;\r\nfunction eq$2(value, other) {\r\n  return value === other || value !== value && other !== other;\r\n}\r\nvar eq_1 = eq$2;\r\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\r\nfunction isLength$2(value) {\r\n  return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER$1;\r\n}\r\nvar isLength_1 = isLength$2;\r\nvar isFunction = isFunction_1, isLength$1 = isLength_1;\r\nfunction isArrayLike$2(value) {\r\n  return value != null && isLength$1(value.length) && !isFunction(value);\r\n}\r\nvar isArrayLike_1 = isArrayLike$2;\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\r\nfunction isIndex$2(value, length) {\r\n  var type = typeof value;\r\n  length = length == null ? MAX_SAFE_INTEGER : length;\r\n  return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);\r\n}\r\nvar _isIndex = isIndex$2;\r\nvar eq$1 = eq_1, isArrayLike$1 = isArrayLike_1, isIndex$1 = _isIndex, isObject$4 = isObject_1;\r\nfunction isIterateeCall$1(value, index2, object) {\r\n  if (!isObject$4(object)) {\r\n    return false;\r\n  }\r\n  var type = typeof index2;\r\n  if (type == \"number\" ? isArrayLike$1(object) && isIndex$1(index2, object.length) : type == \"string\" && index2 in object) {\r\n    return eq$1(object[index2], value);\r\n  }\r\n  return false;\r\n}\r\nvar _isIterateeCall = isIterateeCall$1;\r\nfunction baseTimes$1(n, iteratee) {\r\n  var index2 = -1, result = Array(n);\r\n  while (++index2 < n) {\r\n    result[index2] = iteratee(index2);\r\n  }\r\n  return result;\r\n}\r\nvar _baseTimes = baseTimes$1;\r\nfunction isObjectLike$4(value) {\r\n  return value != null && typeof value == \"object\";\r\n}\r\nvar isObjectLike_1 = isObjectLike$4;\r\nvar baseGetTag$2 = _baseGetTag, isObjectLike$3 = isObjectLike_1;\r\nvar argsTag$1 = \"[object Arguments]\";\r\nfunction baseIsArguments$1(value) {\r\n  return isObjectLike$3(value) && baseGetTag$2(value) == argsTag$1;\r\n}\r\nvar _baseIsArguments = baseIsArguments$1;\r\nvar baseIsArguments = _baseIsArguments, isObjectLike$2 = isObjectLike_1;\r\nvar objectProto$4 = Object.prototype;\r\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\r\nvar propertyIsEnumerable = objectProto$4.propertyIsEnumerable;\r\nvar isArguments$1 = baseIsArguments(function() {\r\n  return arguments;\r\n}()) ? baseIsArguments : function(value) {\r\n  return isObjectLike$2(value) && hasOwnProperty$3.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\r\n};\r\nvar isArguments_1 = isArguments$1;\r\nvar isArray$1 = Array.isArray;\r\nvar isArray_1 = isArray$1;\r\nvar isBuffer$1 = { exports: {} };\r\nfunction stubFalse() {\r\n  return false;\r\n}\r\nvar stubFalse_1 = stubFalse;\r\n(function(module, exports) {\r\n  var root2 = _root, stubFalse2 = stubFalse_1;\r\n  var freeExports = exports && !exports.nodeType && exports;\r\n  var freeModule = freeExports && true && module && !module.nodeType && module;\r\n  var moduleExports = freeModule && freeModule.exports === freeExports;\r\n  var Buffer = moduleExports ? root2.Buffer : void 0;\r\n  var nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;\r\n  var isBuffer2 = nativeIsBuffer || stubFalse2;\r\n  module.exports = isBuffer2;\r\n})(isBuffer$1, isBuffer$1.exports);\r\nvar baseGetTag$1 = _baseGetTag, isLength = isLength_1, isObjectLike$1 = isObjectLike_1;\r\nvar argsTag = \"[object Arguments]\", arrayTag = \"[object Array]\", boolTag = \"[object Boolean]\", dateTag = \"[object Date]\", errorTag = \"[object Error]\", funcTag = \"[object Function]\", mapTag = \"[object Map]\", numberTag = \"[object Number]\", objectTag = \"[object Object]\", regexpTag = \"[object RegExp]\", setTag = \"[object Set]\", stringTag = \"[object String]\", weakMapTag = \"[object WeakMap]\";\r\nvar arrayBufferTag = \"[object ArrayBuffer]\", dataViewTag = \"[object DataView]\", float32Tag = \"[object Float32Array]\", float64Tag = \"[object Float64Array]\", int8Tag = \"[object Int8Array]\", int16Tag = \"[object Int16Array]\", int32Tag = \"[object Int32Array]\", uint8Tag = \"[object Uint8Array]\", uint8ClampedTag = \"[object Uint8ClampedArray]\", uint16Tag = \"[object Uint16Array]\", uint32Tag = \"[object Uint32Array]\";\r\nvar typedArrayTags = {};\r\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\r\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\r\nfunction baseIsTypedArray$1(value) {\r\n  return isObjectLike$1(value) && isLength(value.length) && !!typedArrayTags[baseGetTag$1(value)];\r\n}\r\nvar _baseIsTypedArray = baseIsTypedArray$1;\r\nfunction baseUnary$1(func) {\r\n  return function(value) {\r\n    return func(value);\r\n  };\r\n}\r\nvar _baseUnary = baseUnary$1;\r\nvar _nodeUtil = { exports: {} };\r\n(function(module, exports) {\r\n  var freeGlobal2 = _freeGlobal;\r\n  var freeExports = exports && !exports.nodeType && exports;\r\n  var freeModule = freeExports && true && module && !module.nodeType && module;\r\n  var moduleExports = freeModule && freeModule.exports === freeExports;\r\n  var freeProcess = moduleExports && freeGlobal2.process;\r\n  var nodeUtil2 = function() {\r\n    try {\r\n      var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\r\n      if (types) {\r\n        return types;\r\n      }\r\n      return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\r\n    } catch (e) {\r\n    }\r\n  }();\r\n  module.exports = nodeUtil2;\r\n})(_nodeUtil, _nodeUtil.exports);\r\nvar baseIsTypedArray = _baseIsTypedArray, baseUnary = _baseUnary, nodeUtil = _nodeUtil.exports;\r\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\r\nvar isTypedArray$1 = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\r\nvar isTypedArray_1 = isTypedArray$1;\r\nvar baseTimes = _baseTimes, isArguments = isArguments_1, isArray = isArray_1, isBuffer = isBuffer$1.exports, isIndex = _isIndex, isTypedArray = isTypedArray_1;\r\nvar objectProto$3 = Object.prototype;\r\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\r\nfunction arrayLikeKeys$1(value, inherited) {\r\n  var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\r\n  for (var key in value) {\r\n    if ((inherited || hasOwnProperty$2.call(value, key)) && !(skipIndexes && (key == \"length\" || isBuff && (key == \"offset\" || key == \"parent\") || isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || isIndex(key, length)))) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nvar _arrayLikeKeys = arrayLikeKeys$1;\r\nvar objectProto$2 = Object.prototype;\r\nfunction isPrototype$1(value) {\r\n  var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto$2;\r\n  return value === proto;\r\n}\r\nvar _isPrototype = isPrototype$1;\r\nfunction nativeKeysIn$1(object) {\r\n  var result = [];\r\n  if (object != null) {\r\n    for (var key in Object(object)) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nvar _nativeKeysIn = nativeKeysIn$1;\r\nvar isObject$3 = isObject_1, isPrototype = _isPrototype, nativeKeysIn = _nativeKeysIn;\r\nvar objectProto$1 = Object.prototype;\r\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\r\nfunction baseKeysIn$1(object) {\r\n  if (!isObject$3(object)) {\r\n    return nativeKeysIn(object);\r\n  }\r\n  var isProto = isPrototype(object), result = [];\r\n  for (var key in object) {\r\n    if (!(key == \"constructor\" && (isProto || !hasOwnProperty$1.call(object, key)))) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\nvar _baseKeysIn = baseKeysIn$1;\r\nvar arrayLikeKeys = _arrayLikeKeys, baseKeysIn = _baseKeysIn, isArrayLike = isArrayLike_1;\r\nfunction keysIn$1(object) {\r\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\r\n}\r\nvar keysIn_1 = keysIn$1;\r\nvar baseRest = _baseRest, eq = eq_1, isIterateeCall = _isIterateeCall, keysIn = keysIn_1;\r\nvar objectProto = Object.prototype;\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\nvar defaults = baseRest(function(object, sources) {\r\n  object = Object(object);\r\n  var index2 = -1;\r\n  var length = sources.length;\r\n  var guard = length > 2 ? sources[2] : void 0;\r\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\r\n    length = 1;\r\n  }\r\n  while (++index2 < length) {\r\n    var source = sources[index2];\r\n    var props = keysIn(source);\r\n    var propsIndex = -1;\r\n    var propsLength = props.length;\r\n    while (++propsIndex < propsLength) {\r\n      var key = props[propsIndex];\r\n      var value = object[key];\r\n      if (value === void 0 || eq(value, objectProto[key]) && !hasOwnProperty.call(object, key)) {\r\n        object[key] = source[key];\r\n      }\r\n    }\r\n  }\r\n  return object;\r\n});\r\nvar defaults_1 = defaults;\r\nconst inBrowser = typeof window !== \"undefined\" && window !== null;\r\ncheckIntersectionObserver();\r\nconst isEnumerable = Object.prototype.propertyIsEnumerable;\r\nconst getSymbols = Object.getOwnPropertySymbols;\r\nfunction isObject$2(val) {\r\n  return typeof val === \"function\" || toString.call(val) === \"[object Object]\";\r\n}\r\nfunction isPrimitive(val) {\r\n  return typeof val === \"object\" ? val === null : typeof val !== \"function\";\r\n}\r\nfunction isValidKey(key) {\r\n  return key !== \"__proto__\" && key !== \"constructor\" && key !== \"prototype\";\r\n}\r\nfunction checkIntersectionObserver() {\r\n  if (inBrowser && \"IntersectionObserver\" in window && \"IntersectionObserverEntry\" in window && \"intersectionRatio\" in window.IntersectionObserverEntry.prototype) {\r\n    if (!(\"isIntersecting\" in window.IntersectionObserverEntry.prototype)) {\r\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, \"isIntersecting\", {\r\n        get() {\r\n          return this.intersectionRatio > 0;\r\n        }\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\nfunction assignSymbols(target, ...args) {\r\n  if (!isObject$2(target)) {\r\n    throw new TypeError(\"expected the first argument to be an object\");\r\n  }\r\n  if (args.length === 0 || typeof Symbol !== \"function\" || typeof getSymbols !== \"function\") {\r\n    return target;\r\n  }\r\n  for (const arg of args) {\r\n    const names = getSymbols(arg);\r\n    for (const key of names) {\r\n      if (isEnumerable.call(arg, key)) {\r\n        target[key] = arg[key];\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction assign(target, ...args) {\r\n  let i = 0;\r\n  if (isPrimitive(target))\r\n    target = args[i++];\r\n  if (!target)\r\n    target = {};\r\n  for (; i < args.length; i++) {\r\n    if (isObject$2(args[i])) {\r\n      for (const key of Object.keys(args[i])) {\r\n        if (isValidKey(key)) {\r\n          if (isObject$2(target[key]) && isObject$2(args[i][key])) {\r\n            assign(target[key], args[i][key]);\r\n          } else {\r\n            target[key] = args[i][key];\r\n          }\r\n        }\r\n      }\r\n      assignSymbols(target, args[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\nconst api = ({ images = [], options }) => {\r\n  options = assign(options, {\r\n    inline: false\r\n  });\r\n  const token = document.createElement(\"div\");\r\n  const ViewerToken = h(\"div\", {\r\n    style: {\r\n      display: \"none\"\r\n    },\r\n    class: [\"__viewer-token\"]\r\n  }, images.map((attr) => {\r\n    return h(\"img\", typeof attr === \"string\" ? { src: attr } : attr);\r\n  }));\r\n  render(ViewerToken, token);\r\n  const tokenElement = token.firstElementChild;\r\n  document.body.appendChild(tokenElement);\r\n  const $viewerJs = new Viewer(tokenElement, options);\r\n  const $destroy = $viewerJs.destroy.bind($viewerJs);\r\n  $viewerJs.destroy = function() {\r\n    $destroy();\r\n    render(null, token);\r\n    return $viewerJs;\r\n  };\r\n  $viewerJs.show();\r\n  tokenElement.addEventListener(\"hidden\", function() {\r\n    if (this.viewer === $viewerJs) {\r\n      $viewerJs.destroy();\r\n    }\r\n  });\r\n  return $viewerJs;\r\n};\r\nvar root = _root;\r\nvar now$1 = function() {\r\n  return root.Date.now();\r\n};\r\nvar now_1 = now$1;\r\nvar reWhitespace = /\\s/;\r\nfunction trimmedEndIndex$1(string) {\r\n  var index2 = string.length;\r\n  while (index2-- && reWhitespace.test(string.charAt(index2))) {\r\n  }\r\n  return index2;\r\n}\r\nvar _trimmedEndIndex = trimmedEndIndex$1;\r\nvar trimmedEndIndex = _trimmedEndIndex;\r\nvar reTrimStart = /^\\s+/;\r\nfunction baseTrim$1(string) {\r\n  return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \"\") : string;\r\n}\r\nvar _baseTrim = baseTrim$1;\r\nvar baseGetTag = _baseGetTag, isObjectLike = isObjectLike_1;\r\nvar symbolTag = \"[object Symbol]\";\r\nfunction isSymbol$1(value) {\r\n  return typeof value == \"symbol\" || isObjectLike(value) && baseGetTag(value) == symbolTag;\r\n}\r\nvar isSymbol_1 = isSymbol$1;\r\nvar baseTrim = _baseTrim, isObject$1 = isObject_1, isSymbol = isSymbol_1;\r\nvar NAN = 0 / 0;\r\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\r\nvar reIsBinary = /^0b[01]+$/i;\r\nvar reIsOctal = /^0o[0-7]+$/i;\r\nvar freeParseInt = parseInt;\r\nfunction toNumber$1(value) {\r\n  if (typeof value == \"number\") {\r\n    return value;\r\n  }\r\n  if (isSymbol(value)) {\r\n    return NAN;\r\n  }\r\n  if (isObject$1(value)) {\r\n    var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\r\n    value = isObject$1(other) ? other + \"\" : other;\r\n  }\r\n  if (typeof value != \"string\") {\r\n    return value === 0 ? value : +value;\r\n  }\r\n  value = baseTrim(value);\r\n  var isBinary = reIsBinary.test(value);\r\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\r\n}\r\nvar toNumber_1 = toNumber$1;\r\nvar isObject = isObject_1, now = now_1, toNumber = toNumber_1;\r\nvar FUNC_ERROR_TEXT = \"Expected a function\";\r\nvar nativeMax = Math.max, nativeMin = Math.min;\r\nfunction debounce(func, wait, options) {\r\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\r\n  if (typeof func != \"function\") {\r\n    throw new TypeError(FUNC_ERROR_TEXT);\r\n  }\r\n  wait = toNumber(wait) || 0;\r\n  if (isObject(options)) {\r\n    leading = !!options.leading;\r\n    maxing = \"maxWait\" in options;\r\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\r\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\r\n  }\r\n  function invokeFunc(time) {\r\n    var args = lastArgs, thisArg = lastThis;\r\n    lastArgs = lastThis = void 0;\r\n    lastInvokeTime = time;\r\n    result = func.apply(thisArg, args);\r\n    return result;\r\n  }\r\n  function leadingEdge(time) {\r\n    lastInvokeTime = time;\r\n    timerId = setTimeout(timerExpired, wait);\r\n    return leading ? invokeFunc(time) : result;\r\n  }\r\n  function remainingWait(time) {\r\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;\r\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\r\n  }\r\n  function shouldInvoke(time) {\r\n    var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\r\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\r\n  }\r\n  function timerExpired() {\r\n    var time = now();\r\n    if (shouldInvoke(time)) {\r\n      return trailingEdge(time);\r\n    }\r\n    timerId = setTimeout(timerExpired, remainingWait(time));\r\n  }\r\n  function trailingEdge(time) {\r\n    timerId = void 0;\r\n    if (trailing && lastArgs) {\r\n      return invokeFunc(time);\r\n    }\r\n    lastArgs = lastThis = void 0;\r\n    return result;\r\n  }\r\n  function cancel() {\r\n    if (timerId !== void 0) {\r\n      clearTimeout(timerId);\r\n    }\r\n    lastInvokeTime = 0;\r\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\r\n  }\r\n  function flush() {\r\n    return timerId === void 0 ? result : trailingEdge(now());\r\n  }\r\n  function debounced() {\r\n    var time = now(), isInvoking = shouldInvoke(time);\r\n    lastArgs = arguments;\r\n    lastThis = this;\r\n    lastCallTime = time;\r\n    if (isInvoking) {\r\n      if (timerId === void 0) {\r\n        return leadingEdge(lastCallTime);\r\n      }\r\n      if (maxing) {\r\n        clearTimeout(timerId);\r\n        timerId = setTimeout(timerExpired, wait);\r\n        return invokeFunc(lastCallTime);\r\n      }\r\n    }\r\n    if (timerId === void 0) {\r\n      timerId = setTimeout(timerExpired, wait);\r\n    }\r\n    return result;\r\n  }\r\n  debounced.cancel = cancel;\r\n  debounced.flush = flush;\r\n  return debounced;\r\n}\r\nvar debounce_1 = debounce;\r\nconst directive = ({ name = \"viewer\", debug = false } = {}) => {\r\n  async function createViewer(el, options, rebuild = false, observer = false) {\r\n    await nextTick();\r\n    if (observer && !imageDiff(el))\r\n      return;\r\n    if (rebuild || !el[`$${name}`]) {\r\n      destroyViewer(el);\r\n      el[`$${name}`] = new Viewer(el, options);\r\n      log(\"Viewer created\");\r\n    } else {\r\n      el[`$${name}`].update();\r\n      log(\"Viewer updated\");\r\n    }\r\n  }\r\n  function imageDiff(el) {\r\n    const imageContent = el.innerHTML.match(/<img([\\w\\W]+?)[\\\\/]?>/g);\r\n    const viewerImageText = imageContent ? imageContent.join(\"\") : void 0;\r\n    if (el.__viewerImageDiffCache === viewerImageText) {\r\n      log(\"Element change detected, but image(s) has not changed\");\r\n      return false;\r\n    } else {\r\n      log(\"Image change detected\");\r\n      el.__viewerImageDiffCache = viewerImageText;\r\n      return true;\r\n    }\r\n  }\r\n  function createObserver(el, options, debouncedCreateViewer, rebuild) {\r\n    destroyObserver(el);\r\n    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\r\n    if (!MutationObserver) {\r\n      log(\"Observer not supported\");\r\n      return;\r\n    }\r\n    const observer = new MutationObserver((mutations) => {\r\n      mutations.forEach((mutation) => {\r\n        log(`Viewer mutation:${mutation.type}`);\r\n        debouncedCreateViewer(el, options, rebuild, true);\r\n      });\r\n    });\r\n    const config = { attributes: true, childList: true, characterData: true, subtree: true };\r\n    observer.observe(el, config);\r\n    el.__viewerMutationObserver = observer;\r\n    log(\"Observer created\");\r\n  }\r\n  function createWatcher(el, binding, vnode, debouncedCreateViewer) {\r\n    el.__viewerUnwatch = watch(() => binding.value, (newVal, oldVal) => {\r\n      log(\"Change detected by watcher: \", binding.value);\r\n      debouncedCreateViewer(el, newVal, true, false);\r\n    }, { deep: true });\r\n    log(\"Watcher created, expression: \", binding.value);\r\n  }\r\n  function destroyViewer(el) {\r\n    if (!el[`$${name}`]) {\r\n      return;\r\n    }\r\n    el[`$${name}`].destroy();\r\n    delete el[`$${name}`];\r\n    log(\"Viewer destroyed\");\r\n  }\r\n  function destroyObserver(el) {\r\n    if (!el.__viewerMutationObserver) {\r\n      return;\r\n    }\r\n    el.__viewerMutationObserver.disconnect();\r\n    delete el.__viewerMutationObserver;\r\n    log(\"observer destroyed\");\r\n  }\r\n  function destroyWatcher(el) {\r\n    if (!el.__viewerUnwatch) {\r\n      return;\r\n    }\r\n    el.__viewerUnwatch();\r\n    delete el.__viewerUnwatch;\r\n    log(\"Watcher destroyed\");\r\n  }\r\n  function log(...args) {\r\n    debug && console.log(...args);\r\n  }\r\n  const directive2 = {\r\n    mounted(el, binding, vnode) {\r\n      log(\"Viewer bind\");\r\n      const debouncedCreateViewer = debounce_1(createViewer, 50);\r\n      debouncedCreateViewer(el, binding.value);\r\n      createWatcher(el, binding, vnode, debouncedCreateViewer);\r\n      if (!binding.modifiers.static) {\r\n        createObserver(el, binding.value, debouncedCreateViewer, binding.modifiers.rebuild);\r\n      }\r\n    },\r\n    unmounted(el) {\r\n      log(\"Viewer unbind\");\r\n      destroyObserver(el);\r\n      destroyWatcher(el);\r\n      destroyViewer(el);\r\n    }\r\n  };\r\n  return directive2;\r\n};\r\nvar _export_sfc = (sfc, props) => {\r\n  const target = sfc.__vccOpts || sfc;\r\n  for (const [key, val] of props) {\r\n    target[key] = val;\r\n  }\r\n  return target;\r\n};\r\nconst _sfc_main = defineComponent({\r\n  name: \"Viewer\",\r\n  props: {\r\n    images: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    rebuild: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    trigger: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    options: {\r\n      type: Object,\r\n      default: () => null\r\n    }\r\n  },\r\n  emits: [\"inited\"],\r\n  setup(props, { emit }) {\r\n    let $viewer;\r\n    const root2 = ref();\r\n    function createViewer() {\r\n      $viewer = new Viewer(root2.value, props.options);\r\n      emit(\"inited\", $viewer);\r\n    }\r\n    function destroyViewer() {\r\n      $viewer && $viewer.destroy();\r\n    }\r\n    function rebuildViewer() {\r\n      destroyViewer();\r\n      createViewer();\r\n    }\r\n    function updateViewer() {\r\n      if ($viewer) {\r\n        $viewer.update();\r\n        emit(\"inited\", $viewer);\r\n      } else {\r\n        createViewer();\r\n      }\r\n    }\r\n    function changeViewer() {\r\n      if (props.rebuild) {\r\n        rebuildViewer();\r\n      } else {\r\n        updateViewer();\r\n      }\r\n    }\r\n    const options = { deep: true };\r\n    watch(() => props.images, () => nextTick(() => changeViewer()), options);\r\n    watch(() => props.trigger, () => nextTick(() => changeViewer()), options);\r\n    watch(() => props.options, () => nextTick(() => rebuildViewer()), options);\r\n    onMounted(() => createViewer());\r\n    onUnmounted(() => destroyViewer());\r\n    return {\r\n      root: root2,\r\n      createViewer,\r\n      rebuildViewer,\r\n      updateViewer,\r\n      destroyViewer\r\n    };\r\n  }\r\n});\r\nconst _hoisted_1 = { ref: \"root\" };\r\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\r\n  return openBlock(), createElementBlock(\"div\", _hoisted_1, [\r\n    renderSlot(_ctx.$slots, \"default\", {\r\n      images: _ctx.images,\r\n      options: _ctx.options\r\n    })\r\n  ], 512);\r\n}\r\nvar component = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\r\nvar index = {\r\n  install(app, { name = \"viewer\", debug = false, defaultOptions } = {}) {\r\n    if (defaultOptions) {\r\n      Viewer.setDefaults(defaultOptions);\r\n    }\r\n    app.config.globalProperties[`$${name}Api`] = api;\r\n    app.component(name, defaults_1(component, { name }));\r\n    app.directive(name, directive({ name, debug }));\r\n  },\r\n  setDefaults(defaultOptions) {\r\n    Viewer.setDefaults(defaultOptions);\r\n  }\r\n};\r\nexport { api, component, index as default, directive };\r\n"],
  "mappings": "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",
  "names": ["obj", "assign", "listener", "rotate", "scaleX", "scaleY", "render", "index", "onLoad", "onError", "next", "onTransitionEnd", "document", "shown", "hideImmediately", "onViewerTransitionEnd", "onImageTransitionEnd", "onViewed", "prev", "Viewer", "progress", "show", "click", "_defineProperty", "isFunction", "hasOwnProperty", "assign", "isObject"]
}
