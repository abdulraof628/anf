{
  "version": 3,
  "sources": ["../../preline/src/utils/index.ts", "../../preline/src/plugins/base-plugin/index.ts", "../../preline/src/plugins/copy-markup/index.ts", "../../preline/src/plugins/accordion/index.ts", "../../preline/src/plugins/carousel/index.ts", "../../preline/src/plugins/collapse/index.ts", "../../preline/src/constants.ts", "../../preline/src/plugins/combobox/index.ts", "../../@popperjs/core/lib/enums.js", "../../@popperjs/core/lib/dom-utils/getNodeName.js", "../../@popperjs/core/lib/dom-utils/getWindow.js", "../../@popperjs/core/lib/dom-utils/instanceOf.js", "../../@popperjs/core/lib/modifiers/applyStyles.js", "../../@popperjs/core/lib/utils/getBasePlacement.js", "../../@popperjs/core/lib/utils/math.js", "../../@popperjs/core/lib/utils/userAgent.js", "../../@popperjs/core/lib/dom-utils/isLayoutViewport.js", "../../@popperjs/core/lib/dom-utils/getBoundingClientRect.js", "../../@popperjs/core/lib/dom-utils/getLayoutRect.js", "../../@popperjs/core/lib/dom-utils/contains.js", "../../@popperjs/core/lib/dom-utils/getComputedStyle.js", "../../@popperjs/core/lib/dom-utils/isTableElement.js", "../../@popperjs/core/lib/dom-utils/getDocumentElement.js", "../../@popperjs/core/lib/dom-utils/getParentNode.js", "../../@popperjs/core/lib/dom-utils/getOffsetParent.js", "../../@popperjs/core/lib/utils/getMainAxisFromPlacement.js", "../../@popperjs/core/lib/utils/within.js", "../../@popperjs/core/lib/utils/getFreshSideObject.js", "../../@popperjs/core/lib/utils/mergePaddingObject.js", "../../@popperjs/core/lib/utils/expandToHashMap.js", "../../@popperjs/core/lib/modifiers/arrow.js", "../../@popperjs/core/lib/utils/getVariation.js", "../../@popperjs/core/lib/modifiers/computeStyles.js", "../../@popperjs/core/lib/modifiers/eventListeners.js", "../../@popperjs/core/lib/utils/getOppositePlacement.js", "../../@popperjs/core/lib/utils/getOppositeVariationPlacement.js", "../../@popperjs/core/lib/dom-utils/getWindowScroll.js", "../../@popperjs/core/lib/dom-utils/getWindowScrollBarX.js", "../../@popperjs/core/lib/dom-utils/getViewportRect.js", "../../@popperjs/core/lib/dom-utils/getDocumentRect.js", "../../@popperjs/core/lib/dom-utils/isScrollParent.js", "../../@popperjs/core/lib/dom-utils/getScrollParent.js", "../../@popperjs/core/lib/dom-utils/listScrollParents.js", "../../@popperjs/core/lib/utils/rectToClientRect.js", "../../@popperjs/core/lib/dom-utils/getClippingRect.js", "../../@popperjs/core/lib/utils/computeOffsets.js", "../../@popperjs/core/lib/utils/detectOverflow.js", "../../@popperjs/core/lib/utils/computeAutoPlacement.js", "../../@popperjs/core/lib/modifiers/flip.js", "../../@popperjs/core/lib/modifiers/hide.js", "../../@popperjs/core/lib/modifiers/offset.js", "../../@popperjs/core/lib/modifiers/popperOffsets.js", "../../@popperjs/core/lib/utils/getAltAxis.js", "../../@popperjs/core/lib/modifiers/preventOverflow.js", "../../@popperjs/core/lib/dom-utils/getHTMLElementScroll.js", "../../@popperjs/core/lib/dom-utils/getNodeScroll.js", "../../@popperjs/core/lib/dom-utils/getCompositeRect.js", "../../@popperjs/core/lib/utils/orderModifiers.js", "../../@popperjs/core/lib/utils/debounce.js", "../../@popperjs/core/lib/utils/mergeByName.js", "../../@popperjs/core/lib/createPopper.js", "../../@popperjs/core/lib/popper-lite.js", "../../@popperjs/core/lib/popper.js", "../../preline/src/plugins/dropdown/index.ts", "../../preline/src/plugins/input-number/index.ts", "../../preline/src/plugins/overlay/index.ts", "../../preline/src/plugins/pin-input/index.ts", "../../preline/src/plugins/remove-element/index.ts", "../../preline/src/plugins/search-by-json/index.ts", "../../preline/src/plugins/scrollspy/index.ts", "../../preline/src/plugins/select/index.ts", "../../preline/src/plugins/stepper/index.ts", "../../preline/src/plugins/strong-password/index.ts", "../../preline/src/plugins/tabs/index.ts", "../../preline/src/plugins/theme-switch/index.ts", "../../preline/src/plugins/toggle-count/index.ts", "../../preline/src/plugins/toggle-password/index.ts", "../../preline/src/plugins/tooltip/index.ts", "../../preline/src/spa/index.ts", "../../preline/src/static/index.ts"],
  "sourcesContent": ["const stringToBoolean = (string: string): boolean => {\r\n\treturn string === 'true' ? true : false;\r\n};\r\n\r\nconst getClassProperty = (el: HTMLElement, prop: string, val = '') => {\r\n\treturn (window.getComputedStyle(el).getPropertyValue(prop) || val).replace(\r\n\t\t' ',\r\n\t\t'',\r\n\t);\r\n};\r\n\r\nconst getClassPropertyAlt = (\r\n\tel: HTMLElement,\r\n\tprop?: string,\r\n\tval: string = '',\r\n) => {\r\n\tlet targetClass = '';\r\n\r\n\tel.classList.forEach((c) => {\r\n\t\tif (c.includes(prop)) {\r\n\t\t\ttargetClass = c;\r\n\t\t}\r\n\t});\r\n\r\n\treturn targetClass.match(/:(.*)]/) ? targetClass.match(/:(.*)]/)[1] : val;\r\n};\r\n\r\n// const getClassPropertyAlt = (\r\n// \tel: HTMLElement,\r\n// \tprop: string,\r\n// \tval: string = '',\r\n// ): string => {\r\n// \tlet targetClass = '';\r\n\r\n// \tel.classList.forEach((className) => {\r\n// \t\tif (className.includes(prop)) {\r\n// \t\t\ttargetClass = className;\r\n// \t\t}\r\n// \t});\r\n\r\n// \tconst match = targetClass.match(/:(.*)/);\r\n\r\n// \treturn match ? match[1] : val;\r\n// };\r\n\r\nconst isIOS = () => {\r\n\tif (/iPad|iPhone|iPod/.test(navigator.platform)) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tnavigator.maxTouchPoints &&\r\n\t\t\tnavigator.maxTouchPoints > 2 &&\r\n\t\t\t/MacIntel/.test(navigator.platform)\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst isIpadOS = () => {\r\n\treturn (\r\n\t\tnavigator.maxTouchPoints &&\r\n\t\tnavigator.maxTouchPoints > 2 &&\r\n\t\t/MacIntel/.test(navigator.platform)\r\n\t);\r\n};\r\n\r\nconst isEnoughSpace = (\r\n\tel: HTMLElement,\r\n\ttoggle: HTMLElement,\r\n\tpreferredPosition: 'top' | 'bottom' | 'auto' = 'auto',\r\n\tspace = 10,\r\n\twrapper: HTMLElement | null = null,\r\n) => {\r\n\tconst referenceRect = toggle.getBoundingClientRect();\r\n\tconst wrapperRect = wrapper ? wrapper.getBoundingClientRect() : null;\r\n\tconst viewportHeight = window.innerHeight;\r\n\tconst spaceAbove = wrapperRect\r\n\t\t? referenceRect.top - wrapperRect.top\r\n\t\t: referenceRect.top;\r\n\tconst spaceBelow =\r\n\t\t(wrapper ? wrapperRect.bottom : viewportHeight) - referenceRect.bottom;\r\n\tconst minimumSpaceRequired = el.clientHeight + space;\r\n\r\n\tif (preferredPosition === 'bottom') {\r\n\t\treturn spaceBelow >= minimumSpaceRequired;\r\n\t} else if (preferredPosition === 'top') {\r\n\t\treturn spaceAbove >= minimumSpaceRequired;\r\n\t} else {\r\n\t\treturn (\r\n\t\t\tspaceAbove >= minimumSpaceRequired || spaceBelow >= minimumSpaceRequired\r\n\t\t);\r\n\t}\r\n};\r\n\r\nconst isFormElement = (target: HTMLElement) => {\r\n\treturn (\r\n\t\ttarget instanceof HTMLInputElement ||\r\n\t\ttarget instanceof HTMLTextAreaElement ||\r\n\t\ttarget instanceof HTMLSelectElement\r\n\t);\r\n};\r\n\r\nconst isParentOrElementHidden = (element: any): any => {\r\n\tif (!element) return false;\r\n\r\n\tconst computedStyle = window.getComputedStyle(element);\r\n\r\n\tif (computedStyle.display === 'none') return true;\r\n\r\n\treturn isParentOrElementHidden(element.parentElement);\r\n};\r\n\r\nconst debounce = (func: Function, timeout = 200) => {\r\n\tlet timer: any;\r\n\r\n\treturn (...args: any[]) => {\r\n\t\tclearTimeout(timer);\r\n\r\n\t\ttimer = setTimeout(() => {\r\n\t\t\tfunc.apply(this, args);\r\n\t\t}, timeout);\r\n\t};\r\n};\r\n\r\nconst dispatch = (evt: string, element: any, payload: any = null) => {\r\n\tconst event = new CustomEvent(evt, {\r\n\t\tdetail: { payload },\r\n\t\tbubbles: true,\r\n\t\tcancelable: true,\r\n\t\tcomposed: false,\r\n\t});\r\n\r\n\telement.dispatchEvent(event);\r\n};\r\n\r\nconst afterTransition = (el: HTMLElement, callback: Function) => {\r\n\tconst handleEvent = () => {\r\n\t\tcallback();\r\n\r\n\t\tel.removeEventListener('transitionend', handleEvent, true);\r\n\t};\r\n\tconst hasTransition =\r\n\t\twindow.getComputedStyle(el, null).getPropertyValue('transition') !==\r\n\t\t(navigator.userAgent.includes('Firefox') ? 'all' : 'all 0s ease 0s');\r\n\r\n\tif (hasTransition) el.addEventListener('transitionend', handleEvent, true);\r\n\telse callback();\r\n};\r\n\r\nconst htmlToElement = (html: string): HTMLElement => {\r\n\tconst template = document.createElement('template');\r\n\thtml = html.trim();\r\n\ttemplate.innerHTML = html;\r\n\r\n\treturn template.content.firstChild as HTMLElement;\r\n};\r\n\r\nconst classToClassList = (\r\n\tclasses: string,\r\n\ttarget: HTMLElement,\r\n\tsplitter = ' ',\r\n\taction: 'add' | 'remove' = 'add',\r\n) => {\r\n\tconst classesToArray = classes.split(splitter);\r\n\tclassesToArray.forEach((cl) =>\r\n\t\taction === 'add' ? target.classList.add(cl) : target.classList.remove(cl),\r\n\t);\r\n};\r\n\r\nconst menuSearchHistory = {\r\n\thistoryIndex: -1,\r\n\r\n\taddHistory(index: number) {\r\n\t\tthis.historyIndex = index;\r\n\t},\r\n\r\n\texistsInHistory(index: number) {\r\n\t\treturn index > this.historyIndex;\r\n\t},\r\n\r\n\tclearHistory() {\r\n\t\tthis.historyIndex = -1;\r\n\t},\r\n};\r\n\r\nexport {\r\n\tstringToBoolean,\r\n\tgetClassProperty,\r\n\tgetClassPropertyAlt,\r\n\tisIOS,\r\n\tisIpadOS,\r\n\tisEnoughSpace,\r\n\tisParentOrElementHidden,\r\n\tisFormElement,\r\n\tdebounce,\r\n\tdispatch,\r\n\tafterTransition,\r\n\thtmlToElement,\r\n\tclassToClassList,\r\n\tmenuSearchHistory,\r\n};\r\n", "/*\r\n * HSBasePlugin\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { IBasePlugin } from './interfaces';\r\n\r\nexport default class HSBasePlugin<O, E = HTMLElement>\r\n\timplements IBasePlugin<O, E>\r\n{\r\n\tconstructor(\r\n\t\tpublic el: E,\r\n\t\tpublic options: O,\r\n\t\tpublic events?: any,\r\n\t) {\r\n\t\tthis.el = el;\r\n\t\tthis.options = options;\r\n\t\tthis.events = {};\r\n\t}\r\n\r\n\tpublic createCollection(collection: any[], element: any) {\r\n\t\tcollection.push({\r\n\t\t\tid: element?.el?.id || collection.length + 1,\r\n\t\t\telement,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic fireEvent(evt: string, payload: any = null) {\r\n\t\tif (this.events.hasOwnProperty(evt)) return this.events[evt](payload);\r\n\t}\r\n\r\n\tpublic on(evt: string, cb: Function) {\r\n\t\tthis.events[evt] = cb;\r\n\t}\r\n}\r\n", "/*\r\n * HSCopyMarkup\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { ICopyMarkupOptions, ICopyMarkup } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSCopyMarkup\r\n\textends HSBasePlugin<ICopyMarkupOptions>\r\n\timplements ICopyMarkup\r\n{\r\n\tprivate readonly targetSelector: string | null;\r\n\tprivate readonly wrapperSelector: string | null;\r\n\tprivate readonly limit: number | null;\r\n\r\n\tprivate target: HTMLElement | null;\r\n\tprivate wrapper: HTMLElement | null;\r\n\tprivate items: HTMLElement[] | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: ICopyMarkupOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-copy-markup');\r\n\t\tconst dataOptions: ICopyMarkupOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.targetSelector = concatOptions?.targetSelector || null;\r\n\t\tthis.wrapperSelector = concatOptions?.wrapperSelector || null;\r\n\t\tthis.limit = concatOptions?.limit || null;\r\n\t\tthis.items = [];\r\n\r\n\t\tif (this.targetSelector) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsCopyMarkupCollection, this);\r\n\r\n\t\tthis.setTarget();\r\n\t\tthis.setWrapper();\r\n\t\tthis.addPredefinedItems();\r\n\t\tthis.el.addEventListener('click', () => this.copy());\r\n\t}\r\n\r\n\tprivate copy() {\r\n\t\tif (this.limit && this.items.length >= this.limit) return false;\r\n\r\n\t\tif (this.el.hasAttribute('disabled')) this.el.setAttribute('disabled', '');\r\n\r\n\t\tconst copiedElement = this.target.cloneNode(true) as HTMLElement;\r\n\r\n\t\tthis.addToItems(copiedElement);\r\n\r\n\t\tif (this.limit && this.items.length >= this.limit)\r\n\t\t\tthis.el.setAttribute('disabled', 'disabled');\r\n\r\n\t\tthis.fireEvent('copy', copiedElement);\r\n\t\tdispatch('copy.hs.copyMarkup', copiedElement, copiedElement);\r\n\t}\r\n\r\n\tprivate addPredefinedItems() {\r\n\t\tArray.from(this.wrapper.children)\r\n\t\t\t.filter(\r\n\t\t\t\t(el: HTMLElement) => !el.classList.contains('[--ignore-for-count]'),\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tthis.addToItems(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate setTarget() {\r\n\t\tconst target: HTMLElement =\r\n\t\t\ttypeof this.targetSelector === 'string'\r\n\t\t\t\t? (document\r\n\t\t\t\t\t\t.querySelector(this.targetSelector)\r\n\t\t\t\t\t\t.cloneNode(true) as HTMLElement)\r\n\t\t\t\t: ((this.targetSelector as HTMLElement).cloneNode(true) as HTMLElement);\r\n\r\n\t\ttarget.removeAttribute('id');\r\n\r\n\t\tthis.target = target;\r\n\t}\r\n\r\n\tprivate setWrapper() {\r\n\t\tthis.wrapper =\r\n\t\t\ttypeof this.wrapperSelector === 'string'\r\n\t\t\t\t? document.querySelector(this.wrapperSelector)\r\n\t\t\t\t: this.wrapperSelector;\r\n\t}\r\n\r\n\tprivate addToItems(item: HTMLElement) {\r\n\t\tconst deleteItemButton = item.querySelector(\r\n\t\t\t'[data-hs-copy-markup-delete-item]',\r\n\t\t);\r\n\r\n\t\tif (this.wrapper) this.wrapper.append(item);\r\n\t\telse this.el.before(item);\r\n\r\n\t\tif (deleteItemButton)\r\n\t\t\tdeleteItemButton.addEventListener('click', () => this.delete(item));\r\n\r\n\t\tthis.items.push(item);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic delete(target: HTMLElement) {\r\n\t\tconst index = this.items.indexOf(target);\r\n\r\n\t\tif (index !== -1) this.items.splice(index, 1);\r\n\r\n\t\ttarget.remove();\r\n\r\n\t\tthis.fireEvent('delete', target);\r\n\t\tdispatch('delete.hs.copyMarkup', target, target);\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsCopyMarkupCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsCopyMarkupCollection) window.$hsCopyMarkupCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-copy-markup]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsCopyMarkupCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-copy-markup');\r\n\t\t\t\t\tconst options: ICopyMarkupOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSCopyMarkup(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSCopyMarkup: Function;\r\n\t\t$hsCopyMarkupCollection: ICollectionItem<HSCopyMarkup>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSCopyMarkup.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Copy markup collection:', window.$hsCopyMarkupCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSCopyMarkup = HSCopyMarkup;\r\n}\r\n\r\nexport default HSCopyMarkup;\r\n", "/*\r\n * HSAccordion\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch, afterTransition } from '../../utils';\r\n\r\nimport { IAccordion } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSAccordion extends HSBasePlugin<{}> implements IAccordion {\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tpublic content: HTMLElement | null;\r\n\tprivate readonly group: HTMLElement | null;\r\n\tprivate readonly isAlwaysOpened: boolean;\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.toggle = this.el.querySelector('.hs-accordion-toggle') || null;\r\n\t\tthis.content = this.el.querySelector('.hs-accordion-content') || null;\r\n\t\tthis.group = this.el.closest('.hs-accordion-group') || null;\r\n\t\tthis.isAlwaysOpened =\r\n\t\t\tthis.group.hasAttribute('data-hs-accordion-always-open') || false;\r\n\r\n\t\tif (this.toggle && this.content) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsAccordionCollection, this);\r\n\r\n\t\tthis.toggle.addEventListener('click', () => {\r\n\t\t\tif (this.el.classList.contains('active')) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.show();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tif (\r\n\t\t\tthis.group &&\r\n\t\t\t!this.isAlwaysOpened &&\r\n\t\t\tthis.group.querySelector('.hs-accordion.active') &&\r\n\t\t\tthis.group.querySelector('.hs-accordion.active') !== this.el\r\n\t\t) {\r\n\t\t\tconst currentlyOpened = window.$hsAccordionCollection.find(\r\n\t\t\t\t(el) =>\r\n\t\t\t\t\tel.element.el === this.group.querySelector('.hs-accordion.active'),\r\n\t\t\t);\r\n\r\n\t\t\tcurrentlyOpened.element.hide();\r\n\t\t}\r\n\r\n\t\tif (this.el.classList.contains('active')) return false;\r\n\r\n\t\tthis.el.classList.add('active');\r\n\r\n\t\tthis.content.style.display = 'block';\r\n\t\tthis.content.style.height = '0';\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\t\t});\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.style.display = 'block';\r\n\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\tdispatch('open.hs.accordion', this.el, this.el);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tif (!this.el.classList.contains('active')) return false;\r\n\r\n\t\tthis.el.classList.remove('active');\r\n\r\n\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = '0';\r\n\t\t});\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.style.display = '';\r\n\t\t\tthis.content.style.height = '0';\r\n\r\n\t\t\tthis.fireEvent('close', this.el);\r\n\t\t\tdispatch('close.hs.accordion', this.el, this.el);\r\n\t\t});\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsAccordionCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic show(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsAccordionCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\telInCollection.element.content.style.display !== 'block'\r\n\t\t)\r\n\t\t\telInCollection.element.show();\r\n\t}\r\n\r\n\tstatic hide(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsAccordionCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\telInCollection.element.content.style.display === 'block'\r\n\t\t)\r\n\t\t\telInCollection.element.hide();\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsAccordionCollection) window.$hsAccordionCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-accordion:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsAccordionCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSAccordion(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsAccordionCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSAccordion: Function;\r\n\t\t$hsAccordionCollection: ICollectionItem<HSAccordion>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSAccordion.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Accordion collection:', window.$hsAccordionCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSAccordion = HSAccordion;\r\n}\r\n\r\nexport default HSAccordion;\r\n", "/*\r\n * HSCarousel\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { ICarousel, ICarouselOptions } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSCarousel extends HSBasePlugin<ICarouselOptions> implements ICarousel {\r\n\tprivate readonly inner: HTMLElement | null;\r\n\tprivate readonly slides: NodeListOf<HTMLElement> | undefined[];\r\n\tprivate readonly prev: HTMLElement | null;\r\n\tprivate readonly next: HTMLElement | null;\r\n\tprivate readonly dots: NodeListOf<HTMLElement> | null;\r\n\tprivate sliderWidth: number;\r\n\tprivate currentIndex: number;\r\n\tprivate readonly loadingClasses: string | string[];\r\n\tprivate readonly loadingClassesRemove: string | string[];\r\n\tprivate readonly loadingClassesAdd: string | string[];\r\n\tprivate readonly afterLoadingClassesAdd: string | string[];\r\n\tprivate readonly isAutoPlay: boolean;\r\n\tprivate readonly speed: number;\r\n\tprivate readonly isInfiniteLoop: boolean;\r\n\tprivate timer: any;\r\n\r\n\t// Touch events' help variables\r\n\tprivate readonly touchX: {\r\n\t\tstart: number;\r\n\t\tend: number;\r\n\t};\r\n\r\n\tconstructor(el: HTMLElement, options?: ICarouselOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-carousel');\r\n\t\tconst dataOptions: ICarouselOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.currentIndex = concatOptions.currentIndex || 0;\r\n\t\tthis.loadingClasses = concatOptions.loadingClasses\r\n\t\t\t? `${concatOptions.loadingClasses}`.split(',')\r\n\t\t\t: null;\r\n\t\tthis.loadingClassesRemove = this.loadingClasses?.[0]\r\n\t\t\t? this.loadingClasses[0].split(' ')\r\n\t\t\t: 'opacity-0';\r\n\t\tthis.loadingClassesAdd = this.loadingClasses?.[1]\r\n\t\t\t? this.loadingClasses[1].split(' ')\r\n\t\t\t: '';\r\n\t\tthis.afterLoadingClassesAdd = this.loadingClasses?.[2]\r\n\t\t\t? this.loadingClasses[2].split(' ')\r\n\t\t\t: '';\r\n\t\tthis.isAutoPlay =\r\n\t\t\ttypeof concatOptions.isAutoPlay !== 'undefined'\r\n\t\t\t\t? concatOptions.isAutoPlay\r\n\t\t\t\t: false;\r\n\t\tthis.speed = concatOptions.speed || 4000;\r\n\t\tthis.isInfiniteLoop =\r\n\t\t\ttypeof concatOptions.isInfiniteLoop !== 'undefined'\r\n\t\t\t\t? concatOptions.isInfiniteLoop\r\n\t\t\t\t: true;\r\n\t\tthis.inner = this.el.querySelector('.hs-carousel-body') || null;\r\n\t\tthis.slides = this.el.querySelectorAll('.hs-carousel-slide') || [];\r\n\t\tthis.prev = this.el.querySelector('.hs-carousel-prev') || null;\r\n\t\tthis.next = this.el.querySelector('.hs-carousel-next') || null;\r\n\t\tthis.dots = this.el.querySelectorAll('.hs-carousel-pagination > *') || null;\r\n\t\tthis.sliderWidth = this.inner.parentElement.clientWidth;\r\n\r\n\t\t// Touch events' help variables\r\n\t\tthis.touchX = {\r\n\t\t\tstart: 0,\r\n\t\t\tend: 0,\r\n\t\t};\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsCarouselCollection, this);\r\n\r\n\t\tif (this.inner) {\r\n\t\t\tthis.calculateWidth();\r\n\t\t\tif (this.loadingClassesRemove) {\r\n\t\t\t\tif (typeof this.loadingClassesRemove === 'string')\r\n\t\t\t\t\tthis.inner.classList.remove(this.loadingClassesRemove);\r\n\t\t\t\telse this.inner.classList.remove(...this.loadingClassesRemove);\r\n\t\t\t}\r\n\t\t\tif (this.loadingClassesAdd) {\r\n\t\t\t\tif (typeof this.loadingClassesAdd === 'string')\r\n\t\t\t\t\tthis.inner.classList.add(this.loadingClassesAdd);\r\n\t\t\t\telse this.inner.classList.add(...this.loadingClassesAdd);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.prev)\r\n\t\t\tthis.prev.addEventListener('click', () => {\r\n\t\t\t\tthis.goToPrev();\r\n\t\t\t\tif (this.isAutoPlay) {\r\n\t\t\t\t\tthis.resetTimer();\r\n\t\t\t\t\tthis.setTimer();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tif (this.next)\r\n\t\t\tthis.next.addEventListener('click', () => {\r\n\t\t\t\tthis.goToNext();\r\n\t\t\t\tif (this.isAutoPlay) {\r\n\t\t\t\t\tthis.resetTimer();\r\n\t\t\t\t\tthis.setTimer();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tif (this.dots) {\r\n\t\t\tthis.dots.forEach((el, i) =>\r\n\t\t\t\tel.addEventListener('click', () => {\r\n\t\t\t\t\tthis.goTo(i);\r\n\t\t\t\t\tif (this.isAutoPlay) {\r\n\t\t\t\t\t\tthis.resetTimer();\r\n\t\t\t\t\t\tthis.setTimer();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (this.slides.length) {\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t\t\tif (this.isAutoPlay) this.autoPlay();\r\n\t\t}\r\n\t\tif (this.inner && this.afterLoadingClassesAdd) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (typeof this.afterLoadingClassesAdd === 'string')\r\n\t\t\t\t\tthis.inner.classList.add(this.afterLoadingClassesAdd);\r\n\t\t\t\telse this.inner.classList.add(...this.afterLoadingClassesAdd);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.el.classList.add('init');\r\n\r\n\t\tthis.el.addEventListener('touchstart', (evt) => {\r\n\t\t\tthis.touchX.start = evt.changedTouches[0].screenX;\r\n\t\t});\r\n\r\n\t\tthis.el.addEventListener('touchend', (evt) => {\r\n\t\t\tthis.touchX.end = evt.changedTouches[0].screenX;\r\n\r\n\t\t\tthis.detectDirection();\r\n\t\t});\r\n\r\n\t\tthis.observeResize();\r\n\t}\r\n\r\n\tprivate observeResize() {\r\n\t\tconst resizeObserver = new ResizeObserver(() => this.recalculateWidth());\r\n\r\n\t\tresizeObserver.observe(document.querySelector('body'));\r\n\t}\r\n\r\n\tprivate calculateWidth() {\r\n\t\t// Set slider width\r\n\t\tthis.inner.style.width = `${this.sliderWidth * this.slides.length}px`;\r\n\t\tthis.inner.style.transform = `translate(-${\r\n\t\t\tthis.currentIndex * this.sliderWidth\r\n\t\t}px, 0px)`;\r\n\r\n\t\t// Set width to each slide\r\n\t\tthis.slides.forEach((el) => {\r\n\t\t\tel.style.width = `${this.sliderWidth}px`;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate addCurrentClass() {\r\n\t\tthis.slides.forEach((el, i) => {\r\n\t\t\tif (i === this.currentIndex) {\r\n\t\t\t\tel.classList.add('active');\r\n\t\t\t} else {\r\n\t\t\t\tel.classList.remove('active');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (this.dots) {\r\n\t\t\tthis.dots.forEach((el, i) => {\r\n\t\t\t\tif (i === this.currentIndex) {\r\n\t\t\t\t\tel.classList.add('active');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tel.classList.remove('active');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addDisabledClass() {\r\n\t\tif (!this.prev || !this.next) return false;\r\n\r\n\t\tif (this.currentIndex === 0) {\r\n\t\t\tthis.next.classList.remove('disabled');\r\n\t\t\tthis.prev.classList.add('disabled');\r\n\t\t} else if (this.currentIndex === this.slides.length - 1) {\r\n\t\t\tthis.prev.classList.remove('disabled');\r\n\t\t\tthis.next.classList.add('disabled');\r\n\t\t} else {\r\n\t\t\tthis.prev.classList.remove('disabled');\r\n\t\t\tthis.next.classList.remove('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate autoPlay() {\r\n\t\tthis.setTimer();\r\n\t}\r\n\r\n\tprivate setTimer() {\r\n\t\tthis.timer = setInterval(() => {\r\n\t\t\tif (this.currentIndex === this.slides.length - 1) this.goTo(0);\r\n\t\t\telse this.goToNext();\r\n\t\t}, this.speed);\r\n\t}\r\n\r\n\tprivate resetTimer() {\r\n\t\tclearInterval(this.timer);\r\n\t}\r\n\r\n\tprivate detectDirection() {\r\n\t\tconst { start, end } = this.touchX;\r\n\r\n\t\tif (end < start) this.goToNext();\r\n\t\tif (end > start) this.goToPrev();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic recalculateWidth() {\r\n\t\tthis.sliderWidth = this.inner.parentElement.clientWidth;\r\n\r\n\t\tthis.calculateWidth();\r\n\t}\r\n\r\n\tpublic goToPrev() {\r\n\t\tif (this.currentIndex === 0 && this.isInfiniteLoop) {\r\n\t\t\tthis.currentIndex = this.slides.length - 1;\r\n\t\t\tthis.inner.style.transform = `translate(-${\r\n\t\t\t\tthis.currentIndex * this.sliderWidth\r\n\t\t\t}px, 0px)`;\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t} else if (this.currentIndex !== 0) {\r\n\t\t\tthis.currentIndex -= 1;\r\n\t\t\tthis.inner.style.transform = `translate(-${\r\n\t\t\t\tthis.currentIndex * this.sliderWidth\r\n\t\t\t}px, 0px)`;\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tthis.addDisabledClass();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic goToNext() {\r\n\t\tif (this.currentIndex === this.slides.length - 1 && this.isInfiniteLoop) {\r\n\t\t\tthis.currentIndex = 0;\r\n\t\t\tthis.inner.style.transform = `translate(-${\r\n\t\t\t\tthis.currentIndex * this.sliderWidth\r\n\t\t\t}px, 0px)`;\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t} else if (this.currentIndex < this.slides.length - 1) {\r\n\t\t\tthis.currentIndex += 1;\r\n\t\t\tthis.inner.style.transform = `translate(-${\r\n\t\t\t\tthis.currentIndex * this.sliderWidth\r\n\t\t\t}px, 0px)`;\r\n\r\n\t\t\tthis.addCurrentClass();\r\n\t\t\tthis.addDisabledClass();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic goTo(i: number) {\r\n\t\tthis.currentIndex = i;\r\n\t\tthis.inner.style.transform = `translate(-${\r\n\t\t\tthis.currentIndex * this.sliderWidth\r\n\t\t}px, 0px)`;\r\n\r\n\t\tthis.addCurrentClass();\r\n\t\tif (!this.isInfiniteLoop) this.addDisabledClass();\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsCarouselCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsCarouselCollection) window.$hsCarouselCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-carousel]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsCarouselCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSCarousel(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSCarousel: Function;\r\n\t\t$hsCarouselCollection: ICollectionItem<HSCarousel>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSCarousel.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Carousel collection:', window.$hsCarouselCollection);\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tif (!window.$hsCarouselCollection) return false;\r\n\r\n\twindow.$hsCarouselCollection.forEach((el) => {\r\n\t\tel.element.recalculateWidth();\r\n\t});\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSCarousel = HSCarousel;\r\n}\r\n\r\nexport default HSCarousel;\r\n", "/*\r\n * HSCollapse\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch, afterTransition } from '../../utils';\r\n\r\nimport { ICollapse } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSCollapse extends HSBasePlugin<{}> implements ICollapse {\r\n\tprivate readonly contentId: string | null;\r\n\tpublic content: HTMLElement | null;\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.contentId = this.el.dataset.hsCollapse;\r\n\t\tthis.content = document.querySelector(this.contentId);\r\n\t\tthis.animationInProcess = false;\r\n\r\n\t\tif (this.content) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsCollapseCollection, this);\r\n\r\n\t\tthis.el.addEventListener('click', () => {\r\n\t\t\tif (this.content.classList.contains('open')) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.show();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate hideAllMegaMenuItems() {\r\n\t\tthis.content\r\n\t\t\t.querySelectorAll('.hs-mega-menu-content.block')\r\n\t\t\t.forEach((el) => {\r\n\t\t\t\tel.classList.remove('block');\r\n\t\t\t\tel.classList.add('hidden');\r\n\t\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tif (this.animationInProcess || this.el.classList.contains('open'))\r\n\t\t\treturn false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.el.classList.add('open');\r\n\t\tthis.content.classList.add('open');\r\n\t\tthis.content.classList.remove('hidden');\r\n\r\n\t\tthis.content.style.height = '0';\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\r\n\t\t\tthis.fireEvent('beforeOpen', this.el);\r\n\t\t\tdispatch('beforeOpen.hs.collapse', this.el, this.el);\r\n\t\t});\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\tdispatch('open.hs.collapse', this.el, this.el);\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tif (this.animationInProcess || !this.el.classList.contains('open'))\r\n\t\t\treturn false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.el.classList.remove('open');\r\n\r\n\t\tthis.content.style.height = `${this.content.scrollHeight}px`;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.content.style.height = '0';\r\n\t\t});\r\n\r\n\t\tthis.content.classList.remove('open');\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tthis.content.classList.add('hidden');\r\n\t\t\tthis.content.style.height = '';\r\n\r\n\t\t\tthis.fireEvent('hide', this.el);\r\n\t\t\tdispatch('hide.hs.collapse', this.el, this.el);\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tif (this.content.querySelectorAll('.hs-mega-menu-content.block').length) {\r\n\t\t\tthis.hideAllMegaMenuItems();\r\n\t\t}\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsCollapseCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsCollapseCollection) window.$hsCollapseCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-collapse-toggle:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsCollapseCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSCollapse(el);\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic show(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsCollapseCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\telInCollection.element.content.classList.contains('hidden')\r\n\t\t)\r\n\t\t\telInCollection.element.show();\r\n\t}\r\n\r\n\tstatic hide(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsCollapseCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\t!elInCollection.element.content.classList.contains('hidden')\r\n\t\t)\r\n\t\t\telInCollection.element.hide();\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsCollapseCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSCollapse: Function;\r\n\t\t$hsCollapseCollection: ICollectionItem<HSCollapse>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSCollapse.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Collapse collection:', window.$hsCollapseCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSCollapse = HSCollapse;\r\n}\r\n\r\nexport default HSCollapse;\r\n", "export const POSITIONS: any = {\r\n\tauto: 'auto',\r\n\t'auto-start': 'auto-start',\r\n\t'auto-end': 'auto-end',\r\n\ttop: 'top',\r\n\t'top-left': 'top-start',\r\n\t'top-right': 'top-end',\r\n\tbottom: 'bottom',\r\n\t'bottom-left': 'bottom-start',\r\n\t'bottom-right': 'bottom-end',\r\n\tright: 'right',\r\n\t'right-start': 'right-start',\r\n\t'right-end': 'right-end',\r\n\tleft: 'left',\r\n\t'left-start': 'left-start',\r\n\t'left-end': 'left-end',\r\n};\r\n\r\nexport const DROPDOWN_ACCESSIBILITY_KEY_SET = [\r\n\t'Escape',\r\n\t'ArrowUp',\r\n\t'ArrowDown',\r\n\t'Home',\r\n\t'End',\r\n\t'Enter',\r\n];\r\n\r\nexport const OVERLAY_ACCESSIBILITY_KEY_SET = ['Escape', 'Tab'];\r\n\r\nexport const TABS_ACCESSIBILITY_KEY_SET = [\r\n\t'ArrowUp',\r\n\t'ArrowLeft',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'Home',\r\n\t'End',\r\n];\r\n\r\nexport const SELECT_ACCESSIBILITY_KEY_SET = [\r\n\t'ArrowUp',\r\n\t'ArrowLeft',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'Home',\r\n\t'End',\r\n\t'Escape',\r\n\t'Enter',\r\n\t'Tab',\r\n];\r\n\r\nexport const COMBO_BOX_ACCESSIBILITY_KEY_SET = [\r\n\t'ArrowUp',\r\n\t'ArrowLeft',\r\n\t'ArrowDown',\r\n\t'ArrowRight',\r\n\t'Home',\r\n\t'End',\r\n\t'Escape',\r\n\t'Enter',\r\n];\r\n\r\nexport const BREAKPOINTS: any = {\r\n\tsm: 640,\r\n\tmd: 768,\r\n\tlg: 1024,\r\n\txl: 1280,\r\n\t'2xl': 1536,\r\n};\r\n", "/*\r\n * HSComboBox\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport {\r\n\tisEnoughSpace,\r\n\tdebounce,\r\n\tafterTransition,\r\n\thtmlToElement,\r\n\tisParentOrElementHidden,\r\n} from '../../utils';\r\n\r\nimport { IComboBox, IComboBoxOptions, IComboBoxItemAttr } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { COMBO_BOX_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSComboBox extends HSBasePlugin<IComboBoxOptions> implements IComboBox {\r\n\tgap: number;\r\n\tviewport: string | HTMLElement | null;\r\n\tpreventVisibility: boolean;\r\n\tapiUrl: string | null;\r\n\tapiDataPart: string | null;\r\n\tapiQuery: string | null;\r\n\tapiSearchQuery: string | null;\r\n\tapiHeaders: {};\r\n\tapiGroupField: string | null;\r\n\toutputItemTemplate: string | null;\r\n\toutputEmptyTemplate: string | null;\r\n\toutputLoaderTemplate: string | null;\r\n\tgroupingType: 'default' | 'tabs' | null;\r\n\tgroupingTitleTemplate: string | null;\r\n\ttabsWrapperTemplate: string | null;\r\n\tpreventSelection: boolean;\r\n\tisOpenOnFocus: boolean;\r\n\r\n\tprivate readonly input: HTMLInputElement | null;\r\n\tprivate readonly output: HTMLElement | null;\r\n\tprivate readonly itemsWrapper: HTMLElement | null;\r\n\tprivate items: HTMLElement[] | [];\r\n\tprivate tabs: HTMLElement[] | [];\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tprivate outputPlaceholder: HTMLElement | null;\r\n\tprivate outputLoader: HTMLElement | null;\r\n\r\n\tprivate value: string | null;\r\n\tprivate selected: string | null;\r\n\tprivate groups: any[] | null;\r\n\tprivate selectedGroup: string | null;\r\n\r\n\tisOpened: boolean;\r\n\tisCurrent: boolean;\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tconstructor(el: HTMLElement, options?: IComboBoxOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\t// Data parameters\r\n\t\tconst data = el.getAttribute('data-hs-combo-box');\r\n\t\tconst dataOptions: IComboBoxOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.gap = 5;\r\n\t\tthis.viewport =\r\n\t\t\t(typeof concatOptions?.viewport === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions?.viewport) as HTMLElement)\r\n\t\t\t\t: concatOptions?.viewport) ?? null;\r\n\t\tthis.preventVisibility = concatOptions?.preventVisibility ?? false;\r\n\t\tthis.apiUrl = concatOptions?.apiUrl ?? null;\r\n\t\tthis.apiDataPart = concatOptions?.apiDataPart ?? null;\r\n\t\tthis.apiQuery = concatOptions?.apiQuery ?? null;\r\n\t\tthis.apiSearchQuery = concatOptions?.apiSearchQuery ?? null;\r\n\t\tthis.apiHeaders = concatOptions?.apiHeaders ?? {};\r\n\t\tthis.apiGroupField = concatOptions?.apiGroupField ?? null;\r\n\t\tthis.outputItemTemplate =\r\n\t\t\tconcatOptions?.outputItemTemplate ??\r\n\t\t\t`<div class=\"cursor-pointer py-2 px-4 w-full text-sm text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-slate-900 dark:hover:bg-slate-800 dark:text-gray-200 dark:focus:bg-slate-800\" data-hs-combo-box-output-item>\r\n\t\t\t<div class=\"flex justify-between items-center w-full\">\r\n\t\t\t\t<span data-hs-combo-box-search-text></span>\r\n\t\t\t\t<span class=\"hidden hs-combo-box-selected:block\">\r\n\t\t\t\t\t<svg class=\"flex-shrink-0 size-3.5 text-blue-600 dark:text-blue-500\" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n\t\t\t\t\t\t<polyline points=\"20 6 9 17 4 12\"></polyline>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>`;\r\n\t\tthis.outputEmptyTemplate =\r\n\t\t\tconcatOptions?.outputEmptyTemplate ??\r\n\t\t\t`<div class=\"py-2 px-4 w-full text-sm text-gray-800 rounded-lg dark:bg-slate-900 dark:text-gray-200\">Nothing found...</div>`;\r\n\t\tthis.outputLoaderTemplate =\r\n\t\t\tconcatOptions?.outputLoaderTemplate ??\r\n\t\t\t`<div class=\"flex justify-center items-center py-2 px-4 text-sm text-gray-800 rounded-lg bg-white dark:bg-slate-900 dark:text-gray-200\">\r\n\t\t\t\t<div class=\"animate-spin inline-block size-6 border-[3px] border-current border-t-transparent text-blue-600 rounded-full dark:text-blue-500\" role=\"status\" aria-label=\"loading\">\r\n\t\t\t\t\t<span class=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`;\r\n\t\tthis.groupingType = concatOptions?.groupingType ?? null;\r\n\t\tthis.groupingTitleTemplate =\r\n\t\t\tconcatOptions?.groupingTitleTemplate ??\r\n\t\t\t(this.groupingType === 'default'\r\n\t\t\t\t? `<div class=\"block mb-1 text-xs font-semibold uppercase text-blue-600 dark:text-blue-500\"></div>`\r\n\t\t\t\t: `<button type=\"button\" class=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold whitespace-nowrap rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none\"></button>`);\r\n\t\tthis.tabsWrapperTemplate =\r\n\t\t\tconcatOptions?.tabsWrapperTemplate ??\r\n\t\t\t`<div class=\"overflow-x-auto p-4\"></div>`;\r\n\t\tthis.preventSelection = concatOptions?.preventSelection ?? false;\r\n\t\tthis.isOpenOnFocus = concatOptions?.isOpenOnFocus ?? false;\r\n\r\n\t\t// Internal parameters\r\n\t\tthis.input = this.el.querySelector('[data-hs-combo-box-input]') ?? null;\r\n\t\tthis.output = this.el.querySelector('[data-hs-combo-box-output]') ?? null;\r\n\t\tthis.itemsWrapper =\r\n\t\t\tthis.el.querySelector('[data-hs-combo-box-output-items-wrapper]') ?? null;\r\n\t\tthis.items =\r\n\t\t\tArray.from(this.el.querySelectorAll('[data-hs-combo-box-output-item]')) ??\r\n\t\t\t[];\r\n\t\tthis.tabs = [];\r\n\t\tthis.toggle = this.el.querySelector('[data-hs-combo-box-toggle]') ?? null;\r\n\t\tthis.outputPlaceholder = null;\r\n\r\n\t\tthis.selected = this.value =\r\n\t\t\t(this.el.querySelector('[data-hs-combo-box-input]') as HTMLInputElement)\r\n\t\t\t\t.value ?? '';\r\n\t\tthis.isOpened = false;\r\n\t\tthis.isCurrent = false;\r\n\t\tthis.animationInProcess = false;\r\n\t\tthis.selectedGroup = 'all';\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsComboBoxCollection, this);\r\n\r\n\t\tthis.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.buildInput();\r\n\t\tif (this.groupingType) this.setGroups();\r\n\t\tthis.buildItems();\r\n\t\tif (this.preventVisibility) {\r\n\t\t\tthis.isOpened = true;\r\n\r\n\t\t\tthis.recalculateDirection();\r\n\t\t}\r\n\t\tif (this.toggle) this.buildToggle();\r\n\t}\r\n\r\n\tprivate setResultAndRender(value = '') {\r\n\t\tthis.setResults(value);\r\n\r\n\t\tif (this.apiSearchQuery) this.itemsFromJson();\r\n\t}\r\n\r\n\tprivate buildInput() {\r\n\t\tif (this.isOpenOnFocus) {\r\n\t\t\tthis.input.addEventListener('focus', () => {\r\n\t\t\t\tif (!this.isOpened) {\r\n\t\t\t\t\tthis.setResultAndRender();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.input.addEventListener(\r\n\t\t\t'input',\r\n\t\t\tdebounce((evt: InputEvent) => {\r\n\t\t\t\tthis.setResultAndRender((evt.target as HTMLInputElement).value);\r\n\t\t\t\tif (!this.isOpened) this.open();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildItems() {\r\n\t\tif (this.apiUrl) this.itemsFromJson();\r\n\t\telse {\r\n\t\t\tif (this.itemsWrapper) this.itemsWrapper.innerHTML = '';\r\n\t\t\telse this.output.innerHTML = '';\r\n\t\t\tthis.itemsFromHtml();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setResults(val: string) {\r\n\t\tthis.value = val;\r\n\r\n\t\tthis.resultItems();\r\n\r\n\t\tif (this.hasVisibleItems()) this.destroyOutputPlaceholder();\r\n\t\telse this.buildOutputPlaceholder();\r\n\t}\r\n\r\n\tprivate isItemExists(obj: never): boolean {\r\n\t\treturn this.items.some((el: HTMLElement) =>\r\n\t\t\tArray.from(el.querySelectorAll('[data-hs-combo-box-search-text]')).some(\r\n\t\t\t\t(elI: HTMLElement) =>\r\n\t\t\t\t\telI.getAttribute('data-hs-combo-box-search-text') ===\r\n\t\t\t\t\tobj[elI.getAttribute('data-hs-combo-box-output-item-field')],\r\n\t\t\t),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate isTextExists(el: HTMLElement, val: string[]): boolean {\r\n\t\tconst lowerCased = val.map((v) => v.toLowerCase());\r\n\r\n\t\treturn Array.from(\r\n\t\t\tel.querySelectorAll('[data-hs-combo-box-search-text]'),\r\n\t\t).some((elI: HTMLElement) =>\r\n\t\t\tlowerCased.includes(\r\n\t\t\t\telI.getAttribute('data-hs-combo-box-search-text').toLowerCase(),\r\n\t\t\t),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate isTextExistsAny(el: HTMLElement, val: string): boolean {\r\n\t\treturn Array.from(\r\n\t\t\tel.querySelectorAll('[data-hs-combo-box-search-text]'),\r\n\t\t).some((elI: HTMLElement) =>\r\n\t\t\telI\r\n\t\t\t\t.getAttribute('data-hs-combo-box-search-text')\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.includes(val.toLowerCase()),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate valuesBySelector(el: HTMLElement) {\r\n\t\treturn Array.from(\r\n\t\t\tel.querySelectorAll('[data-hs-combo-box-search-text]'),\r\n\t\t).reduce(\r\n\t\t\t(acc: any, cur: HTMLElement) => [\r\n\t\t\t\t...acc,\r\n\t\t\t\tcur.getAttribute('data-hs-combo-box-search-text'),\r\n\t\t\t],\r\n\t\t\t[],\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildOutputLoader() {\r\n\t\tif (this.outputLoader) return false;\r\n\r\n\t\tthis.outputLoader = htmlToElement(this.outputLoaderTemplate);\r\n\t\tif (this.items.length || this.outputPlaceholder) {\r\n\t\t\tthis.outputLoader.style.position = 'absolute';\r\n\t\t\tthis.outputLoader.style.top = '0';\r\n\t\t\tthis.outputLoader.style.bottom = '0';\r\n\t\t\tthis.outputLoader.style.left = '0';\r\n\t\t\tthis.outputLoader.style.right = '0';\r\n\t\t\tthis.outputLoader.style.zIndex = '2';\r\n\t\t} else {\r\n\t\t\tthis.outputLoader.style.position = '';\r\n\t\t\tthis.outputLoader.style.top = '';\r\n\t\t\tthis.outputLoader.style.bottom = '';\r\n\t\t\tthis.outputLoader.style.left = '';\r\n\t\t\tthis.outputLoader.style.right = '';\r\n\t\t\tthis.outputLoader.style.zIndex = '';\r\n\t\t\tthis.outputLoader.style.height = '30px';\r\n\t\t}\r\n\r\n\t\tthis.output.append(this.outputLoader);\r\n\t}\r\n\r\n\tprivate destroyOutputLoader() {\r\n\t\tif (this.outputLoader) this.outputLoader.remove();\r\n\r\n\t\tthis.outputLoader = null;\r\n\t}\r\n\r\n\tprivate async itemsFromJson() {\r\n\t\tthis.buildOutputLoader();\r\n\r\n\t\ttry {\r\n\t\t\tconst query = `${this.apiQuery}`;\r\n\t\t\tconst searchQuery = `${this.apiSearchQuery}=${this.value.toLowerCase()}`;\r\n\t\t\tlet url = this.apiUrl;\r\n\t\t\tif (this.apiQuery && this.apiSearchQuery) {\r\n\t\t\t\turl += `?${searchQuery}&${query}`;\r\n\t\t\t} else if (this.apiQuery) {\r\n\t\t\t\turl += `?${query}`;\r\n\t\t\t} else if (this.apiSearchQuery) {\r\n\t\t\t\turl += `?${searchQuery}`;\r\n\t\t\t}\r\n\t\t\tconst res = await fetch(url, this.apiHeaders);\r\n\t\t\tlet items = await res.json();\r\n\t\t\tif (this.apiDataPart) {\r\n\t\t\t\titems = items[this.apiDataPart];\r\n\t\t\t}\r\n\t\t\tif (this.apiSearchQuery) {\r\n\t\t\t\tthis.items = [];\r\n\t\t\t}\r\n\t\t\tif (this.itemsWrapper) {\r\n\t\t\t\tthis.itemsWrapper.innerHTML = '';\r\n\t\t\t} else {\r\n\t\t\t\tthis.output.innerHTML = '';\r\n\t\t\t}\r\n\r\n\t\t\tif (this.groupingType === 'tabs') {\r\n\t\t\t\tthis.setApiGroups(items);\r\n\t\t\t\tthis.groupTabsRender();\r\n\t\t\t\tthis.jsonItemsRender(items);\r\n\t\t\t} else if (this.groupingType === 'default') {\r\n\t\t\t\tthis.setApiGroups(items);\r\n\r\n\t\t\t\tthis.groups.forEach((el) => {\r\n\t\t\t\t\tconst title = htmlToElement(this.groupingTitleTemplate);\r\n\t\t\t\t\ttitle.setAttribute('data-hs-combo-box-group-title', el.name);\r\n\t\t\t\t\ttitle.classList.add('--exclude-accessibility');\r\n\t\t\t\t\ttitle.innerText = el.title;\r\n\t\t\t\t\tconst newItems = items.filter(\r\n\t\t\t\t\t\t(i: any) => i[this.apiGroupField] === el.name,\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (this.itemsWrapper) this.itemsWrapper.append(title);\r\n\t\t\t\t\telse this.output.append(title);\r\n\r\n\t\t\t\t\tthis.jsonItemsRender(newItems);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.jsonItemsRender(items);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setResults(this.input.value);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\r\n\t\tthis.destroyOutputLoader();\r\n\t}\r\n\r\n\tprivate jsonItemsRender(items: any) {\r\n\t\titems.forEach((item: never, index: number) => {\r\n\t\t\tif (this.isItemExists(item)) return false;\r\n\r\n\t\t\tconst newItem = htmlToElement(this.outputItemTemplate);\r\n\t\t\tnewItem\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-search-text]')\r\n\t\t\t\t.forEach((el) => {\r\n\t\t\t\t\tel.textContent =\r\n\t\t\t\t\t\titem[el.getAttribute('data-hs-combo-box-output-item-field')] ?? '';\r\n\t\t\t\t\tel.setAttribute(\r\n\t\t\t\t\t\t'data-hs-combo-box-search-text',\r\n\t\t\t\t\t\titem[el.getAttribute('data-hs-combo-box-output-item-field')] ?? '',\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\tnewItem\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-output-item-attr]')\r\n\t\t\t\t.forEach((el) => {\r\n\t\t\t\t\tconst attributes = JSON.parse(\r\n\t\t\t\t\t\tel.getAttribute('data-hs-combo-box-output-item-attr'),\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tattributes.forEach((attr: IComboBoxItemAttr) => {\r\n\t\t\t\t\t\tel.setAttribute(attr.attr, item[attr.valueFrom]);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\tnewItem.setAttribute('tabIndex', `${index}`);\r\n\t\t\tif (this.groupingType === 'tabs' || this.groupingType === 'default') {\r\n\t\t\t\tnewItem.setAttribute(\r\n\t\t\t\t\t'data-hs-combo-box-output-item',\r\n\t\t\t\t\t`{\"group\": {\"name\": \"${item[this.apiGroupField]}\", \"title\": \"${\r\n\t\t\t\t\t\titem[this.apiGroupField]\r\n\t\t\t\t\t}\"}}`,\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tthis.items = [...this.items, newItem];\r\n\r\n\t\t\tif (!this.preventSelection) {\r\n\t\t\t\t(newItem as HTMLElement).addEventListener('click', () => {\r\n\t\t\t\t\tthis.close(\r\n\t\t\t\t\t\t(newItem as HTMLElement)\r\n\t\t\t\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t\t\t\t.getAttribute('data-hs-combo-box-search-text'),\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tthis.setSelectedByValue(this.valuesBySelector(newItem));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.appendItemsToWrapper(newItem);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setGroups() {\r\n\t\tconst groups: any[] = [];\r\n\r\n\t\tthis.items.forEach((item: HTMLElement) => {\r\n\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\titem.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t);\r\n\r\n\t\t\tif (!groups.some((el) => el?.name === group.name)) {\r\n\t\t\t\tgroups.push(group);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.groups = groups;\r\n\t}\r\n\r\n\tpublic setCurrent() {\r\n\t\tif (window.$hsComboBoxCollection.length) {\r\n\t\t\twindow.$hsComboBoxCollection.map((el) => (el.element.isCurrent = false));\r\n\r\n\t\t\tthis.isCurrent = true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setApiGroups(items: any) {\r\n\t\tconst groups: any[] = [];\r\n\r\n\t\titems.forEach((item: any) => {\r\n\t\t\tconst group = item[this.apiGroupField];\r\n\r\n\t\t\tif (!groups.some((el) => el.name === group)) {\r\n\t\t\t\tgroups.push({\r\n\t\t\t\t\tname: group,\r\n\t\t\t\t\ttitle: group,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.groups = groups;\r\n\t}\r\n\r\n\tprivate sortItems() {\r\n\t\tconst compareFn = (i1: HTMLElement, i2: HTMLElement) => {\r\n\t\t\tconst a = i1\r\n\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\t\t\tconst b = i2\r\n\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\r\n\t\t\tif (a < b) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else if (a > b) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\treturn 0;\r\n\t\t};\r\n\r\n\t\treturn this.items.sort(compareFn);\r\n\t}\r\n\r\n\tprivate itemRender(item: HTMLElement) {\r\n\t\tconst val = item\r\n\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\r\n\t\tif (this.itemsWrapper) this.itemsWrapper.append(item);\r\n\t\telse this.output.append(item);\r\n\r\n\t\tif (!this.preventSelection) {\r\n\t\t\titem.addEventListener('click', () => {\r\n\t\t\t\tthis.close(val);\r\n\t\t\t\tthis.setSelectedByValue(this.valuesBySelector(item));\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate plainRender(items: HTMLElement[]) {\r\n\t\titems.forEach((item: HTMLElement) => {\r\n\t\t\tthis.itemRender(item);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate groupTabsRender() {\r\n\t\tconst tabsScroll = htmlToElement(this.tabsWrapperTemplate);\r\n\t\tconst tabsWrapper = htmlToElement(\r\n\t\t\t`<div class=\"flex flex-nowrap gap-x-2\"></div>`,\r\n\t\t);\r\n\r\n\t\ttabsScroll.append(tabsWrapper);\r\n\t\tthis.output.insertBefore(tabsScroll, this.output.firstChild);\r\n\r\n\t\tconst tabDef = htmlToElement(this.groupingTitleTemplate);\r\n\t\ttabDef.setAttribute('data-hs-combo-box-group-title', 'all');\r\n\t\ttabDef.classList.add('--exclude-accessibility', 'active');\r\n\t\ttabDef.innerText = 'All';\r\n\t\tthis.tabs = [...this.tabs, tabDef];\r\n\t\ttabsWrapper.append(tabDef);\r\n\t\ttabDef.addEventListener('click', () => {\r\n\t\t\tthis.selectedGroup = 'all';\r\n\t\t\tconst selectedTab = this.tabs.find(\r\n\t\t\t\t(elI: HTMLElement) =>\r\n\t\t\t\t\telI.getAttribute('data-hs-combo-box-group-title') ===\r\n\t\t\t\t\tthis.selectedGroup,\r\n\t\t\t);\r\n\r\n\t\t\tthis.tabs.forEach((el: HTMLElement) => el.classList.remove('active'));\r\n\t\t\tselectedTab.classList.add('active');\r\n\t\t\tthis.setItemsVisibility();\r\n\t\t});\r\n\r\n\t\tthis.groups.forEach((el) => {\r\n\t\t\tconst tab = htmlToElement(this.groupingTitleTemplate);\r\n\t\t\ttab.setAttribute('data-hs-combo-box-group-title', el.name);\r\n\t\t\ttab.classList.add('--exclude-accessibility');\r\n\t\t\ttab.innerText = el.title;\r\n\r\n\t\t\tthis.tabs = [...this.tabs, tab];\r\n\t\t\ttabsWrapper.append(tab);\r\n\r\n\t\t\ttab.addEventListener('click', () => {\r\n\t\t\t\tthis.selectedGroup = el.name;\r\n\t\t\t\tconst selectedTab = this.tabs.find(\r\n\t\t\t\t\t(elI: HTMLElement) =>\r\n\t\t\t\t\t\telI.getAttribute('data-hs-combo-box-group-title') ===\r\n\t\t\t\t\t\tthis.selectedGroup,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.tabs.forEach((el: HTMLElement) => el.classList.remove('active'));\r\n\t\t\t\tselectedTab.classList.add('active');\r\n\t\t\t\tthis.setItemsVisibility();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate groupDefaultRender() {\r\n\t\tthis.groups.forEach((el) => {\r\n\t\t\tconst title = htmlToElement(this.groupingTitleTemplate);\r\n\t\t\ttitle.setAttribute('data-hs-combo-box-group-title', el.name);\r\n\t\t\ttitle.classList.add('--exclude-accessibility');\r\n\t\t\ttitle.innerText = el.title;\r\n\r\n\t\t\tif (this.itemsWrapper) this.itemsWrapper.append(title);\r\n\t\t\telse this.output.append(title);\r\n\r\n\t\t\tconst items = this.sortItems().filter((f) => {\r\n\t\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\t\tf.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t\t);\r\n\r\n\t\t\t\treturn group.name === el.name;\r\n\t\t\t});\r\n\r\n\t\t\tthis.plainRender(items);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate itemsFromHtml() {\r\n\t\tif (this.groupingType === 'default') {\r\n\t\t\tthis.groupDefaultRender();\r\n\t\t} else if (this.groupingType === 'tabs') {\r\n\t\t\tconst items = this.sortItems();\r\n\r\n\t\t\tthis.groupTabsRender();\r\n\t\t\tthis.plainRender(items);\r\n\t\t} else {\r\n\t\t\tconst items = this.sortItems();\r\n\r\n\t\t\tthis.plainRender(items);\r\n\t\t}\r\n\t\tthis.setResults(this.input.value);\r\n\t}\r\n\r\n\tprivate buildToggle() {\r\n\t\tthis.toggle.addEventListener('click', () => {\r\n\t\t\tif (this.isOpened) this.close();\r\n\t\t\telse this.open(this.toggle.getAttribute('data-hs-combo-box-toggle'));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setSelectedByValue(val: string[]) {\r\n\t\tthis.items.forEach((el) => {\r\n\t\t\tif (this.isTextExists(el, val))\r\n\t\t\t\t(el as HTMLElement).classList.add('selected');\r\n\t\t\telse (el as HTMLElement).classList.remove('selected');\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setValue(val: string) {\r\n\t\tthis.selected = val;\r\n\t\tthis.value = val;\r\n\t\tthis.input.value = val;\r\n\t}\r\n\r\n\tprivate setItemsVisibility() {\r\n\t\tif (this.groupingType === 'tabs' && this.selectedGroup !== 'all') {\r\n\t\t\tthis.items.forEach((item) => {\r\n\t\t\t\t(item as HTMLElement).style.display = 'none';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tconst items =\r\n\t\t\tthis.groupingType === 'tabs'\r\n\t\t\t\t? this.selectedGroup === 'all'\r\n\t\t\t\t\t? this.items\r\n\t\t\t\t\t: this.items.filter((f: HTMLElement) => {\r\n\t\t\t\t\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\t\t\t\t\tf.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\treturn group.name === this.selectedGroup;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t: this.items;\r\n\r\n\t\tif (this.groupingType === 'tabs' && this.selectedGroup !== 'all') {\r\n\t\t\titems.forEach((item) => {\r\n\t\t\t\t(item as HTMLElement).style.display = 'block';\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.forEach((item) => {\r\n\t\t\tif (!this.isTextExistsAny(item, this.value))\r\n\t\t\t\t(item as HTMLElement).style.display = 'none';\r\n\t\t\telse (item as HTMLElement).style.display = 'block';\r\n\t\t});\r\n\r\n\t\tif (this.groupingType === 'default') {\r\n\t\t\tthis.output\r\n\t\t\t\t.querySelectorAll('[data-hs-combo-box-group-title]')\r\n\t\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\t\tconst g = el.getAttribute('data-hs-combo-box-group-title');\r\n\t\t\t\t\tconst items = this.items.filter((f: HTMLElement) => {\r\n\t\t\t\t\t\tconst { group } = JSON.parse(\r\n\t\t\t\t\t\t\tf.getAttribute('data-hs-combo-box-output-item'),\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\treturn group.name === g && f.style.display === 'block';\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (items.length) el.style.display = 'block';\r\n\t\t\t\t\telse el.style.display = 'none';\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate hasVisibleItems() {\r\n\t\treturn this.items.length\r\n\t\t\t? this.items.some((el: HTMLElement) => el.style.display === 'block')\r\n\t\t\t: false;\r\n\t}\r\n\r\n\tprivate appendItemsToWrapper(item: HTMLElement) {\r\n\t\tif (this.itemsWrapper) {\r\n\t\t\tthis.itemsWrapper.append(item);\r\n\t\t} else {\r\n\t\t\tthis.output.append(item);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildOutputPlaceholder() {\r\n\t\tif (!this.outputPlaceholder)\r\n\t\t\tthis.outputPlaceholder = htmlToElement(this.outputEmptyTemplate);\r\n\r\n\t\tthis.appendItemsToWrapper(this.outputPlaceholder);\r\n\t}\r\n\r\n\tprivate destroyOutputPlaceholder() {\r\n\t\tif (this.outputPlaceholder) this.outputPlaceholder.remove();\r\n\r\n\t\tthis.outputPlaceholder = null;\r\n\t}\r\n\r\n\tprivate resultItems() {\r\n\t\tif (!this.items.length) return false;\r\n\r\n\t\tthis.setItemsVisibility();\r\n\t\tthis.setSelectedByValue([this.selected]);\r\n\t}\r\n\r\n\t// Public methods\r\n\tprivate setValueAndOpen(val: string) {\r\n\t\tthis.value = val;\r\n\r\n\t\tif (this.items.length) {\r\n\t\t\tthis.setItemsVisibility();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic open(val?: string) {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tif (typeof val !== 'undefined') this.setValueAndOpen(val);\r\n\r\n\t\tif (this.preventVisibility) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.output.style.display = 'block';\r\n\t\tthis.recalculateDirection();\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.el.classList.add('active');\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.isOpened = true;\r\n\t}\r\n\r\n\tprivate setValueAndClear(val: string | null) {\r\n\t\tif (val) this.setValue(val);\r\n\t\telse this.setValue(this.selected);\r\n\r\n\t\tif (this.outputPlaceholder) this.destroyOutputPlaceholder();\r\n\t}\r\n\r\n\tpublic close(val?: string | null) {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tif (this.preventVisibility) {\r\n\t\t\tthis.setValueAndClear(val);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.el.classList.remove('active');\r\n\t\tthis.output.classList.remove('bottom-full', 'top-full');\r\n\t\tthis.output.style.marginTop = '';\r\n\t\tthis.output.style.marginBottom = '';\r\n\r\n\t\tafterTransition(this.output, () => {\r\n\t\t\tthis.output.style.display = 'none';\r\n\r\n\t\t\tthis.setValueAndClear(val);\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.isOpened = false;\r\n\t}\r\n\r\n\tpublic recalculateDirection() {\r\n\t\tif (\r\n\t\t\tisEnoughSpace(\r\n\t\t\t\tthis.output,\r\n\t\t\t\tthis.input,\r\n\t\t\t\t'bottom',\r\n\t\t\t\tthis.gap,\r\n\t\t\t\tthis.viewport as HTMLElement,\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tthis.output.classList.remove('bottom-full');\r\n\t\t\tthis.output.style.marginBottom = '';\r\n\t\t\tthis.output.classList.add('top-full');\r\n\t\t\tthis.output.style.marginTop = `${this.gap}px`;\r\n\t\t} else {\r\n\t\t\tthis.output.classList.remove('top-full');\r\n\t\t\tthis.output.style.marginTop = '';\r\n\t\t\tthis.output.classList.add('bottom-full');\r\n\t\t\tthis.output.style.marginBottom = `${this.gap}px`;\r\n\t\t}\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsComboBoxCollection) window.$hsComboBoxCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-combo-box]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsComboBoxCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-combo-box');\r\n\t\t\t\t\tconst options: IComboBoxOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSComboBox(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tif (window.$hsComboBoxCollection) {\r\n\t\t\twindow.addEventListener('click', (evt) => {\r\n\t\t\t\tconst evtTarget = evt.target;\r\n\r\n\t\t\t\tHSComboBox.closeCurrentlyOpened(evtTarget as HTMLElement);\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSComboBox.accessibility(evt),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic close(target: HTMLElement | string) {\r\n\t\tconst elInCollection = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection && elInCollection.element.isOpened) {\r\n\t\t\telInCollection.element.close();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic closeCurrentlyOpened(evtTarget: HTMLElement | null = null) {\r\n\t\tif (!evtTarget.closest('[data-hs-combo-box].active')) {\r\n\t\t\tconst currentlyOpened =\r\n\t\t\t\twindow.$hsComboBoxCollection.filter((el) => el.element.isOpened) ||\r\n\t\t\t\tnull;\r\n\r\n\t\t\tif (currentlyOpened) {\r\n\t\t\t\tcurrentlyOpened.forEach((el) => {\r\n\t\t\t\t\tel.element.close();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tprivate static getPreparedItems(\r\n\t\tisReversed = false,\r\n\t\toutput: HTMLElement | null,\r\n\t): Element[] | null {\r\n\t\tif (!output) return null;\r\n\r\n\t\tconst preparedItems = isReversed\r\n\t\t\t? Array.from(\r\n\t\t\t\t\toutput.querySelectorAll(':scope > *:not(.--exclude-accessibility)'),\r\n\t\t\t\t)\r\n\t\t\t\t\t.filter((el) => (el as HTMLElement).style.display !== 'none')\r\n\t\t\t\t\t.reverse()\r\n\t\t\t: Array.from(\r\n\t\t\t\t\toutput.querySelectorAll(':scope > *:not(.--exclude-accessibility)'),\r\n\t\t\t\t).filter((el) => (el as HTMLElement).style.display !== 'none');\r\n\t\tconst items = preparedItems.filter(\r\n\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t);\r\n\r\n\t\treturn items;\r\n\t}\r\n\r\n\tprivate static setHighlighted(\r\n\t\tprev: Element,\r\n\t\tcurrent: HTMLElement,\r\n\t\tinput: HTMLInputElement,\r\n\t): void {\r\n\t\tcurrent.focus();\r\n\r\n\t\tinput.value = current\r\n\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t.getAttribute('data-hs-combo-box-search-text');\r\n\r\n\t\tif (prev) prev.classList.remove('hs-combo-box-output-item-highlighted');\r\n\t\tcurrent.classList.add('hs-combo-box-output-item-highlighted');\r\n\t}\r\n\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst target = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) => el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\tCOMBO_BOX_ACCESSIBILITY_KEY_SET.includes(evt.code) &&\r\n\t\t\t!evt.metaKey\r\n\t\t) {\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase 'Escape':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEscape();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape() {\r\n\t\tconst target = window.$hsComboBoxCollection.find(\r\n\t\t\t(el) => !el.element.preventVisibility && el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\ttarget.element.close();\r\n\t\t\ttarget.element.input.blur();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrow(isArrowUp = true) {\r\n\t\tconst target = window.$hsComboBoxCollection.find((el) =>\r\n\t\t\tel.element.preventVisibility ? el.element.isCurrent : el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst output = target.element.itemsWrapper ?? target.element.output;\r\n\r\n\t\t\tif (!output) return false;\r\n\r\n\t\t\tconst items = HSComboBox.getPreparedItems(isArrowUp, output) as Element[];\r\n\t\t\tconst current = output.querySelector(\r\n\t\t\t\t'.hs-combo-box-output-item-highlighted',\r\n\t\t\t);\r\n\t\t\tlet currentItem = null;\r\n\t\t\tif (!current)\r\n\t\t\t\titems[0].classList.add('hs-combo-box-output-item-highlighted');\r\n\t\t\tlet currentInd = items.findIndex((el: any) => el === current);\r\n\t\t\tif (currentInd + 1 < items.length) currentInd++;\r\n\t\t\tcurrentItem = items[currentInd] as HTMLButtonElement;\r\n\r\n\t\t\tHSComboBox.setHighlighted(current, currentItem, target.element.input);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isStart = true) {\r\n\t\tconst target = window.$hsComboBoxCollection.find((el) =>\r\n\t\t\tel.element.preventVisibility ? el.element.isCurrent : el.element.isOpened,\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst output = target.element.itemsWrapper ?? target.element.output;\r\n\r\n\t\t\tif (!output) return false;\r\n\r\n\t\t\tconst items = HSComboBox.getPreparedItems(isStart, output) as Element[];\r\n\t\t\tconst current = output.querySelector(\r\n\t\t\t\t'.hs-combo-box-output-item-highlighted',\r\n\t\t\t);\r\n\r\n\t\t\tif (items.length)\r\n\t\t\t\tHSComboBox.setHighlighted(\r\n\t\t\t\t\tcurrent,\r\n\t\t\t\t\titems[0] as HTMLButtonElement,\r\n\t\t\t\t\ttarget.element.input,\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEnter(evt: Event) {\r\n\t\tconst target = evt.target;\r\n\t\tconst opened = window.$hsComboBoxCollection.find(\r\n\t\t\t// ::TEST !el.element.preventVisibility && el.element.isOpened\r\n\t\t\t(el) => !isParentOrElementHidden(el.element.el) && el.element.isOpened,\r\n\t\t);\r\n\t\tconst link: HTMLAnchorElement = opened.element.el.querySelector('a');\r\n\r\n\t\tif ((target as HTMLElement).hasAttribute('data-hs-combo-box-input')) {\r\n\t\t\topened.element.close();\r\n\t\t\t(target as HTMLInputElement).blur();\r\n\t\t} else {\r\n\t\t\tif (!opened.element.preventSelection)\r\n\t\t\t\topened.element.setSelectedByValue(\r\n\t\t\t\t\topened.element.valuesBySelector(evt.target as HTMLElement),\r\n\t\t\t\t);\r\n\t\t\tif (opened.element.preventSelection && link)\r\n\t\t\t\twindow.location.assign(link.getAttribute('href'));\r\n\t\t\topened.element.close(\r\n\t\t\t\t!opened.element.preventSelection\r\n\t\t\t\t\t? (evt.target as HTMLElement)\r\n\t\t\t\t\t\t\t.querySelector('[data-hs-combo-box-value]')\r\n\t\t\t\t\t\t\t.getAttribute('data-hs-combo-box-search-text')\r\n\t\t\t\t\t: null,\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSComboBox: Function;\r\n\t\t$hsComboBoxCollection: ICollectionItem<HSComboBox>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSComboBox.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('ComboBox collection:', window.$hsComboBoxCollection);\r\n});\r\n\r\ndocument.addEventListener('scroll', () => {\r\n\tif (!window.$hsComboBoxCollection) return false;\r\n\r\n\tconst target = window.$hsComboBoxCollection.find((el) => el.element.isOpened);\r\n\r\n\tif (target) target.element.recalculateDirection();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSComboBox = HSComboBox;\r\n}\r\n\r\nexport default HSComboBox;\r\n", "export var top = 'top';\r\nexport var bottom = 'bottom';\r\nexport var right = 'right';\r\nexport var left = 'left';\r\nexport var auto = 'auto';\r\nexport var basePlacements = [top, bottom, right, left];\r\nexport var start = 'start';\r\nexport var end = 'end';\r\nexport var clippingParents = 'clippingParents';\r\nexport var viewport = 'viewport';\r\nexport var popper = 'popper';\r\nexport var reference = 'reference';\r\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\r\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\r\n}, []);\r\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\r\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\r\n}, []); // modifiers that need to read the DOM\r\n\r\nexport var beforeRead = 'beforeRead';\r\nexport var read = 'read';\r\nexport var afterRead = 'afterRead'; // pure-logic modifiers\r\n\r\nexport var beforeMain = 'beforeMain';\r\nexport var main = 'main';\r\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\r\n\r\nexport var beforeWrite = 'beforeWrite';\r\nexport var write = 'write';\r\nexport var afterWrite = 'afterWrite';\r\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];", "export default function getNodeName(element) {\r\n  return element ? (element.nodeName || '').toLowerCase() : null;\r\n}", "export default function getWindow(node) {\r\n  if (node == null) {\r\n    return window;\r\n  }\r\n\r\n  if (node.toString() !== '[object Window]') {\r\n    var ownerDocument = node.ownerDocument;\r\n    return ownerDocument ? ownerDocument.defaultView || window : window;\r\n  }\r\n\r\n  return node;\r\n}", "import getWindow from \"./getWindow.js\";\r\n\r\nfunction isElement(node) {\r\n  var OwnElement = getWindow(node).Element;\r\n  return node instanceof OwnElement || node instanceof Element;\r\n}\r\n\r\nfunction isHTMLElement(node) {\r\n  var OwnElement = getWindow(node).HTMLElement;\r\n  return node instanceof OwnElement || node instanceof HTMLElement;\r\n}\r\n\r\nfunction isShadowRoot(node) {\r\n  // IE 11 has no ShadowRoot\r\n  if (typeof ShadowRoot === 'undefined') {\r\n    return false;\r\n  }\r\n\r\n  var OwnElement = getWindow(node).ShadowRoot;\r\n  return node instanceof OwnElement || node instanceof ShadowRoot;\r\n}\r\n\r\nexport { isElement, isHTMLElement, isShadowRoot };", "import getNodeName from \"../dom-utils/getNodeName.js\";\r\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\r\n// and applies them to the HTMLElements such as popper and arrow\r\n\r\nfunction applyStyles(_ref) {\r\n  var state = _ref.state;\r\n  Object.keys(state.elements).forEach(function (name) {\r\n    var style = state.styles[name] || {};\r\n    var attributes = state.attributes[name] || {};\r\n    var element = state.elements[name]; // arrow is optional + virtual elements\r\n\r\n    if (!isHTMLElement(element) || !getNodeName(element)) {\r\n      return;\r\n    } // Flow doesn't support to extend this property, but it's the most\r\n    // effective way to apply styles to an HTMLElement\r\n    // $FlowFixMe[cannot-write]\r\n\r\n\r\n    Object.assign(element.style, style);\r\n    Object.keys(attributes).forEach(function (name) {\r\n      var value = attributes[name];\r\n\r\n      if (value === false) {\r\n        element.removeAttribute(name);\r\n      } else {\r\n        element.setAttribute(name, value === true ? '' : value);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction effect(_ref2) {\r\n  var state = _ref2.state;\r\n  var initialStyles = {\r\n    popper: {\r\n      position: state.options.strategy,\r\n      left: '0',\r\n      top: '0',\r\n      margin: '0'\r\n    },\r\n    arrow: {\r\n      position: 'absolute'\r\n    },\r\n    reference: {}\r\n  };\r\n  Object.assign(state.elements.popper.style, initialStyles.popper);\r\n  state.styles = initialStyles;\r\n\r\n  if (state.elements.arrow) {\r\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\r\n  }\r\n\r\n  return function () {\r\n    Object.keys(state.elements).forEach(function (name) {\r\n      var element = state.elements[name];\r\n      var attributes = state.attributes[name] || {};\r\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\r\n\r\n      var style = styleProperties.reduce(function (style, property) {\r\n        style[property] = '';\r\n        return style;\r\n      }, {}); // arrow is optional + virtual elements\r\n\r\n      if (!isHTMLElement(element) || !getNodeName(element)) {\r\n        return;\r\n      }\r\n\r\n      Object.assign(element.style, style);\r\n      Object.keys(attributes).forEach(function (attribute) {\r\n        element.removeAttribute(attribute);\r\n      });\r\n    });\r\n  };\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'applyStyles',\r\n  enabled: true,\r\n  phase: 'write',\r\n  fn: applyStyles,\r\n  effect: effect,\r\n  requires: ['computeStyles']\r\n};", "import { auto } from \"../enums.js\";\r\nexport default function getBasePlacement(placement) {\r\n  return placement.split('-')[0];\r\n}", "export var max = Math.max;\r\nexport var min = Math.min;\r\nexport var round = Math.round;", "export default function getUAString() {\r\n  var uaData = navigator.userAgentData;\r\n\r\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\r\n    return uaData.brands.map(function (item) {\r\n      return item.brand + \"/\" + item.version;\r\n    }).join(' ');\r\n  }\r\n\r\n  return navigator.userAgent;\r\n}", "import getUAString from \"../utils/userAgent.js\";\r\nexport default function isLayoutViewport() {\r\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\r\n}", "import { isElement, isHTMLElement } from \"./instanceOf.js\";\r\nimport { round } from \"../utils/math.js\";\r\nimport getWindow from \"./getWindow.js\";\r\nimport isLayoutViewport from \"./isLayoutViewport.js\";\r\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\r\n  if (includeScale === void 0) {\r\n    includeScale = false;\r\n  }\r\n\r\n  if (isFixedStrategy === void 0) {\r\n    isFixedStrategy = false;\r\n  }\r\n\r\n  var clientRect = element.getBoundingClientRect();\r\n  var scaleX = 1;\r\n  var scaleY = 1;\r\n\r\n  if (includeScale && isHTMLElement(element)) {\r\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\r\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\r\n  }\r\n\r\n  var _ref = isElement(element) ? getWindow(element) : window,\r\n      visualViewport = _ref.visualViewport;\r\n\r\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\r\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\r\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\r\n  var width = clientRect.width / scaleX;\r\n  var height = clientRect.height / scaleY;\r\n  return {\r\n    width: width,\r\n    height: height,\r\n    top: y,\r\n    right: x + width,\r\n    bottom: y + height,\r\n    left: x,\r\n    x: x,\r\n    y: y\r\n  };\r\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\r\n// means it doesn't take into account transforms.\r\n\r\nexport default function getLayoutRect(element) {\r\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\r\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\r\n\r\n  var width = element.offsetWidth;\r\n  var height = element.offsetHeight;\r\n\r\n  if (Math.abs(clientRect.width - width) <= 1) {\r\n    width = clientRect.width;\r\n  }\r\n\r\n  if (Math.abs(clientRect.height - height) <= 1) {\r\n    height = clientRect.height;\r\n  }\r\n\r\n  return {\r\n    x: element.offsetLeft,\r\n    y: element.offsetTop,\r\n    width: width,\r\n    height: height\r\n  };\r\n}", "import { isShadowRoot } from \"./instanceOf.js\";\r\nexport default function contains(parent, child) {\r\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\r\n\r\n  if (parent.contains(child)) {\r\n    return true;\r\n  } // then fallback to custom implementation with Shadow DOM support\r\n  else if (rootNode && isShadowRoot(rootNode)) {\r\n      var next = child;\r\n\r\n      do {\r\n        if (next && parent.isSameNode(next)) {\r\n          return true;\r\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\r\n\r\n\r\n        next = next.parentNode || next.host;\r\n      } while (next);\r\n    } // Give up, the result is false\r\n\r\n\r\n  return false;\r\n}", "import getWindow from \"./getWindow.js\";\r\nexport default function getComputedStyle(element) {\r\n  return getWindow(element).getComputedStyle(element);\r\n}", "import getNodeName from \"./getNodeName.js\";\r\nexport default function isTableElement(element) {\r\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\r\n}", "import { isElement } from \"./instanceOf.js\";\r\nexport default function getDocumentElement(element) {\r\n  // $FlowFixMe[incompatible-return]: assume body is always available\r\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\r\n  element.document) || window.document).documentElement;\r\n}", "import getNodeName from \"./getNodeName.js\";\r\nimport getDocumentElement from \"./getDocumentElement.js\";\r\nimport { isShadowRoot } from \"./instanceOf.js\";\r\nexport default function getParentNode(element) {\r\n  if (getNodeName(element) === 'html') {\r\n    return element;\r\n  }\r\n\r\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\r\n    // $FlowFixMe[incompatible-return]\r\n    // $FlowFixMe[prop-missing]\r\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\r\n    element.parentNode || ( // DOM Element detected\r\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\r\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\r\n    getDocumentElement(element) // fallback\r\n\r\n  );\r\n}", "import getWindow from \"./getWindow.js\";\r\nimport getNodeName from \"./getNodeName.js\";\r\nimport getComputedStyle from \"./getComputedStyle.js\";\r\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\r\nimport isTableElement from \"./isTableElement.js\";\r\nimport getParentNode from \"./getParentNode.js\";\r\nimport getUAString from \"../utils/userAgent.js\";\r\n\r\nfunction getTrueOffsetParent(element) {\r\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\r\n  getComputedStyle(element).position === 'fixed') {\r\n    return null;\r\n  }\r\n\r\n  return element.offsetParent;\r\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\r\n// return the containing block\r\n\r\n\r\nfunction getContainingBlock(element) {\r\n  var isFirefox = /firefox/i.test(getUAString());\r\n  var isIE = /Trident/i.test(getUAString());\r\n\r\n  if (isIE && isHTMLElement(element)) {\r\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\r\n    var elementCss = getComputedStyle(element);\r\n\r\n    if (elementCss.position === 'fixed') {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  var currentNode = getParentNode(element);\r\n\r\n  if (isShadowRoot(currentNode)) {\r\n    currentNode = currentNode.host;\r\n  }\r\n\r\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\r\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\r\n    // create a containing block.\r\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\r\n\r\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\r\n      return currentNode;\r\n    } else {\r\n      currentNode = currentNode.parentNode;\r\n    }\r\n  }\r\n\r\n  return null;\r\n} // Gets the closest ancestor positioned element. Handles some edge cases,\r\n// such as table ancestors and cross browser bugs.\r\n\r\n\r\nexport default function getOffsetParent(element) {\r\n  var window = getWindow(element);\r\n  var offsetParent = getTrueOffsetParent(element);\r\n\r\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\r\n    offsetParent = getTrueOffsetParent(offsetParent);\r\n  }\r\n\r\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\r\n    return window;\r\n  }\r\n\r\n  return offsetParent || getContainingBlock(element) || window;\r\n}", "export default function getMainAxisFromPlacement(placement) {\r\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\r\n}", "import { max as mathMax, min as mathMin } from \"./math.js\";\r\nexport function within(min, value, max) {\r\n  return mathMax(min, mathMin(value, max));\r\n}\r\nexport function withinMaxClamp(min, value, max) {\r\n  var v = within(min, value, max);\r\n  return v > max ? max : v;\r\n}", "export default function getFreshSideObject() {\r\n  return {\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0\r\n  };\r\n}", "import getFreshSideObject from \"./getFreshSideObject.js\";\r\nexport default function mergePaddingObject(paddingObject) {\r\n  return Object.assign({}, getFreshSideObject(), paddingObject);\r\n}", "export default function expandToHashMap(value, keys) {\r\n  return keys.reduce(function (hashMap, key) {\r\n    hashMap[key] = value;\r\n    return hashMap;\r\n  }, {});\r\n}", "import getBasePlacement from \"../utils/getBasePlacement.js\";\r\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\r\nimport contains from \"../dom-utils/contains.js\";\r\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\r\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\r\nimport { within } from \"../utils/within.js\";\r\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\r\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\r\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nvar toPaddingObject = function toPaddingObject(padding, state) {\r\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\r\n    placement: state.placement\r\n  })) : padding;\r\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\r\n};\r\n\r\nfunction arrow(_ref) {\r\n  var _state$modifiersData$;\r\n\r\n  var state = _ref.state,\r\n      name = _ref.name,\r\n      options = _ref.options;\r\n  var arrowElement = state.elements.arrow;\r\n  var popperOffsets = state.modifiersData.popperOffsets;\r\n  var basePlacement = getBasePlacement(state.placement);\r\n  var axis = getMainAxisFromPlacement(basePlacement);\r\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\r\n  var len = isVertical ? 'height' : 'width';\r\n\r\n  if (!arrowElement || !popperOffsets) {\r\n    return;\r\n  }\r\n\r\n  var paddingObject = toPaddingObject(options.padding, state);\r\n  var arrowRect = getLayoutRect(arrowElement);\r\n  var minProp = axis === 'y' ? top : left;\r\n  var maxProp = axis === 'y' ? bottom : right;\r\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\r\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\r\n  var arrowOffsetParent = getOffsetParent(arrowElement);\r\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\r\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\r\n  // outside of the popper bounds\r\n\r\n  var min = paddingObject[minProp];\r\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\r\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\r\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\r\n\r\n  var axisProp = axis;\r\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\r\n}\r\n\r\nfunction effect(_ref2) {\r\n  var state = _ref2.state,\r\n      options = _ref2.options;\r\n  var _options$element = options.element,\r\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\r\n\r\n  if (arrowElement == null) {\r\n    return;\r\n  } // CSS selector\r\n\r\n\r\n  if (typeof arrowElement === 'string') {\r\n    arrowElement = state.elements.popper.querySelector(arrowElement);\r\n\r\n    if (!arrowElement) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  if (!contains(state.elements.popper, arrowElement)) {\r\n    return;\r\n  }\r\n\r\n  state.elements.arrow = arrowElement;\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'arrow',\r\n  enabled: true,\r\n  phase: 'main',\r\n  fn: arrow,\r\n  effect: effect,\r\n  requires: ['popperOffsets'],\r\n  requiresIfExists: ['preventOverflow']\r\n};", "export default function getVariation(placement) {\r\n  return placement.split('-')[1];\r\n}", "import { top, left, right, bottom, end } from \"../enums.js\";\r\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\r\nimport getWindow from \"../dom-utils/getWindow.js\";\r\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\r\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\r\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\r\nimport getVariation from \"../utils/getVariation.js\";\r\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nvar unsetSides = {\r\n  top: 'auto',\r\n  right: 'auto',\r\n  bottom: 'auto',\r\n  left: 'auto'\r\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\r\n// Zooming can change the DPR, but it seems to report a value that will\r\n// cleanly divide the values into the appropriate subpixels.\r\n\r\nfunction roundOffsetsByDPR(_ref, win) {\r\n  var x = _ref.x,\r\n      y = _ref.y;\r\n  var dpr = win.devicePixelRatio || 1;\r\n  return {\r\n    x: round(x * dpr) / dpr || 0,\r\n    y: round(y * dpr) / dpr || 0\r\n  };\r\n}\r\n\r\nexport function mapToStyles(_ref2) {\r\n  var _Object$assign2;\r\n\r\n  var popper = _ref2.popper,\r\n      popperRect = _ref2.popperRect,\r\n      placement = _ref2.placement,\r\n      variation = _ref2.variation,\r\n      offsets = _ref2.offsets,\r\n      position = _ref2.position,\r\n      gpuAcceleration = _ref2.gpuAcceleration,\r\n      adaptive = _ref2.adaptive,\r\n      roundOffsets = _ref2.roundOffsets,\r\n      isFixed = _ref2.isFixed;\r\n  var _offsets$x = offsets.x,\r\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\r\n      _offsets$y = offsets.y,\r\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\r\n\r\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\r\n    x: x,\r\n    y: y\r\n  }) : {\r\n    x: x,\r\n    y: y\r\n  };\r\n\r\n  x = _ref3.x;\r\n  y = _ref3.y;\r\n  var hasX = offsets.hasOwnProperty('x');\r\n  var hasY = offsets.hasOwnProperty('y');\r\n  var sideX = left;\r\n  var sideY = top;\r\n  var win = window;\r\n\r\n  if (adaptive) {\r\n    var offsetParent = getOffsetParent(popper);\r\n    var heightProp = 'clientHeight';\r\n    var widthProp = 'clientWidth';\r\n\r\n    if (offsetParent === getWindow(popper)) {\r\n      offsetParent = getDocumentElement(popper);\r\n\r\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\r\n        heightProp = 'scrollHeight';\r\n        widthProp = 'scrollWidth';\r\n      }\r\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\r\n\r\n\r\n    offsetParent = offsetParent;\r\n\r\n    if (placement === top || (placement === left || placement === right) && variation === end) {\r\n      sideY = bottom;\r\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\r\n      offsetParent[heightProp];\r\n      y -= offsetY - popperRect.height;\r\n      y *= gpuAcceleration ? 1 : -1;\r\n    }\r\n\r\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\r\n      sideX = right;\r\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\r\n      offsetParent[widthProp];\r\n      x -= offsetX - popperRect.width;\r\n      x *= gpuAcceleration ? 1 : -1;\r\n    }\r\n  }\r\n\r\n  var commonStyles = Object.assign({\r\n    position: position\r\n  }, adaptive && unsetSides);\r\n\r\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\r\n    x: x,\r\n    y: y\r\n  }, getWindow(popper)) : {\r\n    x: x,\r\n    y: y\r\n  };\r\n\r\n  x = _ref4.x;\r\n  y = _ref4.y;\r\n\r\n  if (gpuAcceleration) {\r\n    var _Object$assign;\r\n\r\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\r\n  }\r\n\r\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\r\n}\r\n\r\nfunction computeStyles(_ref5) {\r\n  var state = _ref5.state,\r\n      options = _ref5.options;\r\n  var _options$gpuAccelerat = options.gpuAcceleration,\r\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\r\n      _options$adaptive = options.adaptive,\r\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\r\n      _options$roundOffsets = options.roundOffsets,\r\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\r\n  var commonStyles = {\r\n    placement: getBasePlacement(state.placement),\r\n    variation: getVariation(state.placement),\r\n    popper: state.elements.popper,\r\n    popperRect: state.rects.popper,\r\n    gpuAcceleration: gpuAcceleration,\r\n    isFixed: state.options.strategy === 'fixed'\r\n  };\r\n\r\n  if (state.modifiersData.popperOffsets != null) {\r\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\r\n      offsets: state.modifiersData.popperOffsets,\r\n      position: state.options.strategy,\r\n      adaptive: adaptive,\r\n      roundOffsets: roundOffsets\r\n    })));\r\n  }\r\n\r\n  if (state.modifiersData.arrow != null) {\r\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\r\n      offsets: state.modifiersData.arrow,\r\n      position: 'absolute',\r\n      adaptive: false,\r\n      roundOffsets: roundOffsets\r\n    })));\r\n  }\r\n\r\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\r\n    'data-popper-placement': state.placement\r\n  });\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'computeStyles',\r\n  enabled: true,\r\n  phase: 'beforeWrite',\r\n  fn: computeStyles,\r\n  data: {}\r\n};", "import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nvar passive = {\r\n  passive: true\r\n};\r\n\r\nfunction effect(_ref) {\r\n  var state = _ref.state,\r\n      instance = _ref.instance,\r\n      options = _ref.options;\r\n  var _options$scroll = options.scroll,\r\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\r\n      _options$resize = options.resize,\r\n      resize = _options$resize === void 0 ? true : _options$resize;\r\n  var window = getWindow(state.elements.popper);\r\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\r\n\r\n  if (scroll) {\r\n    scrollParents.forEach(function (scrollParent) {\r\n      scrollParent.addEventListener('scroll', instance.update, passive);\r\n    });\r\n  }\r\n\r\n  if (resize) {\r\n    window.addEventListener('resize', instance.update, passive);\r\n  }\r\n\r\n  return function () {\r\n    if (scroll) {\r\n      scrollParents.forEach(function (scrollParent) {\r\n        scrollParent.removeEventListener('scroll', instance.update, passive);\r\n      });\r\n    }\r\n\r\n    if (resize) {\r\n      window.removeEventListener('resize', instance.update, passive);\r\n    }\r\n  };\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'eventListeners',\r\n  enabled: true,\r\n  phase: 'write',\r\n  fn: function fn() {},\r\n  effect: effect,\r\n  data: {}\r\n};", "var hash = {\r\n  left: 'right',\r\n  right: 'left',\r\n  bottom: 'top',\r\n  top: 'bottom'\r\n};\r\nexport default function getOppositePlacement(placement) {\r\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\r\n    return hash[matched];\r\n  });\r\n}", "var hash = {\r\n  start: 'end',\r\n  end: 'start'\r\n};\r\nexport default function getOppositeVariationPlacement(placement) {\r\n  return placement.replace(/start|end/g, function (matched) {\r\n    return hash[matched];\r\n  });\r\n}", "import getWindow from \"./getWindow.js\";\r\nexport default function getWindowScroll(node) {\r\n  var win = getWindow(node);\r\n  var scrollLeft = win.pageXOffset;\r\n  var scrollTop = win.pageYOffset;\r\n  return {\r\n    scrollLeft: scrollLeft,\r\n    scrollTop: scrollTop\r\n  };\r\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\r\nimport getDocumentElement from \"./getDocumentElement.js\";\r\nimport getWindowScroll from \"./getWindowScroll.js\";\r\nexport default function getWindowScrollBarX(element) {\r\n  // If <html> has a CSS width greater than the viewport, then this will be\r\n  // incorrect for RTL.\r\n  // Popper 1 is broken in this case and never had a bug report so let's assume\r\n  // it's not an issue. I don't think anyone ever specifies width on <html>\r\n  // anyway.\r\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\r\n  // this (e.g. Edge 2019, IE11, Safari)\r\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\r\n}", "import getWindow from \"./getWindow.js\";\r\nimport getDocumentElement from \"./getDocumentElement.js\";\r\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\r\nimport isLayoutViewport from \"./isLayoutViewport.js\";\r\nexport default function getViewportRect(element, strategy) {\r\n  var win = getWindow(element);\r\n  var html = getDocumentElement(element);\r\n  var visualViewport = win.visualViewport;\r\n  var width = html.clientWidth;\r\n  var height = html.clientHeight;\r\n  var x = 0;\r\n  var y = 0;\r\n\r\n  if (visualViewport) {\r\n    width = visualViewport.width;\r\n    height = visualViewport.height;\r\n    var layoutViewport = isLayoutViewport();\r\n\r\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\r\n      x = visualViewport.offsetLeft;\r\n      y = visualViewport.offsetTop;\r\n    }\r\n  }\r\n\r\n  return {\r\n    width: width,\r\n    height: height,\r\n    x: x + getWindowScrollBarX(element),\r\n    y: y\r\n  };\r\n}", "import getDocumentElement from \"./getDocumentElement.js\";\r\nimport getComputedStyle from \"./getComputedStyle.js\";\r\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\r\nimport getWindowScroll from \"./getWindowScroll.js\";\r\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\r\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\r\n\r\nexport default function getDocumentRect(element) {\r\n  var _element$ownerDocumen;\r\n\r\n  var html = getDocumentElement(element);\r\n  var winScroll = getWindowScroll(element);\r\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\r\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\r\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\r\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\r\n  var y = -winScroll.scrollTop;\r\n\r\n  if (getComputedStyle(body || html).direction === 'rtl') {\r\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\r\n  }\r\n\r\n  return {\r\n    width: width,\r\n    height: height,\r\n    x: x,\r\n    y: y\r\n  };\r\n}", "import getComputedStyle from \"./getComputedStyle.js\";\r\nexport default function isScrollParent(element) {\r\n  // Firefox wants us to check `-x` and `-y` variations as well\r\n  var _getComputedStyle = getComputedStyle(element),\r\n      overflow = _getComputedStyle.overflow,\r\n      overflowX = _getComputedStyle.overflowX,\r\n      overflowY = _getComputedStyle.overflowY;\r\n\r\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\r\n}", "import getParentNode from \"./getParentNode.js\";\r\nimport isScrollParent from \"./isScrollParent.js\";\r\nimport getNodeName from \"./getNodeName.js\";\r\nimport { isHTMLElement } from \"./instanceOf.js\";\r\nexport default function getScrollParent(node) {\r\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\r\n    // $FlowFixMe[incompatible-return]: assume body is always available\r\n    return node.ownerDocument.body;\r\n  }\r\n\r\n  if (isHTMLElement(node) && isScrollParent(node)) {\r\n    return node;\r\n  }\r\n\r\n  return getScrollParent(getParentNode(node));\r\n}", "import getScrollParent from \"./getScrollParent.js\";\r\nimport getParentNode from \"./getParentNode.js\";\r\nimport getWindow from \"./getWindow.js\";\r\nimport isScrollParent from \"./isScrollParent.js\";\r\n/*\r\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\r\nuntil we get to the top window object. This list is what we attach scroll listeners\r\nto, because if any of these parent elements scroll, we'll need to re-calculate the\r\nreference element's position.\r\n*/\r\n\r\nexport default function listScrollParents(element, list) {\r\n  var _element$ownerDocumen;\r\n\r\n  if (list === void 0) {\r\n    list = [];\r\n  }\r\n\r\n  var scrollParent = getScrollParent(element);\r\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\r\n  var win = getWindow(scrollParent);\r\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\r\n  var updatedList = list.concat(target);\r\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\r\n  updatedList.concat(listScrollParents(getParentNode(target)));\r\n}", "export default function rectToClientRect(rect) {\r\n  return Object.assign({}, rect, {\r\n    left: rect.x,\r\n    top: rect.y,\r\n    right: rect.x + rect.width,\r\n    bottom: rect.y + rect.height\r\n  });\r\n}", "import { viewport } from \"../enums.js\";\r\nimport getViewportRect from \"./getViewportRect.js\";\r\nimport getDocumentRect from \"./getDocumentRect.js\";\r\nimport listScrollParents from \"./listScrollParents.js\";\r\nimport getOffsetParent from \"./getOffsetParent.js\";\r\nimport getDocumentElement from \"./getDocumentElement.js\";\r\nimport getComputedStyle from \"./getComputedStyle.js\";\r\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\r\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\r\nimport getParentNode from \"./getParentNode.js\";\r\nimport contains from \"./contains.js\";\r\nimport getNodeName from \"./getNodeName.js\";\r\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\r\nimport { max, min } from \"../utils/math.js\";\r\n\r\nfunction getInnerBoundingClientRect(element, strategy) {\r\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\r\n  rect.top = rect.top + element.clientTop;\r\n  rect.left = rect.left + element.clientLeft;\r\n  rect.bottom = rect.top + element.clientHeight;\r\n  rect.right = rect.left + element.clientWidth;\r\n  rect.width = element.clientWidth;\r\n  rect.height = element.clientHeight;\r\n  rect.x = rect.left;\r\n  rect.y = rect.top;\r\n  return rect;\r\n}\r\n\r\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\r\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\r\n} // A \"clipping parent\" is an overflowable container with the characteristic of\r\n// clipping (or hiding) overflowing elements with a position different from\r\n// `initial`\r\n\r\n\r\nfunction getClippingParents(element) {\r\n  var clippingParents = listScrollParents(getParentNode(element));\r\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\r\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\r\n\r\n  if (!isElement(clipperElement)) {\r\n    return [];\r\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\r\n\r\n\r\n  return clippingParents.filter(function (clippingParent) {\r\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\r\n  });\r\n} // Gets the maximum area that the element is visible in due to any number of\r\n// clipping parents\r\n\r\n\r\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\r\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\r\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\r\n  var firstClippingParent = clippingParents[0];\r\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\r\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\r\n    accRect.top = max(rect.top, accRect.top);\r\n    accRect.right = min(rect.right, accRect.right);\r\n    accRect.bottom = min(rect.bottom, accRect.bottom);\r\n    accRect.left = max(rect.left, accRect.left);\r\n    return accRect;\r\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\r\n  clippingRect.width = clippingRect.right - clippingRect.left;\r\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\r\n  clippingRect.x = clippingRect.left;\r\n  clippingRect.y = clippingRect.top;\r\n  return clippingRect;\r\n}", "import getBasePlacement from \"./getBasePlacement.js\";\r\nimport getVariation from \"./getVariation.js\";\r\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\r\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\r\nexport default function computeOffsets(_ref) {\r\n  var reference = _ref.reference,\r\n      element = _ref.element,\r\n      placement = _ref.placement;\r\n  var basePlacement = placement ? getBasePlacement(placement) : null;\r\n  var variation = placement ? getVariation(placement) : null;\r\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\r\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\r\n  var offsets;\r\n\r\n  switch (basePlacement) {\r\n    case top:\r\n      offsets = {\r\n        x: commonX,\r\n        y: reference.y - element.height\r\n      };\r\n      break;\r\n\r\n    case bottom:\r\n      offsets = {\r\n        x: commonX,\r\n        y: reference.y + reference.height\r\n      };\r\n      break;\r\n\r\n    case right:\r\n      offsets = {\r\n        x: reference.x + reference.width,\r\n        y: commonY\r\n      };\r\n      break;\r\n\r\n    case left:\r\n      offsets = {\r\n        x: reference.x - element.width,\r\n        y: commonY\r\n      };\r\n      break;\r\n\r\n    default:\r\n      offsets = {\r\n        x: reference.x,\r\n        y: reference.y\r\n      };\r\n  }\r\n\r\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\r\n\r\n  if (mainAxis != null) {\r\n    var len = mainAxis === 'y' ? 'height' : 'width';\r\n\r\n    switch (variation) {\r\n      case start:\r\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\r\n        break;\r\n\r\n      case end:\r\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\r\n        break;\r\n\r\n      default:\r\n    }\r\n  }\r\n\r\n  return offsets;\r\n}", "import getClippingRect from \"../dom-utils/getClippingRect.js\";\r\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\r\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\r\nimport computeOffsets from \"./computeOffsets.js\";\r\nimport rectToClientRect from \"./rectToClientRect.js\";\r\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\r\nimport { isElement } from \"../dom-utils/instanceOf.js\";\r\nimport mergePaddingObject from \"./mergePaddingObject.js\";\r\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport default function detectOverflow(state, options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n\r\n  var _options = options,\r\n      _options$placement = _options.placement,\r\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\r\n      _options$strategy = _options.strategy,\r\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\r\n      _options$boundary = _options.boundary,\r\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\r\n      _options$rootBoundary = _options.rootBoundary,\r\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\r\n      _options$elementConte = _options.elementContext,\r\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\r\n      _options$altBoundary = _options.altBoundary,\r\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\r\n      _options$padding = _options.padding,\r\n      padding = _options$padding === void 0 ? 0 : _options$padding;\r\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\r\n  var altContext = elementContext === popper ? reference : popper;\r\n  var popperRect = state.rects.popper;\r\n  var element = state.elements[altBoundary ? altContext : elementContext];\r\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\r\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\r\n  var popperOffsets = computeOffsets({\r\n    reference: referenceClientRect,\r\n    element: popperRect,\r\n    strategy: 'absolute',\r\n    placement: placement\r\n  });\r\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\r\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\r\n  // 0 or negative = within the clipping rect\r\n\r\n  var overflowOffsets = {\r\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\r\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\r\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\r\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\r\n  };\r\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\r\n\r\n  if (elementContext === popper && offsetData) {\r\n    var offset = offsetData[placement];\r\n    Object.keys(overflowOffsets).forEach(function (key) {\r\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\r\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\r\n      overflowOffsets[key] += offset[axis] * multiply;\r\n    });\r\n  }\r\n\r\n  return overflowOffsets;\r\n}", "import getVariation from \"./getVariation.js\";\r\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\r\nimport detectOverflow from \"./detectOverflow.js\";\r\nimport getBasePlacement from \"./getBasePlacement.js\";\r\nexport default function computeAutoPlacement(state, options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n\r\n  var _options = options,\r\n      placement = _options.placement,\r\n      boundary = _options.boundary,\r\n      rootBoundary = _options.rootBoundary,\r\n      padding = _options.padding,\r\n      flipVariations = _options.flipVariations,\r\n      _options$allowedAutoP = _options.allowedAutoPlacements,\r\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\r\n  var variation = getVariation(placement);\r\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\r\n    return getVariation(placement) === variation;\r\n  }) : basePlacements;\r\n  var allowedPlacements = placements.filter(function (placement) {\r\n    return allowedAutoPlacements.indexOf(placement) >= 0;\r\n  });\r\n\r\n  if (allowedPlacements.length === 0) {\r\n    allowedPlacements = placements;\r\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\r\n\r\n\r\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\r\n    acc[placement] = detectOverflow(state, {\r\n      placement: placement,\r\n      boundary: boundary,\r\n      rootBoundary: rootBoundary,\r\n      padding: padding\r\n    })[getBasePlacement(placement)];\r\n    return acc;\r\n  }, {});\r\n  return Object.keys(overflows).sort(function (a, b) {\r\n    return overflows[a] - overflows[b];\r\n  });\r\n}", "import getOppositePlacement from \"../utils/getOppositePlacement.js\";\r\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\r\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\r\nimport detectOverflow from \"../utils/detectOverflow.js\";\r\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\r\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\r\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nfunction getExpandedFallbackPlacements(placement) {\r\n  if (getBasePlacement(placement) === auto) {\r\n    return [];\r\n  }\r\n\r\n  var oppositePlacement = getOppositePlacement(placement);\r\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\r\n}\r\n\r\nfunction flip(_ref) {\r\n  var state = _ref.state,\r\n      options = _ref.options,\r\n      name = _ref.name;\r\n\r\n  if (state.modifiersData[name]._skip) {\r\n    return;\r\n  }\r\n\r\n  var _options$mainAxis = options.mainAxis,\r\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\r\n      _options$altAxis = options.altAxis,\r\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\r\n      specifiedFallbackPlacements = options.fallbackPlacements,\r\n      padding = options.padding,\r\n      boundary = options.boundary,\r\n      rootBoundary = options.rootBoundary,\r\n      altBoundary = options.altBoundary,\r\n      _options$flipVariatio = options.flipVariations,\r\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\r\n      allowedAutoPlacements = options.allowedAutoPlacements;\r\n  var preferredPlacement = state.options.placement;\r\n  var basePlacement = getBasePlacement(preferredPlacement);\r\n  var isBasePlacement = basePlacement === preferredPlacement;\r\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\r\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\r\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\r\n      placement: placement,\r\n      boundary: boundary,\r\n      rootBoundary: rootBoundary,\r\n      padding: padding,\r\n      flipVariations: flipVariations,\r\n      allowedAutoPlacements: allowedAutoPlacements\r\n    }) : placement);\r\n  }, []);\r\n  var referenceRect = state.rects.reference;\r\n  var popperRect = state.rects.popper;\r\n  var checksMap = new Map();\r\n  var makeFallbackChecks = true;\r\n  var firstFittingPlacement = placements[0];\r\n\r\n  for (var i = 0; i < placements.length; i++) {\r\n    var placement = placements[i];\r\n\r\n    var _basePlacement = getBasePlacement(placement);\r\n\r\n    var isStartVariation = getVariation(placement) === start;\r\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\r\n    var len = isVertical ? 'width' : 'height';\r\n    var overflow = detectOverflow(state, {\r\n      placement: placement,\r\n      boundary: boundary,\r\n      rootBoundary: rootBoundary,\r\n      altBoundary: altBoundary,\r\n      padding: padding\r\n    });\r\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\r\n\r\n    if (referenceRect[len] > popperRect[len]) {\r\n      mainVariationSide = getOppositePlacement(mainVariationSide);\r\n    }\r\n\r\n    var altVariationSide = getOppositePlacement(mainVariationSide);\r\n    var checks = [];\r\n\r\n    if (checkMainAxis) {\r\n      checks.push(overflow[_basePlacement] <= 0);\r\n    }\r\n\r\n    if (checkAltAxis) {\r\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\r\n    }\r\n\r\n    if (checks.every(function (check) {\r\n      return check;\r\n    })) {\r\n      firstFittingPlacement = placement;\r\n      makeFallbackChecks = false;\r\n      break;\r\n    }\r\n\r\n    checksMap.set(placement, checks);\r\n  }\r\n\r\n  if (makeFallbackChecks) {\r\n    // `2` may be desired in some cases – research later\r\n    var numberOfChecks = flipVariations ? 3 : 1;\r\n\r\n    var _loop = function _loop(_i) {\r\n      var fittingPlacement = placements.find(function (placement) {\r\n        var checks = checksMap.get(placement);\r\n\r\n        if (checks) {\r\n          return checks.slice(0, _i).every(function (check) {\r\n            return check;\r\n          });\r\n        }\r\n      });\r\n\r\n      if (fittingPlacement) {\r\n        firstFittingPlacement = fittingPlacement;\r\n        return \"break\";\r\n      }\r\n    };\r\n\r\n    for (var _i = numberOfChecks; _i > 0; _i--) {\r\n      var _ret = _loop(_i);\r\n\r\n      if (_ret === \"break\") break;\r\n    }\r\n  }\r\n\r\n  if (state.placement !== firstFittingPlacement) {\r\n    state.modifiersData[name]._skip = true;\r\n    state.placement = firstFittingPlacement;\r\n    state.reset = true;\r\n  }\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'flip',\r\n  enabled: true,\r\n  phase: 'main',\r\n  fn: flip,\r\n  requiresIfExists: ['offset'],\r\n  data: {\r\n    _skip: false\r\n  }\r\n};", "import { top, bottom, left, right } from \"../enums.js\";\r\nimport detectOverflow from \"../utils/detectOverflow.js\";\r\n\r\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\r\n  if (preventedOffsets === void 0) {\r\n    preventedOffsets = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n  }\r\n\r\n  return {\r\n    top: overflow.top - rect.height - preventedOffsets.y,\r\n    right: overflow.right - rect.width + preventedOffsets.x,\r\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\r\n    left: overflow.left - rect.width - preventedOffsets.x\r\n  };\r\n}\r\n\r\nfunction isAnySideFullyClipped(overflow) {\r\n  return [top, right, bottom, left].some(function (side) {\r\n    return overflow[side] >= 0;\r\n  });\r\n}\r\n\r\nfunction hide(_ref) {\r\n  var state = _ref.state,\r\n      name = _ref.name;\r\n  var referenceRect = state.rects.reference;\r\n  var popperRect = state.rects.popper;\r\n  var preventedOffsets = state.modifiersData.preventOverflow;\r\n  var referenceOverflow = detectOverflow(state, {\r\n    elementContext: 'reference'\r\n  });\r\n  var popperAltOverflow = detectOverflow(state, {\r\n    altBoundary: true\r\n  });\r\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\r\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\r\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\r\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\r\n  state.modifiersData[name] = {\r\n    referenceClippingOffsets: referenceClippingOffsets,\r\n    popperEscapeOffsets: popperEscapeOffsets,\r\n    isReferenceHidden: isReferenceHidden,\r\n    hasPopperEscaped: hasPopperEscaped\r\n  };\r\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\r\n    'data-popper-reference-hidden': isReferenceHidden,\r\n    'data-popper-escaped': hasPopperEscaped\r\n  });\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'hide',\r\n  enabled: true,\r\n  phase: 'main',\r\n  requiresIfExists: ['preventOverflow'],\r\n  fn: hide\r\n};", "import getBasePlacement from \"../utils/getBasePlacement.js\";\r\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\r\n  var basePlacement = getBasePlacement(placement);\r\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\r\n\r\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\r\n    placement: placement\r\n  })) : offset,\r\n      skidding = _ref[0],\r\n      distance = _ref[1];\r\n\r\n  skidding = skidding || 0;\r\n  distance = (distance || 0) * invertDistance;\r\n  return [left, right].indexOf(basePlacement) >= 0 ? {\r\n    x: distance,\r\n    y: skidding\r\n  } : {\r\n    x: skidding,\r\n    y: distance\r\n  };\r\n}\r\n\r\nfunction offset(_ref2) {\r\n  var state = _ref2.state,\r\n      options = _ref2.options,\r\n      name = _ref2.name;\r\n  var _options$offset = options.offset,\r\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\r\n  var data = placements.reduce(function (acc, placement) {\r\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\r\n    return acc;\r\n  }, {});\r\n  var _data$state$placement = data[state.placement],\r\n      x = _data$state$placement.x,\r\n      y = _data$state$placement.y;\r\n\r\n  if (state.modifiersData.popperOffsets != null) {\r\n    state.modifiersData.popperOffsets.x += x;\r\n    state.modifiersData.popperOffsets.y += y;\r\n  }\r\n\r\n  state.modifiersData[name] = data;\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'offset',\r\n  enabled: true,\r\n  phase: 'main',\r\n  requires: ['popperOffsets'],\r\n  fn: offset\r\n};", "import computeOffsets from \"../utils/computeOffsets.js\";\r\n\r\nfunction popperOffsets(_ref) {\r\n  var state = _ref.state,\r\n      name = _ref.name;\r\n  // Offsets are the actual position the popper needs to have to be\r\n  // properly positioned near its reference element\r\n  // This is the most basic placement, and will be adjusted by\r\n  // the modifiers in the next step\r\n  state.modifiersData[name] = computeOffsets({\r\n    reference: state.rects.reference,\r\n    element: state.rects.popper,\r\n    strategy: 'absolute',\r\n    placement: state.placement\r\n  });\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'popperOffsets',\r\n  enabled: true,\r\n  phase: 'read',\r\n  fn: popperOffsets,\r\n  data: {}\r\n};", "export default function getAltAxis(axis) {\r\n  return axis === 'x' ? 'y' : 'x';\r\n}", "import { top, left, right, bottom, start } from \"../enums.js\";\r\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\r\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\r\nimport getAltAxis from \"../utils/getAltAxis.js\";\r\nimport { within, withinMaxClamp } from \"../utils/within.js\";\r\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\r\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\r\nimport detectOverflow from \"../utils/detectOverflow.js\";\r\nimport getVariation from \"../utils/getVariation.js\";\r\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\r\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\r\n\r\nfunction preventOverflow(_ref) {\r\n  var state = _ref.state,\r\n      options = _ref.options,\r\n      name = _ref.name;\r\n  var _options$mainAxis = options.mainAxis,\r\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\r\n      _options$altAxis = options.altAxis,\r\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\r\n      boundary = options.boundary,\r\n      rootBoundary = options.rootBoundary,\r\n      altBoundary = options.altBoundary,\r\n      padding = options.padding,\r\n      _options$tether = options.tether,\r\n      tether = _options$tether === void 0 ? true : _options$tether,\r\n      _options$tetherOffset = options.tetherOffset,\r\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\r\n  var overflow = detectOverflow(state, {\r\n    boundary: boundary,\r\n    rootBoundary: rootBoundary,\r\n    padding: padding,\r\n    altBoundary: altBoundary\r\n  });\r\n  var basePlacement = getBasePlacement(state.placement);\r\n  var variation = getVariation(state.placement);\r\n  var isBasePlacement = !variation;\r\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\r\n  var altAxis = getAltAxis(mainAxis);\r\n  var popperOffsets = state.modifiersData.popperOffsets;\r\n  var referenceRect = state.rects.reference;\r\n  var popperRect = state.rects.popper;\r\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\r\n    placement: state.placement\r\n  })) : tetherOffset;\r\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\r\n    mainAxis: tetherOffsetValue,\r\n    altAxis: tetherOffsetValue\r\n  } : Object.assign({\r\n    mainAxis: 0,\r\n    altAxis: 0\r\n  }, tetherOffsetValue);\r\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\r\n  var data = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n\r\n  if (!popperOffsets) {\r\n    return;\r\n  }\r\n\r\n  if (checkMainAxis) {\r\n    var _offsetModifierState$;\r\n\r\n    var mainSide = mainAxis === 'y' ? top : left;\r\n    var altSide = mainAxis === 'y' ? bottom : right;\r\n    var len = mainAxis === 'y' ? 'height' : 'width';\r\n    var offset = popperOffsets[mainAxis];\r\n    var min = offset + overflow[mainSide];\r\n    var max = offset - overflow[altSide];\r\n    var additive = tether ? -popperRect[len] / 2 : 0;\r\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\r\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\r\n    // outside the reference bounds\r\n\r\n    var arrowElement = state.elements.arrow;\r\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\r\n      width: 0,\r\n      height: 0\r\n    };\r\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\r\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\r\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\r\n    // to include its full size in the calculation. If the reference is small\r\n    // and near the edge of a boundary, the popper can overflow even if the\r\n    // reference is not overflowing as well (e.g. virtual elements with no\r\n    // width or height)\r\n\r\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\r\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\r\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\r\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\r\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\r\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\r\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\r\n    var tetherMax = offset + maxOffset - offsetModifierValue;\r\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\r\n    popperOffsets[mainAxis] = preventedOffset;\r\n    data[mainAxis] = preventedOffset - offset;\r\n  }\r\n\r\n  if (checkAltAxis) {\r\n    var _offsetModifierState$2;\r\n\r\n    var _mainSide = mainAxis === 'x' ? top : left;\r\n\r\n    var _altSide = mainAxis === 'x' ? bottom : right;\r\n\r\n    var _offset = popperOffsets[altAxis];\r\n\r\n    var _len = altAxis === 'y' ? 'height' : 'width';\r\n\r\n    var _min = _offset + overflow[_mainSide];\r\n\r\n    var _max = _offset - overflow[_altSide];\r\n\r\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\r\n\r\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\r\n\r\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\r\n\r\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\r\n\r\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\r\n\r\n    popperOffsets[altAxis] = _preventedOffset;\r\n    data[altAxis] = _preventedOffset - _offset;\r\n  }\r\n\r\n  state.modifiersData[name] = data;\r\n} // eslint-disable-next-line import/no-unused-modules\r\n\r\n\r\nexport default {\r\n  name: 'preventOverflow',\r\n  enabled: true,\r\n  phase: 'main',\r\n  fn: preventOverflow,\r\n  requiresIfExists: ['offset']\r\n};", "export default function getHTMLElementScroll(element) {\r\n  return {\r\n    scrollLeft: element.scrollLeft,\r\n    scrollTop: element.scrollTop\r\n  };\r\n}", "import getWindowScroll from \"./getWindowScroll.js\";\r\nimport getWindow from \"./getWindow.js\";\r\nimport { isHTMLElement } from \"./instanceOf.js\";\r\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\r\nexport default function getNodeScroll(node) {\r\n  if (node === getWindow(node) || !isHTMLElement(node)) {\r\n    return getWindowScroll(node);\r\n  } else {\r\n    return getHTMLElementScroll(node);\r\n  }\r\n}", "import getBoundingClientRect from \"./getBoundingClientRect.js\";\r\nimport getNodeScroll from \"./getNodeScroll.js\";\r\nimport getNodeName from \"./getNodeName.js\";\r\nimport { isHTMLElement } from \"./instanceOf.js\";\r\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\r\nimport getDocumentElement from \"./getDocumentElement.js\";\r\nimport isScrollParent from \"./isScrollParent.js\";\r\nimport { round } from \"../utils/math.js\";\r\n\r\nfunction isElementScaled(element) {\r\n  var rect = element.getBoundingClientRect();\r\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\r\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\r\n  return scaleX !== 1 || scaleY !== 1;\r\n} // Returns the composite rect of an element relative to its offsetParent.\r\n// Composite means it takes into account transforms as well as layout.\r\n\r\n\r\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\r\n  if (isFixed === void 0) {\r\n    isFixed = false;\r\n  }\r\n\r\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\r\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\r\n  var documentElement = getDocumentElement(offsetParent);\r\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\r\n  var scroll = {\r\n    scrollLeft: 0,\r\n    scrollTop: 0\r\n  };\r\n  var offsets = {\r\n    x: 0,\r\n    y: 0\r\n  };\r\n\r\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\r\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\r\n    isScrollParent(documentElement)) {\r\n      scroll = getNodeScroll(offsetParent);\r\n    }\r\n\r\n    if (isHTMLElement(offsetParent)) {\r\n      offsets = getBoundingClientRect(offsetParent, true);\r\n      offsets.x += offsetParent.clientLeft;\r\n      offsets.y += offsetParent.clientTop;\r\n    } else if (documentElement) {\r\n      offsets.x = getWindowScrollBarX(documentElement);\r\n    }\r\n  }\r\n\r\n  return {\r\n    x: rect.left + scroll.scrollLeft - offsets.x,\r\n    y: rect.top + scroll.scrollTop - offsets.y,\r\n    width: rect.width,\r\n    height: rect.height\r\n  };\r\n}", "import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\r\n\r\nfunction order(modifiers) {\r\n  var map = new Map();\r\n  var visited = new Set();\r\n  var result = [];\r\n  modifiers.forEach(function (modifier) {\r\n    map.set(modifier.name, modifier);\r\n  }); // On visiting object, check for its dependencies and visit them recursively\r\n\r\n  function sort(modifier) {\r\n    visited.add(modifier.name);\r\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\r\n    requires.forEach(function (dep) {\r\n      if (!visited.has(dep)) {\r\n        var depModifier = map.get(dep);\r\n\r\n        if (depModifier) {\r\n          sort(depModifier);\r\n        }\r\n      }\r\n    });\r\n    result.push(modifier);\r\n  }\r\n\r\n  modifiers.forEach(function (modifier) {\r\n    if (!visited.has(modifier.name)) {\r\n      // check for visited object\r\n      sort(modifier);\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nexport default function orderModifiers(modifiers) {\r\n  // order based on dependencies\r\n  var orderedModifiers = order(modifiers); // order based on phase\r\n\r\n  return modifierPhases.reduce(function (acc, phase) {\r\n    return acc.concat(orderedModifiers.filter(function (modifier) {\r\n      return modifier.phase === phase;\r\n    }));\r\n  }, []);\r\n}", "export default function debounce(fn) {\r\n  var pending;\r\n  return function () {\r\n    if (!pending) {\r\n      pending = new Promise(function (resolve) {\r\n        Promise.resolve().then(function () {\r\n          pending = undefined;\r\n          resolve(fn());\r\n        });\r\n      });\r\n    }\r\n\r\n    return pending;\r\n  };\r\n}", "export default function mergeByName(modifiers) {\r\n  var merged = modifiers.reduce(function (merged, current) {\r\n    var existing = merged[current.name];\r\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\r\n      options: Object.assign({}, existing.options, current.options),\r\n      data: Object.assign({}, existing.data, current.data)\r\n    }) : current;\r\n    return merged;\r\n  }, {}); // IE11 does not support Object.values\r\n\r\n  return Object.keys(merged).map(function (key) {\r\n    return merged[key];\r\n  });\r\n}", "import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\r\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\r\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\r\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\r\nimport orderModifiers from \"./utils/orderModifiers.js\";\r\nimport debounce from \"./utils/debounce.js\";\r\nimport mergeByName from \"./utils/mergeByName.js\";\r\nimport detectOverflow from \"./utils/detectOverflow.js\";\r\nimport { isElement } from \"./dom-utils/instanceOf.js\";\r\nvar DEFAULT_OPTIONS = {\r\n  placement: 'bottom',\r\n  modifiers: [],\r\n  strategy: 'absolute'\r\n};\r\n\r\nfunction areValidElements() {\r\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n    args[_key] = arguments[_key];\r\n  }\r\n\r\n  return !args.some(function (element) {\r\n    return !(element && typeof element.getBoundingClientRect === 'function');\r\n  });\r\n}\r\n\r\nexport function popperGenerator(generatorOptions) {\r\n  if (generatorOptions === void 0) {\r\n    generatorOptions = {};\r\n  }\r\n\r\n  var _generatorOptions = generatorOptions,\r\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\r\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\r\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\r\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\r\n  return function createPopper(reference, popper, options) {\r\n    if (options === void 0) {\r\n      options = defaultOptions;\r\n    }\r\n\r\n    var state = {\r\n      placement: 'bottom',\r\n      orderedModifiers: [],\r\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\r\n      modifiersData: {},\r\n      elements: {\r\n        reference: reference,\r\n        popper: popper\r\n      },\r\n      attributes: {},\r\n      styles: {}\r\n    };\r\n    var effectCleanupFns = [];\r\n    var isDestroyed = false;\r\n    var instance = {\r\n      state: state,\r\n      setOptions: function setOptions(setOptionsAction) {\r\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\r\n        cleanupModifierEffects();\r\n        state.options = Object.assign({}, defaultOptions, state.options, options);\r\n        state.scrollParents = {\r\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\r\n          popper: listScrollParents(popper)\r\n        }; // Orders the modifiers based on their dependencies and `phase`\r\n        // properties\r\n\r\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\r\n\r\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\r\n          return m.enabled;\r\n        });\r\n        runModifierEffects();\r\n        return instance.update();\r\n      },\r\n      // Sync update – it will always be executed, even if not necessary. This\r\n      // is useful for low frequency updates where sync behavior simplifies the\r\n      // logic.\r\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\r\n      // prefer the async Popper#update method\r\n      forceUpdate: function forceUpdate() {\r\n        if (isDestroyed) {\r\n          return;\r\n        }\r\n\r\n        var _state$elements = state.elements,\r\n            reference = _state$elements.reference,\r\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\r\n        // anymore\r\n\r\n        if (!areValidElements(reference, popper)) {\r\n          return;\r\n        } // Store the reference and popper rects to be read by modifiers\r\n\r\n\r\n        state.rects = {\r\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\r\n          popper: getLayoutRect(popper)\r\n        }; // Modifiers have the ability to reset the current update cycle. The\r\n        // most common use case for this is the `flip` modifier changing the\r\n        // placement, which then needs to re-run all the modifiers, because the\r\n        // logic was previously ran for the previous placement and is therefore\r\n        // stale/incorrect\r\n\r\n        state.reset = false;\r\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\r\n        // is filled with the initial data specified by the modifier. This means\r\n        // it doesn't persist and is fresh on each update.\r\n        // To ensure persistent data, use `${name}#persistent`\r\n\r\n        state.orderedModifiers.forEach(function (modifier) {\r\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\r\n        });\r\n\r\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\r\n          if (state.reset === true) {\r\n            state.reset = false;\r\n            index = -1;\r\n            continue;\r\n          }\r\n\r\n          var _state$orderedModifie = state.orderedModifiers[index],\r\n              fn = _state$orderedModifie.fn,\r\n              _state$orderedModifie2 = _state$orderedModifie.options,\r\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\r\n              name = _state$orderedModifie.name;\r\n\r\n          if (typeof fn === 'function') {\r\n            state = fn({\r\n              state: state,\r\n              options: _options,\r\n              name: name,\r\n              instance: instance\r\n            }) || state;\r\n          }\r\n        }\r\n      },\r\n      // Async and optimistically optimized update – it will not be executed if\r\n      // not necessary (debounced to run at most once-per-tick)\r\n      update: debounce(function () {\r\n        return new Promise(function (resolve) {\r\n          instance.forceUpdate();\r\n          resolve(state);\r\n        });\r\n      }),\r\n      destroy: function destroy() {\r\n        cleanupModifierEffects();\r\n        isDestroyed = true;\r\n      }\r\n    };\r\n\r\n    if (!areValidElements(reference, popper)) {\r\n      return instance;\r\n    }\r\n\r\n    instance.setOptions(options).then(function (state) {\r\n      if (!isDestroyed && options.onFirstUpdate) {\r\n        options.onFirstUpdate(state);\r\n      }\r\n    }); // Modifiers have the ability to execute arbitrary code before the first\r\n    // update cycle runs. They will be executed in the same order as the update\r\n    // cycle. This is useful when a modifier adds some persistent data that\r\n    // other modifiers need to use, but the modifier is run after the dependent\r\n    // one.\r\n\r\n    function runModifierEffects() {\r\n      state.orderedModifiers.forEach(function (_ref) {\r\n        var name = _ref.name,\r\n            _ref$options = _ref.options,\r\n            options = _ref$options === void 0 ? {} : _ref$options,\r\n            effect = _ref.effect;\r\n\r\n        if (typeof effect === 'function') {\r\n          var cleanupFn = effect({\r\n            state: state,\r\n            name: name,\r\n            instance: instance,\r\n            options: options\r\n          });\r\n\r\n          var noopFn = function noopFn() {};\r\n\r\n          effectCleanupFns.push(cleanupFn || noopFn);\r\n        }\r\n      });\r\n    }\r\n\r\n    function cleanupModifierEffects() {\r\n      effectCleanupFns.forEach(function (fn) {\r\n        return fn();\r\n      });\r\n      effectCleanupFns = [];\r\n    }\r\n\r\n    return instance;\r\n  };\r\n}\r\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport { detectOverflow };", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\r\nimport eventListeners from \"./modifiers/eventListeners.js\";\r\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\r\nimport computeStyles from \"./modifiers/computeStyles.js\";\r\nimport applyStyles from \"./modifiers/applyStyles.js\";\r\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\r\nvar createPopper = /*#__PURE__*/popperGenerator({\r\n  defaultModifiers: defaultModifiers\r\n}); // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };", "import { popperGenerator, detectOverflow } from \"./createPopper.js\";\r\nimport eventListeners from \"./modifiers/eventListeners.js\";\r\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\r\nimport computeStyles from \"./modifiers/computeStyles.js\";\r\nimport applyStyles from \"./modifiers/applyStyles.js\";\r\nimport offset from \"./modifiers/offset.js\";\r\nimport flip from \"./modifiers/flip.js\";\r\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\r\nimport arrow from \"./modifiers/arrow.js\";\r\nimport hide from \"./modifiers/hide.js\";\r\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\r\nvar createPopper = /*#__PURE__*/popperGenerator({\r\n  defaultModifiers: defaultModifiers\r\n}); // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\r\n\r\nexport * from \"./modifiers/index.js\";", "/*\r\n * HSDropdown\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport {\r\n\tgetClassProperty,\r\n\tgetClassPropertyAlt,\r\n\tisIOS,\r\n\tisIpadOS,\r\n\tdispatch,\r\n\tafterTransition,\r\n\tmenuSearchHistory,\r\n} from '../../utils';\r\nimport { IMenuSearchHistory } from '../../utils/interfaces';\r\n\r\nimport { createPopper, PositioningStrategy } from '@popperjs/core';\r\n\r\nimport { IDropdown, IHTMLElementPopper } from './interfaces';\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { POSITIONS, DROPDOWN_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSDropdown\r\n\textends HSBasePlugin<{}, IHTMLElementPopper>\r\n\timplements IDropdown\r\n{\r\n\tprivate static history: IMenuSearchHistory;\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tpublic menu: HTMLElement | null;\r\n\tprivate eventMode: string;\r\n\tprivate readonly closeMode: string;\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tconstructor(el: IHTMLElementPopper, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.toggle =\r\n\t\t\tthis.el.querySelector(':scope > .hs-dropdown-toggle') ||\r\n\t\t\t(this.el.children[0] as HTMLElement);\r\n\t\tthis.menu = this.el.querySelector(':scope > .hs-dropdown-menu');\r\n\t\tthis.eventMode = getClassProperty(this.el, '--trigger', 'click');\r\n\t\tthis.closeMode = getClassProperty(this.el, '--auto-close', 'true');\r\n\t\tthis.animationInProcess = false;\r\n\r\n\t\tif (this.toggle && this.menu) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsDropdownCollection, this);\r\n\r\n\t\tif ((this.toggle as HTMLButtonElement).disabled) return false;\r\n\r\n\t\tthis.toggle.addEventListener('click', () => this.onClickHandler());\r\n\r\n\t\tif (!isIOS() && !isIpadOS()) {\r\n\t\t\tthis.el.addEventListener('mouseenter', () => this.onMouseEnterHandler());\r\n\t\t\tthis.el.addEventListener('mouseleave', () => this.onMouseLeaveHandler());\r\n\t\t}\r\n\t}\r\n\r\n\tresizeHandler() {\r\n\t\tthis.eventMode = getClassProperty(this.el, '--trigger', 'click');\r\n\t}\r\n\r\n\tprivate onClickHandler() {\r\n\t\tif (\r\n\t\t\tthis.el.classList.contains('open') &&\r\n\t\t\t!this.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onMouseEnterHandler() {\r\n\t\tif (this.eventMode !== 'hover') return false;\r\n\r\n\t\tif (this.el._popper) this.forceClearState();\r\n\r\n\t\tif (\r\n\t\t\t!this.el.classList.contains('open') &&\r\n\t\t\tthis.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onMouseLeaveHandler() {\r\n\t\tif (this.eventMode !== 'hover') return false;\r\n\r\n\t\tif (\r\n\t\t\tthis.el.classList.contains('open') &&\r\n\t\t\t!this.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate destroyPopper() {\r\n\t\tthis.menu.classList.remove('block');\r\n\t\tthis.menu.classList.add('hidden');\r\n\r\n\t\tthis.menu.style.inset = null;\r\n\t\tthis.menu.style.position = null;\r\n\r\n\t\tif (this.el && this.el._popper) this.el._popper.destroy();\r\n\r\n\t\tthis.animationInProcess = false;\r\n\t}\r\n\r\n\tprivate absoluteStrategyModifiers() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'applyStyles',\r\n\t\t\t\tfn: (data: any) => {\r\n\t\t\t\t\tconst strategy = (\r\n\t\t\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--strategy') ||\r\n\t\t\t\t\t\t'absolute'\r\n\t\t\t\t\t).replace(' ', '');\r\n\t\t\t\t\tconst adaptive = (\r\n\t\t\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--adaptive') ||\r\n\t\t\t\t\t\t'adaptive'\r\n\t\t\t\t\t).replace(' ', '');\r\n\r\n\t\t\t\t\tdata.state.elements.popper.style.position = strategy;\r\n\t\t\t\t\tdata.state.elements.popper.style.transform =\r\n\t\t\t\t\t\tadaptive === 'adaptive' ? data.state.styles.popper.transform : null;\r\n\t\t\t\t\tdata.state.elements.popper.style.top = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.bottom = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.left = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.right = null;\r\n\t\t\t\t\tdata.state.elements.popper.style.margin = 0;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'computeStyles',\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tadaptive: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic open() {\r\n\t\tif (this.el.classList.contains('open')) return false;\r\n\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tconst placement = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--placement') || ''\r\n\t\t).replace(' ', '');\r\n\t\tconst flip = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--flip') || 'true'\r\n\t\t).replace(' ', '');\r\n\t\tconst strategy = (\r\n\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--strategy') || 'fixed'\r\n\t\t).replace(' ', '') as PositioningStrategy;\r\n\t\tconst offset = parseInt(\r\n\t\t\t(\r\n\t\t\t\twindow.getComputedStyle(this.el).getPropertyValue('--offset') || '10'\r\n\t\t\t).replace(' ', ''),\r\n\t\t);\r\n\r\n\t\tif (strategy !== ('static' as PositioningStrategy)) {\r\n\t\t\tthis.el._popper = createPopper(this.el, this.menu, {\r\n\t\t\t\tplacement: POSITIONS[placement] || 'bottom-start',\r\n\t\t\t\tstrategy: strategy,\r\n\t\t\t\tmodifiers: [\r\n\t\t\t\t\t...(strategy !== 'fixed' ? this.absoluteStrategyModifiers() : []),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'flip',\r\n\t\t\t\t\t\tenabled: flip === 'true',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'offset',\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\toffset: [0, offset],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.menu.style.margin = null;\r\n\r\n\t\tthis.menu.classList.remove('hidden');\r\n\t\tthis.menu.classList.add('block');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.el.classList.add('open');\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.fireEvent('open', this.el);\r\n\t\tdispatch('open.hs.dropdown', this.el, this.el);\r\n\t}\r\n\r\n\tpublic close(isAnimated = true) {\r\n\t\tif (this.animationInProcess || !this.el.classList.contains('open'))\r\n\t\t\treturn false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tif (isAnimated) {\r\n\t\t\tconst el: HTMLElement =\r\n\t\t\t\tthis.el.querySelector('[data-hs-dropdown-transition]') || this.menu;\r\n\r\n\t\t\tafterTransition(el, () => this.destroyPopper());\r\n\t\t} else this.destroyPopper();\r\n\r\n\t\tthis.menu.style.margin = null;\r\n\r\n\t\tthis.el.classList.remove('open');\r\n\r\n\t\tthis.fireEvent('close', this.el);\r\n\t\tdispatch('close.hs.dropdown', this.el, this.el);\r\n\t}\r\n\r\n\tpublic forceClearState() {\r\n\t\tthis.destroyPopper();\r\n\t\tthis.menu.style.margin = null;\r\n\t\tthis.el.classList.remove('open');\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsDropdownCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsDropdownCollection) window.$hsDropdownCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('.hs-dropdown:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: IHTMLElementPopper) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsDropdownCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSDropdown(el);\r\n\t\t\t});\r\n\r\n\t\tif (window.$hsDropdownCollection) {\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSDropdown.accessibility(evt),\r\n\t\t\t);\r\n\r\n\t\t\twindow.addEventListener('click', (evt) => {\r\n\t\t\t\tconst evtTarget = evt.target;\r\n\r\n\t\t\t\tHSDropdown.closeCurrentlyOpened(evtTarget as HTMLElement);\r\n\t\t\t});\r\n\r\n\t\t\tlet prevWidth = window.innerWidth;\r\n\t\t\twindow.addEventListener('resize', () => {\r\n\t\t\t\tif (window.innerWidth !== prevWidth) {\r\n\t\t\t\t\tprevWidth = innerWidth;\r\n\t\t\t\t\tHSDropdown.closeCurrentlyOpened(null, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tstatic open(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsDropdownCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\telInCollection.element.menu.classList.contains('hidden')\r\n\t\t)\r\n\t\t\telInCollection.element.open();\r\n\t}\r\n\r\n\tstatic close(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsDropdownCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\t!elInCollection.element.menu.classList.contains('hidden')\r\n\t\t) {\r\n\t\t\telInCollection.element.close();\r\n\t\t}\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tthis.history = menuSearchHistory;\r\n\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\t(DROPDOWN_ACCESSIBILITY_KEY_SET.includes(evt.code) ||\r\n\t\t\t\t(evt.code.length === 4 &&\r\n\t\t\t\t\tevt.code[evt.code.length - 1].match(/^[A-Z]*$/))) &&\r\n\t\t\t!evt.metaKey &&\r\n\t\t\t!target.element.menu.querySelector('input:focus')\r\n\t\t) {\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase 'Escape':\r\n\t\t\t\t\tif (!target.element.menu.querySelector('.hs-select.active')) {\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tthis.onEscape(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!target.element.menu.querySelector('.hs-select button:focus') &&\r\n\t\t\t\t\t\t!target.element.menu.querySelector('.hs-collapse-toggle:focus')\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onFirstLetter(evt.key);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape(evt: KeyboardEvent) {\r\n\t\tconst dropdown = (evt.target as HTMLElement).closest('.hs-dropdown.open');\r\n\r\n\t\tif (window.$hsDropdownCollection.find((el) => el.element.el === dropdown)) {\r\n\t\t\tconst target = window.$hsDropdownCollection.find(\r\n\t\t\t\t(el) => el.element.el === dropdown,\r\n\t\t\t);\r\n\r\n\t\t\tif (target) {\r\n\t\t\t\ttarget.element.close();\r\n\t\t\t\ttarget.element.toggle.focus();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.closeCurrentlyOpened();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEnter(evt: KeyboardEvent) {\r\n\t\tconst dropdown = (evt.target as HTMLElement).parentElement;\r\n\r\n\t\tif (window.$hsDropdownCollection.find((el) => el.element.el === dropdown)) {\r\n\t\t\tevt.preventDefault();\r\n\r\n\t\t\tconst target = window.$hsDropdownCollection.find(\r\n\t\t\t\t(el) => el.element.el === dropdown,\r\n\t\t\t);\r\n\r\n\t\t\tif (target) target.element.open();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrow(isArrowUp = true) {\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst menu = target.element.menu;\r\n\r\n\t\t\tif (!menu) return false;\r\n\r\n\t\t\tconst preparedLinks = isArrowUp\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\t\tmenu.querySelectorAll(\r\n\t\t\t\t\t\t\t'a:not([hidden]), .hs-dropdown > button:not([hidden])',\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t).reverse()\r\n\t\t\t\t: Array.from(\r\n\t\t\t\t\t\tmenu.querySelectorAll(\r\n\t\t\t\t\t\t\t'a:not([hidden]), .hs-dropdown > button:not([hidden])',\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t);\r\n\r\n\t\t\tconst links = preparedLinks.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current = menu.querySelector('a:focus, button:focus');\r\n\t\t\tlet currentInd = links.findIndex((el: any) => el === current);\r\n\r\n\t\t\tif (currentInd + 1 < links.length) {\r\n\t\t\t\tcurrentInd++;\r\n\t\t\t}\r\n\r\n\t\t\t(links[currentInd] as HTMLButtonElement | HTMLAnchorElement).focus();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isStart = true) {\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst menu = target.element.menu;\r\n\r\n\t\t\tif (!menu) return false;\r\n\r\n\t\t\tconst preparedLinks = isStart\r\n\t\t\t\t? Array.from(menu.querySelectorAll('a'))\r\n\t\t\t\t: Array.from(menu.querySelectorAll('a')).reverse();\r\n\t\t\tconst links = preparedLinks.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\r\n\t\t\tif (links.length) {\r\n\t\t\t\tlinks[0].focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onFirstLetter(code: string) {\r\n\t\tconst target = window.$hsDropdownCollection.find((el) =>\r\n\t\t\tel.element.el.classList.contains('open'),\r\n\t\t);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst menu = target.element.menu;\r\n\r\n\t\t\tif (!menu) return false;\r\n\r\n\t\t\tconst links = Array.from(menu.querySelectorAll('a'));\r\n\t\t\tconst getCurrentInd = () =>\r\n\t\t\t\tlinks.findIndex(\r\n\t\t\t\t\t(el, i) =>\r\n\t\t\t\t\t\tel.innerText.toLowerCase().charAt(0) === code.toLowerCase() &&\r\n\t\t\t\t\t\tthis.history.existsInHistory(i),\r\n\t\t\t\t);\r\n\t\t\tlet currentInd = getCurrentInd();\r\n\r\n\t\t\tif (currentInd === -1) {\r\n\t\t\t\tthis.history.clearHistory();\r\n\t\t\t\tcurrentInd = getCurrentInd();\r\n\t\t\t}\r\n\r\n\t\t\tif (currentInd !== -1) {\r\n\t\t\t\tlinks[currentInd].focus();\r\n\t\t\t\tthis.history.addHistory(currentInd);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic closeCurrentlyOpened(\r\n\t\tevtTarget: HTMLElement | null = null,\r\n\t\tisAnimated = true,\r\n\t) {\r\n\t\tconst parent =\r\n\t\t\tevtTarget &&\r\n\t\t\tevtTarget.closest('.hs-dropdown') &&\r\n\t\t\tevtTarget.closest('.hs-dropdown').parentElement.closest('.hs-dropdown')\r\n\t\t\t\t? evtTarget\r\n\t\t\t\t\t\t.closest('.hs-dropdown')\r\n\t\t\t\t\t\t.parentElement.closest('.hs-dropdown')\r\n\t\t\t\t: null;\r\n\t\tlet currentlyOpened = parent\r\n\t\t\t? window.$hsDropdownCollection.filter(\r\n\t\t\t\t\t(el) =>\r\n\t\t\t\t\t\tel.element.el.classList.contains('open') &&\r\n\t\t\t\t\t\tel.element.menu\r\n\t\t\t\t\t\t\t.closest('.hs-dropdown')\r\n\t\t\t\t\t\t\t.parentElement.closest('.hs-dropdown') === parent,\r\n\t\t\t\t)\r\n\t\t\t: window.$hsDropdownCollection.filter((el) =>\r\n\t\t\t\t\tel.element.el.classList.contains('open'),\r\n\t\t\t\t);\r\n\r\n\t\tif (\r\n\t\t\tevtTarget &&\r\n\t\t\tevtTarget.closest('.hs-dropdown') &&\r\n\t\t\tgetClassPropertyAlt(evtTarget.closest('.hs-dropdown'), '--auto-close') ===\r\n\t\t\t\t'inside'\r\n\t\t) {\r\n\t\t\tcurrentlyOpened = currentlyOpened.filter(\r\n\t\t\t\t(el) => el.element.el !== evtTarget.closest('.hs-dropdown'),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (currentlyOpened) {\r\n\t\t\tcurrentlyOpened.forEach((el) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tel.element.closeMode === 'false' ||\r\n\t\t\t\t\tel.element.closeMode === 'outside'\r\n\t\t\t\t)\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tel.element.close(isAnimated);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsDropdownCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSDropdown: Function;\r\n\t\t$hsDropdownCollection: ICollectionItem<HSDropdown>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSDropdown.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Dropdown collection:', window.$hsDropdownCollection);\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tif (!window.$hsDropdownCollection) window.$hsDropdownCollection = [];\r\n\r\n\twindow.$hsDropdownCollection.forEach((el) => el.element.resizeHandler());\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSDropdown = HSDropdown;\r\n}\r\n\r\nexport default HSDropdown;\r\n", "/*\r\n * HSInputNumber\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { IInputNumberOptions, IInputNumber } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\n\r\nclass HSInputNumber\r\n\textends HSBasePlugin<IInputNumberOptions>\r\n\timplements IInputNumber\r\n{\r\n\tprivate readonly input: HTMLInputElement | null;\r\n\tprivate readonly increment: HTMLElement | null;\r\n\tprivate readonly decrement: HTMLElement | null;\r\n\tprivate inputValue: number | null;\r\n\tprivate readonly minInputValue: number | null;\r\n\tprivate readonly maxInputValue: number | null;\r\n\tprivate readonly step: number;\r\n\r\n\tconstructor(el: HTMLElement, options?: IInputNumberOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tthis.input = this.el.querySelector('[data-hs-input-number-input]') || null;\r\n\t\tthis.increment =\r\n\t\t\tthis.el.querySelector('[data-hs-input-number-increment]') || null;\r\n\t\tthis.decrement =\r\n\t\t\tthis.el.querySelector('[data-hs-input-number-decrement]') || null;\r\n\r\n\t\tif (this.input) {\r\n\t\t\tthis.inputValue = !isNaN(parseInt(this.input.value))\r\n\t\t\t\t? parseInt(this.input.value)\r\n\t\t\t\t: 0;\r\n\t\t}\r\n\r\n\t\tconst data = this.el.dataset.hsInputNumber;\r\n\t\tconst dataOptions: IInputNumberOptions = data\r\n\t\t\t? JSON.parse(data)\r\n\t\t\t: { step: 1 };\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.minInputValue = 'min' in concatOptions ? concatOptions.min : 0;\r\n\t\tthis.maxInputValue = 'max' in concatOptions ? concatOptions.max : null;\r\n\t\tthis.step =\r\n\t\t\t'step' in concatOptions && concatOptions.step > 0\r\n\t\t\t\t? concatOptions.step\r\n\t\t\t\t: 1;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsInputNumberCollection, this);\r\n\r\n\t\tif (this.input && this.increment) this.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tif (this.input) this.buildInput();\r\n\t\tif (this.increment) this.buildIncrement();\r\n\t\tif (this.decrement) this.buildDecrement();\r\n\r\n\t\tif (this.inputValue <= 0 && this.minInputValue === 0) {\r\n\t\t\tthis.inputValue = 0;\r\n\t\t\tthis.input.value = '0';\r\n\t\t}\r\n\r\n\t\tif (this.inputValue <= 0 || this.minInputValue < 0) this.changeValue();\r\n\r\n\t\tif (this.input.hasAttribute('disabled')) this.disableButtons();\r\n\t}\r\n\r\n\tprivate buildInput() {\r\n\t\tthis.input.addEventListener('input', () => this.changeValue());\r\n\t}\r\n\r\n\tprivate buildIncrement() {\r\n\t\tthis.increment.addEventListener('click', () => {\r\n\t\t\tthis.changeValue('increment');\r\n\t\t});\r\n\t}\r\n\r\n\tprivate buildDecrement() {\r\n\t\tthis.decrement.addEventListener('click', () => {\r\n\t\t\tthis.changeValue('decrement');\r\n\t\t});\r\n\t}\r\n\r\n\tprivate changeValue(event = 'none') {\r\n\t\tconst payload = { inputValue: this.inputValue };\r\n\t\tconst minInputValue = this.minInputValue ?? Number.MIN_SAFE_INTEGER;\r\n\t\tconst maxInputValue = this.maxInputValue ?? Number.MAX_SAFE_INTEGER;\r\n\r\n\t\tthis.inputValue = isNaN(this.inputValue) ? 0 : this.inputValue;\r\n\r\n\t\tswitch (event) {\r\n\t\t\tcase 'increment':\r\n\t\t\t\tconst incrementedResult = this.inputValue + this.step;\r\n\t\t\t\tthis.inputValue =\r\n\t\t\t\t\tincrementedResult >= minInputValue &&\r\n\t\t\t\t\tincrementedResult <= maxInputValue\r\n\t\t\t\t\t\t? incrementedResult\r\n\t\t\t\t\t\t: maxInputValue;\r\n\t\t\t\tthis.input.value = this.inputValue.toString();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'decrement':\r\n\t\t\t\tconst decrementedResult = this.inputValue - this.step;\r\n\t\t\t\tthis.inputValue =\r\n\t\t\t\t\tdecrementedResult >= minInputValue &&\r\n\t\t\t\t\tdecrementedResult <= maxInputValue\r\n\t\t\t\t\t\t? decrementedResult\r\n\t\t\t\t\t\t: minInputValue;\r\n\t\t\t\tthis.input.value = this.inputValue.toString();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tconst defaultResult = isNaN(parseInt(this.input.value))\r\n\t\t\t\t\t? 0\r\n\t\t\t\t\t: parseInt(this.input.value);\r\n\t\t\t\tthis.inputValue =\r\n\t\t\t\t\tdefaultResult >= maxInputValue\r\n\t\t\t\t\t\t? maxInputValue\r\n\t\t\t\t\t\t: defaultResult <= minInputValue\r\n\t\t\t\t\t\t\t? minInputValue\r\n\t\t\t\t\t\t\t: defaultResult;\r\n\t\t\t\tif (this.inputValue <= minInputValue)\r\n\t\t\t\t\tthis.input.value = this.inputValue.toString();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tpayload.inputValue = this.inputValue;\r\n\r\n\t\tif (this.inputValue === minInputValue) {\r\n\t\t\tthis.el.classList.add('disabled');\r\n\t\t\tif (this.decrement) this.disableButtons('decrement');\r\n\t\t} else {\r\n\t\t\tthis.el.classList.remove('disabled');\r\n\t\t\tif (this.decrement) this.enableButtons('decrement');\r\n\t\t}\r\n\t\tif (this.inputValue === maxInputValue) {\r\n\t\t\tthis.el.classList.add('disabled');\r\n\t\t\tif (this.increment) this.disableButtons('increment');\r\n\t\t} else {\r\n\t\t\tthis.el.classList.remove('disabled');\r\n\t\t\tif (this.increment) this.enableButtons('increment');\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('change', payload);\r\n\t\tdispatch('change.hs.inputNumber', this.el, payload);\r\n\t}\r\n\r\n\tprivate disableButtons(mode = 'all') {\r\n\t\tif (mode === 'all') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.setAttribute('disabled', 'disabled');\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.setAttribute('disabled', 'disabled');\r\n\t\t} else if (mode === 'increment') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.setAttribute('disabled', 'disabled');\r\n\t\t} else if (mode === 'decrement') {\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.setAttribute('disabled', 'disabled');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate enableButtons(mode = 'all') {\r\n\t\tif (mode === 'all') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.removeAttribute('disabled');\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.removeAttribute('disabled');\r\n\t\t} else if (mode === 'increment') {\r\n\t\t\tif (\r\n\t\t\t\tthis.increment.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.increment.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.increment.removeAttribute('disabled');\r\n\t\t} else if (mode === 'decrement') {\r\n\t\t\tif (\r\n\t\t\t\tthis.decrement.tagName === 'BUTTON' ||\r\n\t\t\t\tthis.decrement.tagName === 'INPUT'\r\n\t\t\t)\r\n\t\t\t\tthis.decrement.removeAttribute('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\t// Global method\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsInputNumberCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsInputNumberCollection) window.$hsInputNumberCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-input-number]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsInputNumberCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSInputNumber(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSInputNumber: Function;\r\n\t\t$hsInputNumberCollection: {\r\n\t\t\tid: number;\r\n\t\t\telement: HSInputNumber;\r\n\t\t}[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSInputNumber.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Input number collection:', window.$hsInputNumberCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSInputNumber = HSInputNumber;\r\n}\r\n\r\nexport default HSInputNumber;\r\n", "/*\r\n * HSOverlay\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport {\r\n\tstringToBoolean,\r\n\tgetClassProperty,\r\n\tisParentOrElementHidden,\r\n\tdispatch,\r\n\tafterTransition,\r\n} from '../../utils';\r\n\r\nimport { IOverlayOptions, IOverlay } from './interfaces';\r\nimport { ICollectionItem } from '../../interfaces';\r\nimport { BREAKPOINTS } from '../../constants';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\n\r\nclass HSOverlay extends HSBasePlugin<{}> implements IOverlay {\r\n\tprivate readonly hiddenClass: string | null;\r\n\tprivate readonly isClosePrev: boolean;\r\n\tprivate readonly backdropClasses: string | null;\r\n\r\n\tprivate openNextOverlay: boolean;\r\n\tprivate autoHide: ReturnType<typeof setTimeout> | null;\r\n\tprivate readonly overlayId: string | null;\r\n\r\n\tpublic overlay: HTMLElement | null;\r\n\tpublic isCloseWhenClickInside: boolean;\r\n\tpublic isTabAccessibilityLimited: boolean;\r\n\tpublic isLayoutAffect: boolean;\r\n\tpublic hasAutofocus: boolean;\r\n\tpublic hasAbilityToCloseOnBackdropClick: boolean;\r\n\tpublic openedBreakpoint: number | null;\r\n\tpublic autoClose: number | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: IOverlayOptions, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-overlay-options');\r\n\t\tconst dataOptions: IOverlayOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.hiddenClass = concatOptions?.hiddenClass || 'hidden';\r\n\t\tthis.isClosePrev = concatOptions?.isClosePrev ?? true;\r\n\t\tthis.backdropClasses =\r\n\t\t\tconcatOptions?.backdropClasses ??\r\n\t\t\t'transition duration fixed inset-0 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop';\r\n\r\n\t\tthis.openNextOverlay = false;\r\n\t\tthis.autoHide = null;\r\n\t\tthis.overlayId = this.el.getAttribute('data-hs-overlay');\r\n\t\tthis.overlay = document.querySelector(this.overlayId);\r\n\t\tif (this.overlay) {\r\n\t\t\tthis.isCloseWhenClickInside = stringToBoolean(\r\n\t\t\t\tgetClassProperty(this.overlay, '--close-when-click-inside', 'false') ||\r\n\t\t\t\t\t'false',\r\n\t\t\t);\r\n\t\t\tthis.isTabAccessibilityLimited = stringToBoolean(\r\n\t\t\t\tgetClassProperty(this.overlay, '--tab-accessibility-limited', 'true') ||\r\n\t\t\t\t\t'true',\r\n\t\t\t);\r\n\t\t\tthis.isLayoutAffect = stringToBoolean(\r\n\t\t\t\tgetClassProperty(this.overlay, '--is-layout-affect', 'false') ||\r\n\t\t\t\t\t'false',\r\n\t\t\t);\r\n\t\t\tthis.hasAutofocus = stringToBoolean(\r\n\t\t\t\tgetClassProperty(this.overlay, '--has-autofocus', 'true') || 'true',\r\n\t\t\t);\r\n\t\t\tthis.hasAbilityToCloseOnBackdropClick = stringToBoolean(\r\n\t\t\t\tthis.overlay.getAttribute('data-hs-overlay-keyboard') || 'true',\r\n\t\t\t);\r\n\r\n\t\t\tconst autoCloseBreakpoint = getClassProperty(\r\n\t\t\t\tthis.overlay,\r\n\t\t\t\t'--auto-close',\r\n\t\t\t);\r\n\t\t\tthis.autoClose =\r\n\t\t\t\t!isNaN(+autoCloseBreakpoint) && isFinite(+autoCloseBreakpoint)\r\n\t\t\t\t\t? +autoCloseBreakpoint\r\n\t\t\t\t\t: BREAKPOINTS[autoCloseBreakpoint] || null;\r\n\r\n\t\t\tconst openedBreakpoint = getClassProperty(this.overlay, '--opened');\r\n\t\t\tthis.openedBreakpoint =\r\n\t\t\t\t(!isNaN(+openedBreakpoint) && isFinite(+openedBreakpoint)\r\n\t\t\t\t\t? +openedBreakpoint\r\n\t\t\t\t\t: BREAKPOINTS[openedBreakpoint]) || null;\r\n\t\t}\r\n\r\n\t\tif (this.overlay) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsOverlayCollection, this);\r\n\r\n\t\tif (this.isLayoutAffect && this.openedBreakpoint) {\r\n\t\t\tconst instance = HSOverlay.getInstance(this.el, true);\r\n\r\n\t\t\tHSOverlay.setOpened(\r\n\t\t\t\tthis.openedBreakpoint,\r\n\t\t\t\tinstance as ICollectionItem<HSOverlay>,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.el.addEventListener('click', () => {\r\n\t\t\tif (this.overlay.classList.contains('opened')) this.close();\r\n\t\t\telse this.open();\r\n\t\t});\r\n\r\n\t\tthis.overlay.addEventListener('click', (evt) => {\r\n\t\t\tif (\r\n\t\t\t\t(evt.target as HTMLElement).id &&\r\n\t\t\t\t`#${(evt.target as HTMLElement).id}` === this.overlayId &&\r\n\t\t\t\tthis.isCloseWhenClickInside &&\r\n\t\t\t\tthis.hasAbilityToCloseOnBackdropClick\r\n\t\t\t) {\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate hideAuto() {\r\n\t\tconst time = parseInt(getClassProperty(this.overlay, '--auto-hide', '0'));\r\n\r\n\t\tif (time) {\r\n\t\t\tthis.autoHide = setTimeout(() => {\r\n\t\t\t\tthis.close();\r\n\t\t\t}, time);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate checkTimer() {\r\n\t\tif (this.autoHide) {\r\n\t\t\tclearTimeout(this.autoHide);\r\n\r\n\t\t\tthis.autoHide = null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildBackdrop() {\r\n\t\tconst overlayClasses = this.overlay.classList.value.split(' ');\r\n\t\tconst overlayZIndex = parseInt(\r\n\t\t\twindow.getComputedStyle(this.overlay).getPropertyValue('z-index'),\r\n\t\t);\r\n\t\tconst backdropId =\r\n\t\t\tthis.overlay.getAttribute('data-hs-overlay-backdrop-container') || false;\r\n\t\tlet backdrop: HTMLElement | Node = document.createElement('div');\r\n\t\tlet backdropClasses = this.backdropClasses;\r\n\t\tconst closeOnBackdrop =\r\n\t\t\tgetClassProperty(this.overlay, '--overlay-backdrop', 'true') !== 'static';\r\n\t\tconst disableBackdrop =\r\n\t\t\tgetClassProperty(this.overlay, '--overlay-backdrop', 'true') === 'false';\r\n\r\n\t\t(backdrop as HTMLElement).id = `${this.overlay.id}-backdrop`;\r\n\t\tif ('style' in backdrop) backdrop.style.zIndex = `${overlayZIndex - 1}`;\r\n\r\n\t\tfor (const value of overlayClasses) {\r\n\t\t\tif (\r\n\t\t\t\tvalue.startsWith('hs-overlay-backdrop-open:') ||\r\n\t\t\t\tvalue.includes(':hs-overlay-backdrop-open:')\r\n\t\t\t) {\r\n\t\t\t\tbackdropClasses += ` ${value}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (disableBackdrop) return;\r\n\r\n\t\tif (backdropId) {\r\n\t\t\tbackdrop = document.querySelector(backdropId).cloneNode(true);\r\n\t\t\t(backdrop as HTMLElement).classList.remove('hidden');\r\n\r\n\t\t\tbackdropClasses = `${(backdrop as HTMLElement).classList.toString()}`;\r\n\t\t\t(backdrop as HTMLElement).classList.value = '';\r\n\t\t}\r\n\r\n\t\tif (closeOnBackdrop) {\r\n\t\t\t(backdrop as HTMLElement).addEventListener(\r\n\t\t\t\t'click',\r\n\t\t\t\t() => this.close(),\r\n\t\t\t\ttrue,\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t(backdrop as HTMLElement).setAttribute(\r\n\t\t\t'data-hs-overlay-backdrop-template',\r\n\t\t\t'',\r\n\t\t);\r\n\r\n\t\tdocument.body.appendChild(backdrop);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t(backdrop as HTMLElement).classList.value = backdropClasses;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate destroyBackdrop() {\r\n\t\tconst backdrop: HTMLElement = document.querySelector(\r\n\t\t\t`#${this.overlay.id}-backdrop`,\r\n\t\t);\r\n\r\n\t\tif (!backdrop) return;\r\n\r\n\t\tif (this.openNextOverlay) {\r\n\t\t\tbackdrop.style.transitionDuration = `${\r\n\t\t\t\tparseFloat(\r\n\t\t\t\t\twindow\r\n\t\t\t\t\t\t.getComputedStyle(backdrop)\r\n\t\t\t\t\t\t.transitionDuration.replace(/[^\\d.-]/g, ''),\r\n\t\t\t\t) * 1.8\r\n\t\t\t}s`;\r\n\t\t}\r\n\r\n\t\tbackdrop.classList.add('opacity-0');\r\n\r\n\t\tafterTransition(backdrop, () => {\r\n\t\t\tbackdrop.remove();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate focusElement() {\r\n\t\tconst input: HTMLInputElement = this.overlay.querySelector('[autofocus]');\r\n\r\n\t\tif (!input) return false;\r\n\t\telse input.focus();\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic open() {\r\n\t\tif (!this.overlay) return false;\r\n\r\n\t\tconst currentlyOpened = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.overlay === document.querySelector('.hs-overlay.open') &&\r\n\t\t\t\t!el.element.isLayoutAffect,\r\n\t\t);\r\n\t\tconst disabledScroll =\r\n\t\t\tgetClassProperty(this.overlay, '--body-scroll', 'false') !== 'true';\r\n\r\n\t\tif (this.isClosePrev && currentlyOpened) {\r\n\t\t\tthis.openNextOverlay = true;\r\n\r\n\t\t\treturn currentlyOpened.element.close().then(() => {\r\n\t\t\t\tthis.open();\r\n\r\n\t\t\t\tthis.openNextOverlay = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (disabledScroll) {\r\n\t\t\tdocument.body.style.overflow = 'hidden';\r\n\t\t}\r\n\r\n\t\tthis.buildBackdrop();\r\n\t\tthis.checkTimer();\r\n\t\tthis.hideAuto();\r\n\r\n\t\tthis.overlay.classList.remove(this.hiddenClass);\r\n\t\tthis.overlay.setAttribute('aria-overlay', 'true');\r\n\t\tthis.overlay.setAttribute('tabindex', '-1');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.overlay.classList.contains('opened')) return false;\r\n\r\n\t\t\tthis.overlay.classList.add('open', 'opened');\r\n\t\t\tif (this.isLayoutAffect)\r\n\t\t\t\tdocument.body.classList.add('hs-overlay-body-open');\r\n\r\n\t\t\tthis.fireEvent('open', this.el);\r\n\t\t\tdispatch('open.hs.overlay', this.el, this.el);\r\n\r\n\t\t\tif (this.hasAutofocus) this.focusElement();\r\n\t\t}, 50);\r\n\t}\r\n\r\n\tpublic close(forceClose = false) {\r\n\t\tif (this.isLayoutAffect)\r\n\t\t\tdocument.body.classList.remove('hs-overlay-body-open');\r\n\r\n\t\tconst closeFn = (cb: Function) => {\r\n\t\t\tif (this.overlay.classList.contains('open')) return false;\r\n\r\n\t\t\tthis.overlay.classList.add(this.hiddenClass);\r\n\r\n\t\t\tthis.destroyBackdrop();\r\n\r\n\t\t\tthis.fireEvent('close', this.el);\r\n\t\t\tdispatch('close.hs.overlay', this.el, this.el);\r\n\r\n\t\t\tif (!document.querySelector('.hs-overlay.opened'))\r\n\t\t\t\tdocument.body.style.overflow = '';\r\n\r\n\t\t\tcb(this.overlay);\r\n\t\t};\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tif (!this.overlay) return false;\r\n\r\n\t\t\tthis.overlay.classList.remove('open', 'opened');\r\n\t\t\tthis.overlay.removeAttribute('aria-overlay');\r\n\t\t\tthis.overlay.removeAttribute('tabindex');\r\n\r\n\t\t\tif (forceClose) closeFn(resolve);\r\n\t\t\telse\r\n\t\t\t\tafterTransition(this.overlay, () => {\r\n\t\t\t\t\tcloseFn(resolve);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target) ||\r\n\t\t\t\tel.element.overlay ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsOverlayCollection) window.$hsOverlayCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-overlay]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsOverlayCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSOverlay(el);\r\n\t\t\t});\r\n\r\n\t\tif (window.$hsOverlayCollection) {\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSOverlay.accessibility(evt),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic open(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target) ||\r\n\t\t\t\tel.element.overlay ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\telInCollection.element.overlay.classList.contains(\r\n\t\t\t\telInCollection.element.hiddenClass,\r\n\t\t\t)\r\n\t\t)\r\n\t\t\telInCollection.element.open();\r\n\t}\r\n\r\n\tstatic close(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target) ||\r\n\t\t\t\tel.element.overlay ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target),\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\telInCollection &&\r\n\t\t\t!elInCollection.element.overlay.classList.contains(\r\n\t\t\t\telInCollection.element.hiddenClass,\r\n\t\t\t)\r\n\t\t)\r\n\t\t\telInCollection.element.close();\r\n\t}\r\n\r\n\tstatic setOpened(breakpoint: number, el: ICollectionItem<HSOverlay>) {\r\n\t\tif (document.body.clientWidth >= breakpoint) {\r\n\t\t\tdocument.body.classList.add('hs-overlay-body-open');\r\n\t\t\tel.element.overlay.classList.add('opened');\r\n\t\t} else el.element.close(true);\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst targets = window.$hsOverlayCollection.filter((el) =>\r\n\t\t\tel.element.overlay.classList.contains('open'),\r\n\t\t);\r\n\t\tconst target = targets[targets.length - 1];\r\n\t\tconst focusableElements = target?.element?.overlay?.querySelectorAll(\r\n\t\t\t'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])',\r\n\t\t);\r\n\t\tconst notHiddenFocusableElements: HTMLElement[] = [];\r\n\t\tif (focusableElements?.length)\r\n\t\t\tfocusableElements.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (!isParentOrElementHidden(el)) notHiddenFocusableElements.push(el);\r\n\t\t\t});\r\n\t\tconst basicCheck = target && !evt.metaKey;\r\n\r\n\t\tif (\r\n\t\t\tbasicCheck &&\r\n\t\t\t!target.element.isTabAccessibilityLimited &&\r\n\t\t\tevt.code === 'Tab'\r\n\t\t)\r\n\t\t\treturn false;\r\n\r\n\t\tif (basicCheck && notHiddenFocusableElements.length && evt.code === 'Tab') {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tthis.onTab(target, notHiddenFocusableElements);\r\n\t\t}\r\n\t\tif (basicCheck && evt.code === 'Escape') {\r\n\t\t\tevt.preventDefault();\r\n\t\t\tthis.onEscape(target);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape(target: ICollectionItem<HSOverlay>) {\r\n\t\tif (target && target.element.hasAbilityToCloseOnBackdropClick)\r\n\t\t\ttarget.element.close();\r\n\t}\r\n\r\n\tstatic onTab(\r\n\t\ttarget: ICollectionItem<HSOverlay>,\r\n\t\tfocusableElements: HTMLElement[],\r\n\t) {\r\n\t\tif (!focusableElements.length) return false;\r\n\r\n\t\tconst focused = target.element.overlay.querySelector(':focus');\r\n\t\tconst focusedIndex = Array.from(focusableElements).indexOf(\r\n\t\t\tfocused as HTMLElement,\r\n\t\t);\r\n\r\n\t\tif (focusedIndex > -1) {\r\n\t\t\tconst nextIndex = (focusedIndex + 1) % focusableElements.length;\r\n\t\t\t(focusableElements[nextIndex] as HTMLElement).focus();\r\n\t\t} else {\r\n\t\t\t(focusableElements[0] as HTMLElement).focus();\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsOverlayCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target) ||\r\n\t\t\t\tel.element.overlay ===\r\n\t\t\t\t\t(typeof target === 'string'\r\n\t\t\t\t\t\t? document.querySelector(target)\r\n\t\t\t\t\t\t: target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSOverlay: Function;\r\n\t\t$hsOverlayCollection: ICollectionItem<HSOverlay>[];\r\n\t}\r\n}\r\n\r\nconst autoCloseResizeFn = () => {\r\n\tif (\r\n\t\t!window.$hsOverlayCollection.length ||\r\n\t\t!window.$hsOverlayCollection.find((el) => el.element.autoClose)\r\n\t)\r\n\t\treturn false;\r\n\r\n\tconst overlays = window.$hsOverlayCollection.filter(\r\n\t\t(el) => el.element.autoClose,\r\n\t);\r\n\r\n\toverlays.forEach((overlay) => {\r\n\t\tif (document.body.clientWidth >= overlay.element.autoClose)\r\n\t\t\toverlay.element.close(true);\r\n\t});\r\n};\r\n\r\nconst setOpenedResizeFn = () => {\r\n\tif (\r\n\t\t!window.$hsOverlayCollection.length ||\r\n\t\t!window.$hsOverlayCollection.find((el) => el.element.openedBreakpoint)\r\n\t)\r\n\t\treturn false;\r\n\r\n\tconst overlays = window.$hsOverlayCollection.filter(\r\n\t\t(el) => el.element.openedBreakpoint,\r\n\t);\r\n\r\n\toverlays.forEach((overlay) => {\r\n\t\tHSOverlay.setOpened(overlay.element.openedBreakpoint, overlay);\r\n\t});\r\n};\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSOverlay.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Overlay collection:', window.$hsOverlayCollection);\r\n});\r\n\r\nwindow.addEventListener('resize', () => {\r\n\tautoCloseResizeFn();\r\n\tsetOpenedResizeFn();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSOverlay = HSOverlay;\r\n}\r\n\r\nexport default HSOverlay;\r\n", "/*\r\n * HSPinInput\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { IPinInputOptions, IPinInput } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSPinInput extends HSBasePlugin<IPinInputOptions> implements IPinInput {\r\n\tprivate items: NodeListOf<HTMLElement> | null;\r\n\tprivate currentItem: HTMLInputElement | null;\r\n\tprivate currentValue: string[] | null;\r\n\tprivate readonly placeholders: string[] | null;\r\n\tprivate readonly availableCharsRE: RegExp | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: IPinInputOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-pin-input');\r\n\t\tconst dataOptions: IPinInputOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.items = this.el.querySelectorAll('[data-hs-pin-input-item]');\r\n\t\tthis.currentItem = null;\r\n\t\tthis.currentValue = new Array(this.items.length).fill('');\r\n\t\tthis.placeholders = [];\r\n\t\tthis.availableCharsRE = new RegExp(\r\n\t\t\tconcatOptions?.availableCharsRE || '^[a-zA-Z0-9]+$',\r\n\t\t); // '^[0-9]+$'\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsPinInputCollection, this);\r\n\r\n\t\tif (this.items.length) this.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.buildInputItems();\r\n\t}\r\n\r\n\tprivate buildInputItems() {\r\n\t\tthis.items.forEach((el, index) => {\r\n\t\t\tthis.placeholders.push(el.getAttribute('placeholder') || '');\r\n\r\n\t\t\tif (el.hasAttribute('autofocus')) this.onFocusIn(index);\r\n\r\n\t\t\tel.addEventListener('input', (evt) => this.onInput(evt, index));\r\n\t\t\tel.addEventListener('paste', (evt) => this.onPaste(evt));\r\n\t\t\tel.addEventListener('keydown', (evt) => this.onKeydown(evt, index));\r\n\t\t\tel.addEventListener('focusin', () => this.onFocusIn(index));\r\n\t\t\tel.addEventListener('focusout', () => this.onFocusOut(index));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate checkIfNumber(value: string) {\r\n\t\treturn value.match(this.availableCharsRE);\r\n\t}\r\n\r\n\tprivate autoFillAll(text: string) {\r\n\t\tArray.from(text).forEach((n, i) => {\r\n\t\t\tif (!this?.items[i]) return false;\r\n\r\n\t\t\t(this.items[i] as HTMLInputElement).value = n;\r\n\r\n\t\t\tthis.items[i].dispatchEvent(new Event('input', { bubbles: true }));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentValue() {\r\n\t\tthis.currentValue = Array.from(this.items).map(\r\n\t\t\t(el) => (el as HTMLInputElement).value,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate toggleCompleted() {\r\n\t\tif (!this.currentValue.includes('')) this.el.classList.add('active');\r\n\t\telse this.el.classList.remove('active');\r\n\t}\r\n\r\n\tprivate onInput(evt: Event, index: number) {\r\n\t\tconst originalValue = (evt.target as HTMLInputElement).value;\r\n\t\tthis.currentItem = evt.target as HTMLInputElement;\r\n\t\tthis.currentItem.value = '';\r\n\t\tthis.currentItem.value = originalValue[originalValue.length - 1];\r\n\r\n\t\tif (!this.checkIfNumber(this.currentItem.value)) {\r\n\t\t\tthis.currentItem.value = this.currentValue[index] || '';\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.setCurrentValue();\r\n\r\n\t\tif (this.currentItem.value) {\r\n\t\t\tif (index < this.items.length - 1) this.items[index + 1].focus();\r\n\t\t\tif (!this.currentValue.includes('')) {\r\n\t\t\t\tconst payload = { currentValue: this.currentValue };\r\n\r\n\t\t\t\tthis.fireEvent('completed', payload);\r\n\t\t\t\tdispatch('completed.hs.pinInput', this.el, payload);\r\n\t\t\t}\r\n\r\n\t\t\tthis.toggleCompleted();\r\n\t\t} else {\r\n\t\t\tif (index > 0) this.items[index - 1].focus();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onKeydown(evt: KeyboardEvent, index: number) {\r\n\t\tif (evt.key === 'Backspace' && index > 0) {\r\n\t\t\tif ((this.items[index] as HTMLInputElement).value === '') {\r\n\t\t\t\t(this.items[index - 1] as HTMLInputElement).value = '';\r\n\t\t\t\t(this.items[index - 1] as HTMLInputElement).focus();\r\n\t\t\t} else {\r\n\t\t\t\t(this.items[index] as HTMLInputElement).value = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setCurrentValue();\r\n\t\tthis.toggleCompleted();\r\n\t}\r\n\r\n\tprivate onFocusIn(index: number) {\r\n\t\tthis.items[index].setAttribute('placeholder', '');\r\n\t}\r\n\r\n\tprivate onFocusOut(index: number) {\r\n\t\tthis.items[index].setAttribute('placeholder', this.placeholders[index]);\r\n\t}\r\n\r\n\tprivate onPaste(evt: ClipboardEvent) {\r\n\t\tevt.preventDefault();\r\n\r\n\t\tthis.items.forEach((el) => {\r\n\t\t\tif (document.activeElement === el)\r\n\t\t\t\tthis.autoFillAll(evt.clipboardData.getData('text'));\r\n\t\t});\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsPinInputCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsPinInputCollection) window.$hsPinInputCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-pin-input]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsPinInputCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSPinInput(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSPinInput: Function;\r\n\t\t$hsPinInputCollection: ICollectionItem<HSPinInput>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSPinInput.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('PIN input collection:', window.$hsPinInputCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSPinInput = HSPinInput;\r\n}\r\n\r\nexport default HSPinInput;\r\n", "/*\r\n * HSRemoveElement\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { afterTransition } from '../../utils';\r\n\r\nimport { IRemoveElementOptions, IRemoveElement } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSRemoveElement\r\n\textends HSBasePlugin<IRemoveElementOptions>\r\n\timplements IRemoveElement\r\n{\r\n\tprivate readonly removeTargetId: string | null;\r\n\tprivate readonly removeTarget: HTMLElement | null;\r\n\tprivate readonly removeTargetAnimationClass: string;\r\n\r\n\tconstructor(el: HTMLElement, options?: IRemoveElementOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-remove-element-options');\r\n\t\tconst dataOptions: IRemoveElementOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.removeTargetId = this.el.getAttribute('data-hs-remove-element');\r\n\t\tthis.removeTarget = document.querySelector(this.removeTargetId);\r\n\t\tthis.removeTargetAnimationClass =\r\n\t\t\tconcatOptions?.removeTargetAnimationClass || 'hs-removing';\r\n\r\n\t\tif (this.removeTarget) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsRemoveElementCollection, this);\r\n\r\n\t\tthis.el.addEventListener('click', () => this.remove());\r\n\t}\r\n\r\n\tprivate remove() {\r\n\t\tif (!this.removeTarget) return false;\r\n\r\n\t\tthis.removeTarget.classList.add(this.removeTargetAnimationClass);\r\n\r\n\t\tafterTransition(this.removeTarget, () => {\r\n\t\t\tthis.removeTarget.remove();\r\n\t\t});\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsRemoveElementCollection)\r\n\t\t\twindow.$hsRemoveElementCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-remove-element]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsRemoveElementCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSRemoveElement(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSRemoveElement: Function;\r\n\t\t$hsRemoveElementCollection: ICollectionItem<HSRemoveElement>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSRemoveElement.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Remove element collection:', window.$hsRemoveElementCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSRemoveElement = HSRemoveElement;\r\n}\r\n\r\nexport default HSRemoveElement;\r\n", "/*\r\n * HSTogglePassword\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { debounce, htmlToElement, classToClassList } from '../../utils';\r\n\r\nimport {\r\n\tISearchByJsonOptions,\r\n\tISearchItem,\r\n\tISearchByJson,\r\n\tISearchItemTemplate,\r\n} from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSSearchByJson\r\n\textends HSBasePlugin<ISearchByJsonOptions, HTMLInputElement>\r\n\timplements ISearchByJson\r\n{\r\n\tprivate readonly jsonUrl: string;\r\n\tprivate readonly minChars: number;\r\n\r\n\tprivate json: ISearchItem[];\r\n\tprivate result: ISearchItem[];\r\n\tprivate val: string;\r\n\r\n\tprivate readonly dropdownTemplate: string;\r\n\tprivate readonly dropdownClasses: string;\r\n\tprivate readonly dropdownItemTemplate: string;\r\n\tprivate readonly dropdownItemTemplatesByType: ISearchItemTemplate[];\r\n\tprivate readonly dropdownItemClasses: string;\r\n\tprivate readonly highlightedTextTagName: string;\r\n\tprivate readonly highlightedTextClasses: string;\r\n\r\n\tprivate dropdown: HTMLElement | null;\r\n\r\n\tconstructor(el: HTMLInputElement, options?: ISearchByJsonOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-search-by-json');\r\n\t\tconst dataOptions: ISearchByJsonOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.jsonUrl = concatOptions.jsonUrl;\r\n\t\tthis.minChars = concatOptions.minChars || 3;\r\n\t\tthis.dropdownTemplate = concatOptions.dropdownTemplate || '<div></div>';\r\n\t\tthis.dropdownClasses =\r\n\t\t\tconcatOptions.dropdownClasses ||\r\n\t\t\t'absolute top-full z-[1] w-full bg-white border border-gray-200 rounded-md hidden mt-2';\r\n\t\tthis.dropdownItemTemplate =\r\n\t\t\tconcatOptions.dropdownItemTemplate || '<div></div>';\r\n\t\tthis.dropdownItemTemplatesByType =\r\n\t\t\tconcatOptions.dropdownItemTemplatesByType || null;\r\n\t\tthis.dropdownItemClasses =\r\n\t\t\tconcatOptions.dropdownItemClasses ||\r\n\t\t\t'py-2 px-4 w-full cursor-pointer text-sm hover:bg-gray-300 hover:text-black';\r\n\t\tthis.highlightedTextTagName = concatOptions.highlightedTextTagName || 'u';\r\n\t\tthis.highlightedTextClasses =\r\n\t\t\tconcatOptions.highlightedTextClasses || 'bg-green-200';\r\n\r\n\t\tif (this.jsonUrl) this.fetchData().then(() => this.init());\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsSearchByJsonCollection, this);\r\n\r\n\t\tthis.buildDropdown();\r\n\r\n\t\tthis.el.addEventListener(\r\n\t\t\t'input',\r\n\t\t\tdebounce((evt: InputEvent) => {\r\n\t\t\t\tthis.val = (evt.target as HTMLInputElement).value;\r\n\r\n\t\t\t\tif (this.val.length > this.minChars) {\r\n\t\t\t\t\tthis.searchData(this.val);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.result = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.result.length) {\r\n\t\t\t\t\tthis.dropdown.classList.remove('hidden');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.dropdown.classList.add('hidden');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.buildItems();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate async fetchData() {\r\n\t\tawait fetch(this.jsonUrl)\r\n\t\t\t.then((data) => data.json())\r\n\t\t\t.then((data) => (this.json = data));\r\n\t}\r\n\r\n\tprivate searchData(val: string) {\r\n\t\tthis.result = this.json.filter((el) => {\r\n\t\t\tconst value = val.toLowerCase();\r\n\t\t\tconst title = el.title.toLowerCase();\r\n\t\t\tconst description = el.description.toLowerCase();\r\n\r\n\t\t\treturn title.includes(value) || description.includes(value);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate buildDropdown() {\r\n\t\tthis.dropdown = htmlToElement(this.dropdownTemplate);\r\n\t\tif (this.dropdownClasses)\r\n\t\t\tclassToClassList(this.dropdownClasses, this.dropdown);\r\n\r\n\t\tthis.el.after(this.dropdown);\r\n\t}\r\n\r\n\tprivate buildItems() {\r\n\t\tthis.dropdown.innerHTML = '';\r\n\r\n\t\tthis.result.forEach((el) => {\r\n\t\t\tconst link = htmlToElement(\r\n\t\t\t\t`<a class=\"block\" href=\"${el.url}\" target=\"_blank\"></a>`,\r\n\t\t\t);\r\n\t\t\tlink.append(this.itemTemplate(el));\r\n\t\t\tthis.dropdown.append(link);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate itemTemplate(el: ISearchItem) {\r\n\t\tconst re = new RegExp(this.val, 'gi');\r\n\t\tconst newTitle = el.title.replace(\r\n\t\t\tre,\r\n\t\t\t`<${this.highlightedTextTagName} class=\"inline-block ${this.highlightedTextClasses}\">${this.val}</${this.highlightedTextTagName}>`,\r\n\t\t);\r\n\t\tconst newDescription = el.description.replace(\r\n\t\t\tre,\r\n\t\t\t`<${this.highlightedTextTagName} class=\"inline-block ${this.highlightedTextClasses}\">${this.val}</${this.highlightedTextTagName}>`,\r\n\t\t);\r\n\t\tconst templateByType = this.dropdownItemTemplatesByType\r\n\t\t\t? this.dropdownItemTemplatesByType.find(\r\n\t\t\t\t\t(template) => template.type === el.type,\r\n\t\t\t\t)\r\n\t\t\t: null;\r\n\t\tconst template = templateByType\r\n\t\t\t? htmlToElement(templateByType.markup)\r\n\t\t\t: htmlToElement(this.dropdownItemTemplate);\r\n\t\tif (this.dropdownItemClasses)\r\n\t\t\tclassToClassList(this.dropdownItemClasses, template);\r\n\t\tconst title: HTMLElement = template.querySelector('[data-title]');\r\n\t\tif (title) title.append(htmlToElement(`<span>${newTitle}</span>`));\r\n\t\telse template.append(htmlToElement(`<span>${newTitle}</span>`));\r\n\t\tconst description: HTMLElement =\r\n\t\t\ttemplate.querySelector('[data-description]');\r\n\t\tif (description)\r\n\t\t\tdescription.append(htmlToElement(`<span>${newDescription}</span>`));\r\n\t\telse if (!templateByType) {\r\n\t\t\tconst br = htmlToElement('<br>');\r\n\t\t\ttemplate.append(br);\r\n\t\t\ttemplate.append(htmlToElement(`<span>${newDescription}</span>`));\r\n\t\t}\r\n\r\n\t\treturn template;\r\n\t}\r\n\r\n\t// Static method\r\n\tstatic getInstance(target: HTMLElement | string) {\r\n\t\tconst elInCollection = window.$hsSearchByJsonCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection ? elInCollection.element : null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsSearchByJsonCollection)\r\n\t\t\twindow.$hsSearchByJsonCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-search-by-json]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLInputElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsSearchByJsonCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSSearchByJson(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSSearchByJson: Function;\r\n\t\t$hsSearchByJsonCollection: ICollectionItem<HSSearchByJson>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSSearchByJson.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Search by JSON collection:', window.$hsSearchByJsonCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSSearchByJson = HSSearchByJson;\r\n}\r\n\r\nexport default HSSearchByJson;\r\n", "/*\r\n * HSScrollspy\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { getClassProperty, dispatch } from '../../utils';\r\n\r\nimport { IScrollspy } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSScrollspy extends HSBasePlugin<{}> implements IScrollspy {\r\n\tprivate activeSection: HTMLElement | null;\r\n\tprivate readonly contentId: string | null;\r\n\tprivate readonly content: HTMLElement | null;\r\n\tprivate readonly links: NodeListOf<HTMLAnchorElement> | null;\r\n\tprivate readonly sections: HTMLElement[] | null;\r\n\tprivate readonly scrollableId: string | null;\r\n\tprivate readonly scrollable: HTMLElement | Document;\r\n\r\n\tconstructor(el: HTMLElement, options = {}) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tthis.activeSection = null;\r\n\t\tthis.contentId = this.el.getAttribute('data-hs-scrollspy');\r\n\t\tthis.content = document.querySelector(this.contentId);\r\n\t\tthis.links = this.el.querySelectorAll('[href]');\r\n\t\t// this.sections = this.content.children;\r\n\t\tthis.sections = [];\r\n\t\tthis.scrollableId = this.el.getAttribute(\r\n\t\t\t'data-hs-scrollspy-scrollable-parent',\r\n\t\t);\r\n\t\tthis.scrollable = this.scrollableId\r\n\t\t\t? (document.querySelector(this.scrollableId) as HTMLElement)\r\n\t\t\t: (document as Document);\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsScrollspyCollection, this);\r\n\r\n\t\tthis.links.forEach((el) => {\r\n\t\t\tthis.sections.push(\r\n\t\t\t\tthis.scrollable.querySelector(el.getAttribute('href')),\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tArray.from(this.sections).forEach((section: HTMLElement) => {\r\n\t\t\tif (!section.getAttribute('id')) return false;\r\n\r\n\t\t\tthis.scrollable.addEventListener('scroll', (evt) =>\r\n\t\t\t\tthis.update(evt, section),\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tthis.links.forEach((el) => {\r\n\t\t\tel.addEventListener('click', (evt) => {\r\n\t\t\t\tevt.preventDefault();\r\n\r\n\t\t\t\tif (el.getAttribute('href') === 'javascript:;') return false;\r\n\r\n\t\t\t\tthis.scrollTo(el);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate update(evt: Event, section: HTMLElement) {\r\n\t\tconst globalOffset = parseInt(\r\n\t\t\tgetClassProperty(this.el, '--scrollspy-offset', '0'),\r\n\t\t);\r\n\t\tconst userOffset =\r\n\t\t\tparseInt(getClassProperty(section, '--scrollspy-offset')) || globalOffset;\r\n\t\tconst scrollableParentOffset =\r\n\t\t\tevt.target === document\r\n\t\t\t\t? 0\r\n\t\t\t\t: parseInt(\r\n\t\t\t\t\t\tString((evt.target as HTMLElement).getBoundingClientRect().top),\r\n\t\t\t\t\t);\r\n\t\tconst topOffset =\r\n\t\t\tparseInt(String(section.getBoundingClientRect().top)) -\r\n\t\t\tuserOffset -\r\n\t\t\tscrollableParentOffset;\r\n\t\tconst height = section.offsetHeight;\r\n\r\n\t\tif (topOffset <= 0 && topOffset + height > 0) {\r\n\t\t\tif (this.activeSection === section) return false;\r\n\r\n\t\t\tthis.links.forEach((el) => {\r\n\t\t\t\tel.classList.remove('active');\r\n\t\t\t});\r\n\r\n\t\t\tconst current = this.el.querySelector(\r\n\t\t\t\t`[href=\"#${section.getAttribute('id')}\"]`,\r\n\t\t\t);\r\n\r\n\t\t\tif (current) {\r\n\t\t\t\tcurrent.classList.add('active');\r\n\r\n\t\t\t\tconst group = current.closest('[data-hs-scrollspy-group]');\r\n\r\n\t\t\t\tif (group) {\r\n\t\t\t\t\tconst parentLink = group.querySelector('[href]');\r\n\r\n\t\t\t\t\tif (parentLink) parentLink.classList.add('active');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.activeSection = section;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate scrollTo(link: HTMLAnchorElement) {\r\n\t\tconst targetId = link.getAttribute('href');\r\n\t\tconst target: HTMLElement = document.querySelector(targetId);\r\n\t\tconst globalOffset = parseInt(\r\n\t\t\tgetClassProperty(this.el, '--scrollspy-offset', '0'),\r\n\t\t);\r\n\t\tconst userOffset =\r\n\t\t\tparseInt(getClassProperty(target, '--scrollspy-offset')) || globalOffset;\r\n\t\tconst scrollableParentOffset =\r\n\t\t\tthis.scrollable === document\r\n\t\t\t\t? 0\r\n\t\t\t\t: (this.scrollable as HTMLElement).offsetTop;\r\n\t\tconst topOffset = target.offsetTop - userOffset - scrollableParentOffset;\r\n\t\tconst view = this.scrollable === document ? window : this.scrollable;\r\n\t\tconst scrollFn = () => {\r\n\t\t\twindow.history.replaceState(null, null, link.getAttribute('href'));\r\n\r\n\t\t\tif ('scrollTo' in view) {\r\n\t\t\t\tview.scrollTo({\r\n\t\t\t\t\ttop: topOffset,\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst beforeScroll = this.fireEvent('beforeScroll', this.el);\r\n\t\tdispatch('beforeScroll.hs.scrollspy', this.el, this.el);\r\n\r\n\t\tif (beforeScroll instanceof Promise) beforeScroll.then(() => scrollFn());\r\n\t\telse scrollFn();\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsScrollspyCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsScrollspyCollection) window.$hsScrollspyCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-scrollspy]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsScrollspyCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSScrollspy(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSScrollspy: Function;\r\n\t\t$hsScrollspyCollection: ICollectionItem<HSScrollspy>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSScrollspy.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Scrollspy collection:', window.$hsScrollspyCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSScrollspy = HSScrollspy;\r\n}\r\n\r\nexport default HSScrollspy;\r\n", "/*\r\n * HSSelect\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport {\r\n\tisEnoughSpace,\r\n\tdebounce,\r\n\tdispatch,\r\n\tafterTransition,\r\n\thtmlToElement,\r\n\tclassToClassList,\r\n} from '../../utils';\r\n\r\nimport {\r\n\tISelect,\r\n\tISelectOptions,\r\n\tISingleOption,\r\n\tISingleOptionOptions,\r\n} from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { SELECT_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSSelect extends HSBasePlugin<ISelectOptions> implements ISelect {\r\n\tvalue: string | string[] | null;\r\n\tprivate readonly placeholder: string | null;\r\n\tprivate readonly hasSearch: boolean;\r\n\tprivate readonly preventSearchFocus: boolean;\r\n\tprivate readonly mode: string | null;\r\n\tprivate readonly viewport: HTMLElement | null;\r\n\r\n\tisOpened: boolean | null;\r\n\tisMultiple: boolean | null;\r\n\tisDisabled: boolean | null;\r\n\tselectedItems: string[];\r\n\r\n\tprivate readonly toggleTag: string | null;\r\n\tprivate readonly toggleClasses: string | null;\r\n\tprivate readonly toggleCountText: string | null;\r\n\tprivate readonly toggleCountTextMinItems: number | null;\r\n\tprivate readonly wrapperClasses: string | null;\r\n\tprivate readonly tagsItemTemplate: string | null;\r\n\tprivate readonly tagsItemClasses: string | null;\r\n\tprivate readonly tagsInputClasses: string | null;\r\n\tprivate readonly dropdownTag: string | null;\r\n\tprivate readonly dropdownClasses: string | null;\r\n\tprivate readonly dropdownDirectionClasses: {\r\n\t\ttop?: string;\r\n\t\tbottom?: string;\r\n\t} | null;\r\n\tpublic dropdownSpace: number | null;\r\n\tprivate readonly searchWrapperTemplate: string | null;\r\n\tprivate readonly searchPlaceholder: string | null;\r\n\tprivate readonly searchClasses: string | null;\r\n\tprivate readonly searchWrapperClasses: string | null;\r\n\tprivate searchNoResultText: string | null;\r\n\tprivate searchNoResultClasses: string | null;\r\n\tprivate readonly optionTag: string | null;\r\n\tprivate readonly optionTemplate: string | null;\r\n\tprivate readonly optionClasses: string | null;\r\n\tprivate readonly descriptionClasses: string | null;\r\n\tprivate readonly iconClasses: string | null;\r\n\r\n\tprivate animationInProcess: boolean;\r\n\r\n\tprivate wrapper: HTMLElement | null;\r\n\tprivate toggle: HTMLElement | null;\r\n\tprivate toggleTextWrapper: HTMLElement | null;\r\n\tprivate tagsInput: HTMLElement | null;\r\n\tprivate dropdown: HTMLElement | null;\r\n\tprivate searchWrapper: HTMLElement | null;\r\n\tprivate search: HTMLInputElement | null;\r\n\tprivate searchNoResult: HTMLElement | null;\r\n\tprivate selectOptions: ISingleOption[] | [];\r\n\tprivate extraMarkup: string | string[] | null;\r\n\r\n\tprivate readonly isAddTagOnEnter: boolean;\r\n\r\n\tprivate tagsInputHelper: HTMLElement | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: ISelectOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-select');\r\n\t\tconst dataOptions: ISelectOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.value =\r\n\t\t\tconcatOptions?.value || (this.el as HTMLSelectElement).value || null;\r\n\t\tthis.placeholder = concatOptions?.placeholder || 'Select...';\r\n\t\tthis.hasSearch = concatOptions?.hasSearch || false;\r\n\t\tthis.preventSearchFocus = concatOptions?.preventSearchFocus || false;\r\n\t\tthis.mode = concatOptions?.mode || 'default';\r\n\t\tthis.viewport =\r\n\t\t\ttypeof concatOptions?.viewport !== 'undefined'\r\n\t\t\t\t? document.querySelector(concatOptions?.viewport)\r\n\t\t\t\t: null;\r\n\t\tthis.isOpened = Boolean(concatOptions?.isOpened) || false;\r\n\t\tthis.isMultiple = this.el.hasAttribute('multiple') || false;\r\n\t\tthis.isDisabled = this.el.hasAttribute('disabled') || false;\r\n\t\tthis.selectedItems = [];\r\n\t\tthis.wrapperClasses = concatOptions?.wrapperClasses || null;\r\n\t\tthis.toggleTag = concatOptions?.toggleTag || null;\r\n\t\tthis.toggleClasses = concatOptions?.toggleClasses || null;\r\n\t\tthis.toggleCountText = concatOptions?.toggleCountText || null;\r\n\t\tthis.toggleCountTextMinItems = concatOptions?.toggleCountTextMinItems || 1;\r\n\t\tthis.tagsItemTemplate = concatOptions?.tagsItemTemplate || null;\r\n\t\tthis.tagsItemClasses = concatOptions?.tagsItemClasses || null;\r\n\t\tthis.tagsInputClasses = concatOptions?.tagsInputClasses || null;\r\n\t\tthis.dropdownTag = concatOptions?.dropdownTag || null;\r\n\t\tthis.dropdownClasses = concatOptions?.dropdownClasses || null;\r\n\t\tthis.dropdownDirectionClasses =\r\n\t\t\tconcatOptions?.dropdownDirectionClasses || null;\r\n\t\tthis.dropdownSpace = concatOptions?.dropdownSpace || 10;\r\n\t\tthis.searchWrapperTemplate = concatOptions?.searchWrapperTemplate || null;\r\n\t\tthis.searchWrapperClasses =\r\n\t\t\tconcatOptions?.searchWrapperClasses || 'bg-white p-2 sticky top-0';\r\n\t\tthis.searchClasses =\r\n\t\t\tconcatOptions?.searchClasses ||\r\n\t\t\t'block w-[calc(100%-2rem)] text-sm border-gray-200 rounded-md focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 py-2 px-3 my-2 mx-4';\r\n\t\tthis.searchPlaceholder = concatOptions?.searchPlaceholder || 'Search...';\r\n\t\tthis.searchNoResultText =\r\n\t\t\tconcatOptions?.searchNoResultText || 'No options found...';\r\n\t\tthis.searchNoResultClasses =\r\n\t\t\tconcatOptions?.searchNoResultClasses || 'px-4 text-sm';\r\n\t\tthis.optionTemplate = concatOptions?.optionTemplate || null;\r\n\t\tthis.optionTag = concatOptions?.optionTag || null;\r\n\t\tthis.optionClasses = concatOptions?.optionClasses || null;\r\n\t\tthis.extraMarkup = concatOptions?.extraMarkup || null;\r\n\t\tthis.descriptionClasses = concatOptions?.descriptionClasses || null;\r\n\t\tthis.iconClasses = concatOptions?.iconClasses || null;\r\n\t\tthis.isAddTagOnEnter = concatOptions?.isAddTagOnEnter ?? true;\r\n\r\n\t\tthis.animationInProcess = false;\r\n\t\tthis.selectOptions = [];\r\n\r\n\t\tthis.tagsInputHelper = null;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsSelectCollection, this);\r\n\r\n\t\tthis.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.el.style.display = 'none';\r\n\r\n\t\tif (this.el.children) {\r\n\t\t\tArray.from(this.el.children)\r\n\t\t\t\t.filter((el: HTMLOptionElement) => el.value && el.value !== '')\r\n\t\t\t\t.forEach((el: HTMLOptionElement) => {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-select-option');\r\n\r\n\t\t\t\t\tthis.selectOptions = [\r\n\t\t\t\t\t\t...this.selectOptions,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttitle: el.textContent,\r\n\t\t\t\t\t\t\tval: el.value,\r\n\t\t\t\t\t\t\toptions: data !== 'undefined' ? JSON.parse(data) : null,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst selectedOptions = Array.from(\r\n\t\t\t\t(this.el as HTMLSelectElement).options,\r\n\t\t\t).filter((el) => el.selected);\r\n\r\n\t\t\tif (selectedOptions) {\r\n\t\t\t\tconst values: string[] = [];\r\n\r\n\t\t\t\tselectedOptions.forEach((el) => {\r\n\t\t\t\t\tvalues.push(el.value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.value = values;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.buildWrapper();\r\n\t\tif (this.mode === 'tags') this.buildTags();\r\n\t\telse this.buildToggle();\r\n\t\tthis.buildDropdown();\r\n\t\tif (this.extraMarkup) this.buildExtraMarkup();\r\n\t}\r\n\r\n\tprivate buildWrapper() {\r\n\t\tthis.wrapper = document.createElement('div');\r\n\t\tthis.wrapper.classList.add('hs-select', 'relative');\r\n\r\n\t\tif (this.mode === 'tags') {\r\n\t\t\tthis.wrapper.addEventListener('click', (evt) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!(evt.target as HTMLElement).closest('[data-hs-select-dropdown]') &&\r\n\t\t\t\t\t!(evt.target as HTMLElement).closest('[data-tag-value]')\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.tagsInput.focus();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.wrapperClasses)\r\n\t\t\tclassToClassList(this.wrapperClasses, this.wrapper);\r\n\r\n\t\tthis.el.before(this.wrapper);\r\n\r\n\t\tthis.wrapper.append(this.el);\r\n\t}\r\n\r\n\tprivate buildExtraMarkup() {\r\n\t\tconst appendMarkup = (markup: string) => {\r\n\t\t\tthis.wrapper.append(htmlToElement(markup));\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(this.extraMarkup))\r\n\t\t\tthis.extraMarkup.forEach((el) => appendMarkup(el));\r\n\t\telse appendMarkup(this.extraMarkup);\r\n\t}\r\n\r\n\tprivate buildToggle() {\r\n\t\tlet icon, title;\r\n\t\tthis.toggleTextWrapper = document.createElement('span');\r\n\t\tthis.toggleTextWrapper.classList.add('truncate');\r\n\t\tthis.toggle = htmlToElement(this.toggleTag || '<div></div>');\r\n\t\ticon = this.toggle.querySelector('[data-icon]');\r\n\t\ttitle = this.toggle.querySelector('[data-title]');\r\n\r\n\t\tif (!this.isMultiple && icon) this.setToggleIcon();\r\n\t\tif (!this.isMultiple && title) this.setToggleTitle();\r\n\t\tif (this.isMultiple) {\r\n\t\t\tthis.toggleTextWrapper.innerHTML = this.value.length\r\n\t\t\t\t? this.stringFromValue()\r\n\t\t\t\t: this.placeholder;\r\n\t\t} else {\r\n\t\t\tthis.toggleTextWrapper.innerHTML =\r\n\t\t\t\tthis.getItemByValue(this.value as string)?.title || this.placeholder;\r\n\t\t}\r\n\t\tif (!title) this.toggle.append(this.toggleTextWrapper);\r\n\t\tif (this.toggleClasses) classToClassList(this.toggleClasses, this.toggle);\r\n\t\tif (this.isDisabled) this.toggle.classList.add('disabled');\r\n\t\tif (this.wrapper) this.wrapper.append(this.toggle);\r\n\r\n\t\tthis.toggle.addEventListener('click', () => {\r\n\t\t\tif (this.isDisabled) return false;\r\n\r\n\t\t\tif (this.isOpened) this.close();\r\n\t\t\telse this.open();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setToggleIcon() {\r\n\t\tconst icon = this.toggle.querySelector('[data-icon]');\r\n\t\ticon.innerHTML = '';\r\n\r\n\t\tif (icon) {\r\n\t\t\tconst img = htmlToElement(\r\n\t\t\t\tthis.getItemByValue(this.value as string)?.options?.icon || '',\r\n\t\t\t);\r\n\t\t\ticon.append(img);\r\n\r\n\t\t\tif (!img) icon.classList.add('hidden');\r\n\t\t\telse icon.classList.remove('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setToggleTitle() {\r\n\t\tconst title = this.toggle.querySelector('[data-title]');\r\n\t\ttitle.classList.add('truncate');\r\n\t\ttitle.innerHTML = '';\r\n\r\n\t\tif (title) {\r\n\t\t\tconst titleText =\r\n\t\t\t\tthis.getItemByValue(this.value as string)?.title || this.placeholder;\r\n\t\t\ttitle.innerHTML = titleText;\r\n\r\n\t\t\tthis.toggle.append(title);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildTags() {\r\n\t\tthis.buildTagsInput();\r\n\t\tthis.setTagsItems();\r\n\t}\r\n\r\n\tprivate reassignTagsInputPlaceholder(placeholder: string) {\r\n\t\t(this.tagsInput as HTMLInputElement).placeholder = placeholder;\r\n\t\tthis.tagsInputHelper.innerHTML = placeholder;\r\n\t\tthis.calculateInputWidth();\r\n\t}\r\n\r\n\tprivate buildTagsItem(val: string) {\r\n\t\tconst item = this.getItemByValue(val);\r\n\r\n\t\tlet template, title, remove, icon: null | HTMLElement;\r\n\r\n\t\tconst newItem = document.createElement('div');\r\n\t\tnewItem.setAttribute('data-tag-value', val);\r\n\t\tif (this.tagsItemClasses) classToClassList(this.tagsItemClasses, newItem);\r\n\r\n\t\tif (this.tagsItemTemplate) {\r\n\t\t\ttemplate = htmlToElement(this.tagsItemTemplate);\r\n\r\n\t\t\tnewItem.append(template);\r\n\t\t}\r\n\r\n\t\t// Icon\r\n\t\tif (item?.options?.icon) {\r\n\t\t\tconst img = htmlToElement(item?.options?.icon);\r\n\t\t\ticon = template\r\n\t\t\t\t? template.querySelector('[data-icon]')\r\n\t\t\t\t: document.createElement('span');\r\n\r\n\t\t\ticon.append(img);\r\n\r\n\t\t\tif (!template) newItem.append(icon);\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttemplate &&\r\n\t\t\ttemplate.querySelector('[data-icon]') &&\r\n\t\t\t!item?.options?.icon\r\n\t\t) {\r\n\t\t\ttemplate.querySelector('[data-icon]').classList.add('hidden');\r\n\t\t}\r\n\r\n\t\t// Title\r\n\t\ttitle = template\r\n\t\t\t? template.querySelector('[data-title]')\r\n\t\t\t: document.createElement('span');\r\n\t\ttitle.textContent = item.title || '';\r\n\r\n\t\tif (!template) newItem.append(title);\r\n\r\n\t\t// Remove\r\n\t\tif (template) {\r\n\t\t\tremove = template.querySelector('[data-remove]');\r\n\t\t} else {\r\n\t\t\tremove = document.createElement('span');\r\n\t\t\tremove.textContent = 'X';\r\n\r\n\t\t\tnewItem.append(remove);\r\n\t\t}\r\n\r\n\t\tremove.addEventListener('click', () => {\r\n\t\t\tthis.value = (this.value as string[]).filter((el) => el !== val);\r\n\t\t\tthis.selectedItems = this.selectedItems.filter((el) => el !== val);\r\n\r\n\t\t\tif (!this.value.length)\r\n\t\t\t\tthis.reassignTagsInputPlaceholder(this.placeholder);\r\n\r\n\t\t\tthis.unselectMultipleItems();\r\n\t\t\tthis.selectMultipleItems();\r\n\r\n\t\t\tnewItem.remove();\r\n\t\t});\r\n\r\n\t\tthis.wrapper.append(newItem);\r\n\t}\r\n\r\n\tprivate getItemByValue(val: string) {\r\n\t\treturn this.selectOptions.find((el: ISingleOption) => el.val === val);\r\n\t}\r\n\r\n\tprivate setTagsItems() {\r\n\t\tif (this.value) {\r\n\t\t\t(this.value as string[]).forEach((val) => {\r\n\t\t\t\tif (!this.selectedItems.includes(val)) this.buildTagsItem(val);\r\n\r\n\t\t\t\tthis.selectedItems = !this.selectedItems.includes(val)\r\n\t\t\t\t\t? [...this.selectedItems, val]\r\n\t\t\t\t\t: this.selectedItems;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildTagsInput() {\r\n\t\tthis.tagsInput = document.createElement('input');\r\n\r\n\t\tif (this.tagsInputClasses)\r\n\t\t\tclassToClassList(this.tagsInputClasses, this.tagsInput);\r\n\r\n\t\tthis.tagsInput.addEventListener('focus', () => this.open());\r\n\t\tthis.tagsInput.addEventListener('input', () => this.calculateInputWidth());\r\n\t\tthis.tagsInput.addEventListener(\r\n\t\t\t'input',\r\n\t\t\tdebounce((evt: InputEvent) =>\r\n\t\t\t\tthis.searchOptions((evt.target as HTMLInputElement).value),\r\n\t\t\t),\r\n\t\t);\r\n\t\tthis.tagsInput.addEventListener('keydown', (evt) => {\r\n\t\t\tif (evt.key === 'Enter' && this.isAddTagOnEnter) {\r\n\t\t\t\tconst val = (evt.target as HTMLInputElement).value;\r\n\r\n\t\t\t\tif (this.selectOptions.find((el: ISingleOption) => el.val === val))\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tthis.addSelectOption(val, val);\r\n\t\t\t\tthis.buildOption(val, val);\r\n\t\t\t\t(\r\n\t\t\t\t\tthis.dropdown.querySelector(`[data-value=\"${val}\"]`) as HTMLElement\r\n\t\t\t\t).click();\r\n\r\n\t\t\t\tthis.resetTagsInputField();\r\n\t\t\t\t// this.close();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.wrapper.append(this.tagsInput);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.adjustInputWidth();\r\n\t\t\tthis.reassignTagsInputPlaceholder(\r\n\t\t\t\tthis.value.length ? '' : this.placeholder,\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate buildDropdown() {\r\n\t\tthis.dropdown = htmlToElement(this.dropdownTag || '<div></div>');\r\n\t\tthis.dropdown.setAttribute('data-hs-select-dropdown', '');\r\n\r\n\t\tthis.dropdown.classList.add('absolute', 'top-full');\r\n\t\tif (!this.isOpened) this.dropdown.classList.add('hidden');\r\n\r\n\t\tif (this.dropdownClasses)\r\n\t\t\tclassToClassList(this.dropdownClasses, this.dropdown);\r\n\t\tif (this.wrapper) this.wrapper.append(this.dropdown);\r\n\t\tif (this.dropdown && this.hasSearch) this.buildSearch();\r\n\t\tif (this.selectOptions)\r\n\t\t\tthis.selectOptions.forEach((props: ISingleOption, i) =>\r\n\t\t\t\tthis.buildOption(props.title, props.val, props.options, `${i}`),\r\n\t\t\t);\r\n\t}\r\n\r\n\tprivate buildSearch() {\r\n\t\tlet input;\r\n\t\tthis.searchWrapper = htmlToElement(\r\n\t\t\tthis.searchWrapperTemplate || '<div></div>',\r\n\t\t);\r\n\t\tif (this.searchWrapperClasses)\r\n\t\t\tclassToClassList(this.searchWrapperClasses, this.searchWrapper);\r\n\t\tinput = this.searchWrapper.querySelector('[data-input]');\r\n\r\n\t\tthis.search = htmlToElement('<input type=\"text\" />') as HTMLInputElement;\r\n\t\tthis.search.placeholder = this.searchPlaceholder;\r\n\t\tif (this.searchClasses) classToClassList(this.searchClasses, this.search);\r\n\r\n\t\tthis.search.addEventListener(\r\n\t\t\t'input',\r\n\t\t\tdebounce((evt: InputEvent) =>\r\n\t\t\t\tthis.searchOptions((evt.target as HTMLInputElement).value),\r\n\t\t\t),\r\n\t\t);\r\n\r\n\t\tif (input) input.append(this.search);\r\n\t\telse this.searchWrapper.append(this.search);\r\n\r\n\t\tthis.dropdown.append(this.searchWrapper);\r\n\t}\r\n\r\n\tprivate buildOption(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t\tindex: string = '1',\r\n\t) {\r\n\t\tlet template: HTMLElement | null = null;\r\n\t\tlet titleWrapper: HTMLElement | null = null;\r\n\t\tlet iconWrapper: HTMLElement | null = null;\r\n\t\tlet descriptionWrapper: HTMLElement | null = null;\r\n\r\n\t\tconst option = htmlToElement(this.optionTag || '<div></div>');\r\n\t\toption.setAttribute('data-value', val);\r\n\t\toption.setAttribute('data-title-value', title);\r\n\t\toption.setAttribute('tabIndex', index);\r\n\t\toption.classList.add('cursor-pointer');\r\n\t\tif (this.optionTemplate) {\r\n\t\t\ttemplate = htmlToElement(this.optionTemplate);\r\n\r\n\t\t\toption.append(template);\r\n\t\t}\r\n\t\tif (template) {\r\n\t\t\ttitleWrapper = template.querySelector('[data-title]');\r\n\t\t\ttitleWrapper.textContent = title || '';\r\n\t\t} else {\r\n\t\t\toption.textContent = title || '';\r\n\t\t}\r\n\t\tif (options) {\r\n\t\t\tif (options.icon) {\r\n\t\t\t\tconst img = htmlToElement(options.icon);\r\n\t\t\t\timg.classList.add('mw-full');\r\n\r\n\t\t\t\tif (template) {\r\n\t\t\t\t\ticonWrapper = template.querySelector('[data-icon]');\r\n\t\t\t\t\ticonWrapper.append(img);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst icon = htmlToElement('<div></div>');\r\n\t\t\t\t\tif (this.iconClasses) classToClassList(this.iconClasses, icon);\r\n\r\n\t\t\t\t\ticon.append(img);\r\n\t\t\t\t\toption.append(icon);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (options.description) {\r\n\t\t\t\tif (template) {\r\n\t\t\t\t\tdescriptionWrapper = template.querySelector('[data-description]');\r\n\t\t\t\t\tdescriptionWrapper.append(options.description);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst description = htmlToElement('<div></div>');\r\n\t\t\t\t\tdescription.textContent = options.description;\r\n\t\t\t\t\tif (this.descriptionClasses)\r\n\t\t\t\t\t\tclassToClassList(this.descriptionClasses, description);\r\n\r\n\t\t\t\t\toption.append(description);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (\r\n\t\t\ttemplate &&\r\n\t\t\ttemplate.querySelector('[data-icon]') &&\r\n\t\t\t!options &&\r\n\t\t\t!options?.icon\r\n\t\t) {\r\n\t\t\ttemplate.querySelector('[data-icon]').classList.add('hidden');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.value &&\r\n\t\t\t(this.isMultiple ? this.value.includes(val) : this.value === val)\r\n\t\t)\r\n\t\t\toption.classList.add('selected');\r\n\r\n\t\toption.addEventListener('click', () => this.onSelectOption(val));\r\n\r\n\t\tif (this.optionClasses) classToClassList(this.optionClasses, option);\r\n\t\tif (this.dropdown) this.dropdown.append(option);\r\n\t}\r\n\r\n\tprivate destroyOption(val: string) {\r\n\t\tconst option = this.dropdown.querySelector(`[data-value=\"${val}\"]`);\r\n\r\n\t\tif (!option) return false;\r\n\r\n\t\toption.remove();\r\n\t}\r\n\r\n\tprivate buildOriginalOption(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t) {\r\n\t\tconst option = htmlToElement('<option></option>');\r\n\t\toption.setAttribute('value', val);\r\n\t\toption.setAttribute('data-hs-select-option', JSON.stringify(options));\r\n\t\toption.innerText = title;\r\n\r\n\t\tthis.el.append(option);\r\n\t}\r\n\r\n\tprivate destroyOriginalOption(val: string) {\r\n\t\tconst option = this.el.querySelector(`[value=\"${val}\"]`);\r\n\r\n\t\tif (!option) return false;\r\n\r\n\t\toption.remove();\r\n\t}\r\n\r\n\tprivate buildTagsInputHelper() {\r\n\t\tthis.tagsInputHelper = document.createElement('span');\r\n\t\tthis.tagsInputHelper.style.fontSize = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).fontSize;\r\n\t\tthis.tagsInputHelper.style.fontFamily = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).fontFamily;\r\n\t\tthis.tagsInputHelper.style.fontWeight = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).fontWeight;\r\n\t\tthis.tagsInputHelper.style.letterSpacing = window.getComputedStyle(\r\n\t\t\tthis.tagsInput,\r\n\t\t).letterSpacing;\r\n\t\tthis.tagsInputHelper.style.visibility = 'hidden';\r\n\t\tthis.tagsInputHelper.style.whiteSpace = 'pre';\r\n\t\tthis.tagsInputHelper.style.position = 'absolute';\r\n\r\n\t\tthis.wrapper.appendChild(this.tagsInputHelper);\r\n\t}\r\n\r\n\tprivate calculateInputWidth() {\r\n\t\tthis.tagsInputHelper.textContent =\r\n\t\t\t(this.tagsInput as HTMLInputElement).value ||\r\n\t\t\t(this.tagsInput as HTMLInputElement).placeholder;\r\n\r\n\t\tconst inputPadding =\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).paddingLeft) +\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).paddingRight);\r\n\t\tconst inputBorder =\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth) +\r\n\t\t\tparseInt(window.getComputedStyle(this.tagsInput).borderRightWidth);\r\n\t\tconst newWidth =\r\n\t\t\tthis.tagsInputHelper.offsetWidth + inputPadding + inputBorder;\r\n\t\tconst maxWidth =\r\n\t\t\tthis.wrapper.offsetWidth -\r\n\t\t\t(parseInt(window.getComputedStyle(this.wrapper).paddingLeft) +\r\n\t\t\t\tparseInt(window.getComputedStyle(this.wrapper).paddingRight));\r\n\r\n\t\t(this.tagsInput as HTMLInputElement).style.width = `${\r\n\t\t\tMath.min(newWidth, maxWidth) + 2\r\n\t\t}px`;\r\n\t}\r\n\r\n\tprivate adjustInputWidth() {\r\n\t\tthis.buildTagsInputHelper();\r\n\t\tthis.calculateInputWidth();\r\n\t}\r\n\r\n\tprivate onSelectOption(val: string) {\r\n\t\tthis.clearSelections();\r\n\r\n\t\tif (this.isMultiple) {\r\n\t\t\tthis.value = this.value.includes(val)\r\n\t\t\t\t? Array.from(this.value).filter((el) => el !== val)\r\n\t\t\t\t: [...Array.from(this.value), val];\r\n\r\n\t\t\tthis.selectMultipleItems();\r\n\t\t\tthis.setNewValue();\r\n\t\t} else {\r\n\t\t\tthis.value = val;\r\n\r\n\t\t\tthis.selectSingleItem();\r\n\t\t\tthis.setNewValue();\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('change', this.value);\r\n\t\tdispatch('change.hs.select', this.el, this.value);\r\n\r\n\t\tif (this.mode === 'tags') {\r\n\t\t\tconst intersection = this.selectedItems.filter(\r\n\t\t\t\t(x) => !(this.value as string[]).includes(x),\r\n\t\t\t);\r\n\t\t\tif (intersection.length) {\r\n\t\t\t\tintersection.forEach((el) => {\r\n\t\t\t\t\tthis.selectedItems = this.selectedItems.filter((elI) => elI !== el);\r\n\t\t\t\t\tthis.wrapper.querySelector(`[data-tag-value=\"${el}\"]`).remove();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTagsInputField();\r\n\t\t}\r\n\r\n\t\tif (!this.isMultiple) {\r\n\t\t\tif (this.toggle.querySelector('[data-icon]')) this.setToggleIcon();\r\n\t\t\tif (this.toggle.querySelector('[data-title]')) this.setToggleTitle();\r\n\t\t\tthis.close();\r\n\t\t}\r\n\r\n\t\tif (!this.value.length && this.mode === 'tags')\r\n\t\t\tthis.reassignTagsInputPlaceholder(this.placeholder);\r\n\r\n\t\tif (this.isOpened && this.mode === 'tags' && this.tagsInput)\r\n\t\t\tthis.tagsInput.focus();\r\n\t}\r\n\r\n\tprivate addSelectOption(\r\n\t\ttitle: string,\r\n\t\tval: string,\r\n\t\toptions?: ISingleOptionOptions,\r\n\t) {\r\n\t\tthis.selectOptions = [\r\n\t\t\t...this.selectOptions,\r\n\t\t\t{\r\n\t\t\t\ttitle,\r\n\t\t\t\tval,\r\n\t\t\t\toptions,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tprivate removeSelectOption(val: string) {\r\n\t\tconst hasOption = !!this.selectOptions.some(\r\n\t\t\t(el: ISingleOption) => el.val === val,\r\n\t\t);\r\n\r\n\t\tif (!hasOption) return false;\r\n\r\n\t\tthis.selectOptions = this.selectOptions.filter(\r\n\t\t\t(el: ISingleOption) => el.val !== val,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate resetTagsInputField() {\r\n\t\t(this.tagsInput as HTMLInputElement).value = '';\r\n\r\n\t\tthis.reassignTagsInputPlaceholder('');\r\n\t\tthis.searchOptions('');\r\n\t}\r\n\r\n\tprivate clearSelections() {\r\n\t\tArray.from(this.dropdown.children).forEach((el) => {\r\n\t\t\tif (el.classList.contains('selected')) el.classList.remove('selected');\r\n\t\t});\r\n\t\tArray.from(this.el.children).forEach((el) => {\r\n\t\t\tif ((el as HTMLOptionElement).selected)\r\n\t\t\t\t(el as HTMLOptionElement).selected = false;\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setNewValue() {\r\n\t\tif (this.mode === 'tags') {\r\n\t\t\tthis.setTagsItems();\r\n\t\t} else {\r\n\t\t\tif (this.value.length)\r\n\t\t\t\tthis.toggleTextWrapper.innerHTML = this.stringFromValue();\r\n\t\t\telse this.toggleTextWrapper.innerHTML = this.placeholder;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate stringFromValue() {\r\n\t\tconst value: string[] = [];\r\n\r\n\t\tthis.selectOptions.forEach((el: ISingleOption) => {\r\n\t\t\tif (this.isMultiple) {\r\n\t\t\t\tif (this.value.includes(el.val)) value.push(el.title);\r\n\t\t\t} else {\r\n\t\t\t\tif (this.value === el.val) value.push(el.title);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn this.toggleCountText &&\r\n\t\t\tthis.toggleCountText !== '' &&\r\n\t\t\tvalue.length >= this.toggleCountTextMinItems\r\n\t\t\t? `${value.length} ${this.toggleCountText}`\r\n\t\t\t: value.join(', ');\r\n\t}\r\n\r\n\tprivate selectSingleItem() {\r\n\t\tconst selectedOption = Array.from(this.el.children).find(\r\n\t\t\t(el) => this.value === (el as HTMLOptionElement).value,\r\n\t\t);\r\n\t\t(selectedOption as HTMLOptionElement).selected = true;\r\n\r\n\t\tconst selectedItem = Array.from(this.dropdown.children).find(\r\n\t\t\t(el) =>\r\n\t\t\t\tthis.value === (el as HTMLOptionElement).getAttribute('data-value'),\r\n\t\t);\r\n\t\tselectedItem.classList.add('selected');\r\n\t}\r\n\r\n\tprivate selectMultipleItems() {\r\n\t\tArray.from(this.dropdown.children)\r\n\t\t\t.filter((el) => this.value.includes(el.getAttribute('data-value')))\r\n\t\t\t.forEach((el) => el.classList.add('selected'));\r\n\r\n\t\tArray.from(this.el.children)\r\n\t\t\t.filter((el) => this.value.includes((el as HTMLOptionElement).value))\r\n\t\t\t.forEach((el) => ((el as HTMLOptionElement).selected = true));\r\n\t}\r\n\r\n\tprivate unselectMultipleItems() {\r\n\t\tArray.from(this.dropdown.children).forEach((el) =>\r\n\t\t\tel.classList.remove('selected'),\r\n\t\t);\r\n\t\tArray.from(this.el.children).forEach(\r\n\t\t\t(el) => ((el as HTMLOptionElement).selected = false),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate searchOptions(val: string) {\r\n\t\tif (this.searchNoResult) {\r\n\t\t\tthis.searchNoResult.remove();\r\n\t\t\tthis.searchNoResult = null;\r\n\t\t}\r\n\t\tthis.searchNoResult = htmlToElement('<span></span>');\r\n\t\tthis.searchNoResult.innerText = this.searchNoResultText;\r\n\t\tclassToClassList(this.searchNoResultClasses, this.searchNoResult);\r\n\r\n\t\tconst options = this.dropdown.querySelectorAll('[data-value]');\r\n\t\tlet hasItems = false;\r\n\r\n\t\toptions.forEach((el) => {\r\n\t\t\tconst optionVal = el.getAttribute('data-title-value').toLocaleLowerCase();\r\n\r\n\t\t\tif (!optionVal.includes(val.toLocaleLowerCase())) el.classList.add('hidden');\r\n\t\t\telse {\r\n\t\t\t\tel.classList.remove('hidden');\r\n\t\t\t\thasItems = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!hasItems) this.dropdown.append(this.searchNoResult);\r\n\t}\r\n\r\n\tprivate eraseToggleIcon() {\r\n\t\tconst icon = this.toggle.querySelector('[data-icon]');\r\n\r\n\t\tif (icon) {\r\n\t\t\ticon.innerHTML = null;\r\n\t\t\ticon.classList.add('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate eraseToggleTitle() {\r\n\t\tconst title = this.toggle.querySelector('[data-title]');\r\n\r\n\t\tif (title) {\r\n\t\t\ttitle.innerHTML = this.placeholder;\r\n\t\t} else {\r\n\t\t\tthis.toggleTextWrapper.innerHTML = this.placeholder;\r\n\t\t}\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic destroy() {\r\n\t\tconst parent = this.el.parentElement.parentElement;\r\n\r\n\t\tthis.el.classList.remove('hidden');\r\n\t\tthis.el.style.display = '';\r\n\t\tparent.prepend(this.el);\r\n\t\tparent.querySelector('.hs-select').remove();\r\n\t\tthis.wrapper = null;\r\n\t}\r\n\r\n\tpublic open() {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.dropdown.classList.remove('hidden');\r\n\r\n\t\tthis.recalculateDirection();\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.wrapper.classList.add('active');\r\n\t\t\tthis.dropdown.classList.add('opened');\r\n\t\t\tif (this.hasSearch && !this.preventSearchFocus) this.search.focus();\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.isOpened = true;\r\n\t}\r\n\r\n\tpublic close() {\r\n\t\tif (this.animationInProcess) return false;\r\n\r\n\t\tthis.animationInProcess = true;\r\n\r\n\t\tthis.wrapper.classList.remove('active');\r\n\t\tthis.dropdown.classList.remove('opened', 'bottom-full', 'top-full');\r\n\t\tif (this.dropdownDirectionClasses?.bottom)\r\n\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.bottom);\r\n\t\tif (this.dropdownDirectionClasses?.top)\r\n\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.top);\r\n\t\tthis.dropdown.style.marginTop = '';\r\n\t\tthis.dropdown.style.marginBottom = '';\r\n\r\n\t\tafterTransition(this.dropdown, () => {\r\n\t\t\tthis.dropdown.classList.add('hidden');\r\n\t\t\tif (this.hasSearch) {\r\n\t\t\t\tthis.search.value = '';\r\n\t\t\t\tthis.search.dispatchEvent(new Event('input', { bubbles: true }));\r\n\t\t\t\tthis.search.blur();\r\n\t\t\t}\r\n\r\n\t\t\tthis.animationInProcess = false;\r\n\t\t});\r\n\r\n\t\tthis.dropdown\r\n\t\t\t.querySelector('.hs-select-option-highlighted')\r\n\t\t\t?.classList.remove('hs-select-option-highlighted');\r\n\t\tthis.isOpened = false;\r\n\t}\r\n\r\n\tpublic addOption(items: ISingleOption | ISingleOption[]) {\r\n\t\tlet i = `${this.selectOptions.length}`;\r\n\t\tconst addOption = (option: ISingleOption) => {\r\n\t\t\tconst { title, val, options } = option;\r\n\t\t\tconst hasOption = !!this.selectOptions.some(\r\n\t\t\t\t(el: ISingleOption) => el.val === val,\r\n\t\t\t);\r\n\r\n\t\t\tif (!hasOption) {\r\n\t\t\t\tthis.addSelectOption(title, val, options);\r\n\t\t\t\tthis.buildOption(title, val, options, i);\r\n\t\t\t\tthis.buildOriginalOption(title, val, options);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(items)) {\r\n\t\t\titems.forEach((option) => {\r\n\t\t\t\taddOption(option);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddOption(items);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic removeOption(values: string | string[]) {\r\n\t\tconst removeOption = (val: string) => {\r\n\t\t\tconst hasOption = !!this.selectOptions.some(\r\n\t\t\t\t(el: ISingleOption) => el.val === val,\r\n\t\t\t);\r\n\r\n\t\t\tif (hasOption) {\r\n\t\t\t\tthis.removeSelectOption(val);\r\n\t\t\t\tthis.destroyOption(val);\r\n\t\t\t\tthis.destroyOriginalOption(val);\r\n\r\n\t\t\t\tif (this.value === val) {\r\n\t\t\t\t\tthis.value = null;\r\n\r\n\t\t\t\t\tthis.eraseToggleTitle();\r\n\t\t\t\t\tthis.eraseToggleIcon();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (Array.isArray(values)) {\r\n\t\t\tvalues.forEach((val) => {\r\n\t\t\t\tremoveOption(val);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tremoveOption(values);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic recalculateDirection() {\r\n\t\tif (\r\n\t\t\tisEnoughSpace(\r\n\t\t\t\tthis.dropdown,\r\n\t\t\t\tthis.toggle || this.tagsInput,\r\n\t\t\t\t'bottom',\r\n\t\t\t\tthis.dropdownSpace,\r\n\t\t\t\tthis.viewport,\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tthis.dropdown.classList.remove('bottom-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.bottom)\r\n\t\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.bottom);\r\n\t\t\tthis.dropdown.style.marginBottom = '';\r\n\t\t\tthis.dropdown.classList.add('top-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.top)\r\n\t\t\t\tthis.dropdown.classList.add(this.dropdownDirectionClasses.top);\r\n\t\t\tthis.dropdown.style.marginTop = `${this.dropdownSpace}px`;\r\n\t\t} else {\r\n\t\t\tthis.dropdown.classList.remove('top-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.top)\r\n\t\t\t\tthis.dropdown.classList.remove(this.dropdownDirectionClasses.top);\r\n\t\t\tthis.dropdown.style.marginTop = '';\r\n\t\t\tthis.dropdown.classList.add('bottom-full');\r\n\t\t\tif (this.dropdownDirectionClasses?.bottom)\r\n\t\t\t\tthis.dropdown.classList.add(this.dropdownDirectionClasses.bottom);\r\n\t\t\tthis.dropdown.style.marginBottom = `${this.dropdownSpace}px`;\r\n\t\t}\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsSelectCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsSelectCollection) window.$hsSelectCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-select]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsSelectCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-select');\r\n\t\t\t\t\tconst options: ISelectOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSSelect(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tif (window.$hsSelectCollection) {\r\n\t\t\twindow.addEventListener('click', (evt) => {\r\n\t\t\t\tconst evtTarget = evt.target;\r\n\r\n\t\t\t\tHSSelect.closeCurrentlyOpened(evtTarget as HTMLElement);\r\n\t\t\t});\r\n\r\n\t\t\tdocument.addEventListener('keydown', (evt) =>\r\n\t\t\t\tHSSelect.accessibility(evt),\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic close(target: HTMLElement | string) {\r\n\t\tconst elInCollection = window.$hsSelectCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection && elInCollection.element.isOpened) {\r\n\t\t\telInCollection.element.close();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic closeCurrentlyOpened(evtTarget: HTMLElement | null = null) {\r\n\t\tif (!evtTarget.closest('.hs-select.active')) {\r\n\t\t\tconst currentlyOpened =\r\n\t\t\t\twindow.$hsSelectCollection.filter((el) => el.element.isOpened) || null;\r\n\r\n\t\t\tif (currentlyOpened) {\r\n\t\t\t\tcurrentlyOpened.forEach((el) => {\r\n\t\t\t\t\tel.element.close();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\tSELECT_ACCESSIBILITY_KEY_SET.includes(evt.code) &&\r\n\t\t\t!evt.metaKey\r\n\t\t) {\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase 'Escape':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEscape();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowUp':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'ArrowDown':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Tab':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onTab(evt.shiftKey);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Enter':\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.onEnter(evt);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEscape() {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) target.element.close();\r\n\t}\r\n\r\n\tstatic onArrow(isArrowUp = true) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst dropdown = target.element.dropdown;\r\n\r\n\t\t\tif (!dropdown) return false;\r\n\r\n\t\t\tconst preparedOptions = isArrowUp\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\t\tdropdown.querySelectorAll(':scope > *:not(.hidden)'),\r\n\t\t\t\t\t).reverse()\r\n\t\t\t\t: Array.from(dropdown.querySelectorAll(':scope > *:not(.hidden)'));\r\n\t\t\tconst options = preparedOptions.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current = dropdown.querySelector('.hs-select-option-highlighted');\r\n\t\t\tif (!current) options[0].classList.add('hs-select-option-highlighted');\r\n\t\t\tlet currentInd = options.findIndex((el: any) => el === current);\r\n\r\n\t\t\tif (currentInd + 1 < options.length) {\r\n\t\t\t\tcurrentInd++;\r\n\t\t\t}\r\n\r\n\t\t\t(options[currentInd] as HTMLButtonElement).focus();\r\n\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\toptions[currentInd].classList.add('hs-select-option-highlighted');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onTab(isArrowUp = true) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst dropdown = target.element.dropdown;\r\n\r\n\t\t\tif (!dropdown) return false;\r\n\r\n\t\t\tconst preparedOptions = isArrowUp\r\n\t\t\t\t? Array.from(\r\n\t\t\t\t\t\tdropdown.querySelectorAll(':scope >  *:not(.hidden)'),\r\n\t\t\t\t\t).reverse()\r\n\t\t\t\t: Array.from(dropdown.querySelectorAll(':scope >  *:not(.hidden)'));\r\n\t\t\tconst options = preparedOptions.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current = dropdown.querySelector('.hs-select-option-highlighted');\r\n\t\t\tif (!current) options[0].classList.add('hs-select-option-highlighted');\r\n\t\t\tlet currentInd = options.findIndex((el: any) => el === current);\r\n\r\n\t\t\tif (currentInd + 1 < options.length) {\r\n\t\t\t\tcurrentInd++;\r\n\t\t\t} else {\r\n\t\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\t\ttarget.element.close();\r\n\t\t\t\ttarget.element.toggle.focus();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t(options[currentInd] as HTMLButtonElement).focus();\r\n\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\toptions[currentInd].classList.add('hs-select-option-highlighted');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isStart = true) {\r\n\t\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\t\tif (target) {\r\n\t\t\tconst dropdown = target.element.dropdown;\r\n\r\n\t\t\tif (!dropdown) return false;\r\n\r\n\t\t\tconst preparedOptions = isStart\r\n\t\t\t\t? Array.from(dropdown.querySelectorAll(':scope >  *:not(.hidden)'))\r\n\t\t\t\t: Array.from(\r\n\t\t\t\t\t\tdropdown.querySelectorAll(':scope >  *:not(.hidden)'),\r\n\t\t\t\t\t).reverse();\r\n\t\t\tconst options = preparedOptions.filter(\r\n\t\t\t\t(el: any) => !el.classList.contains('disabled'),\r\n\t\t\t);\r\n\t\t\tconst current = dropdown.querySelector('.hs-select-option-highlighted');\r\n\r\n\t\t\tif (options.length) {\r\n\t\t\t\t(options[0] as HTMLButtonElement).focus();\r\n\t\t\t\tif (current) current.classList.remove('hs-select-option-highlighted');\r\n\t\t\t\toptions[0].classList.add('hs-select-option-highlighted');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onEnter(evt: Event) {\r\n\t\tconst select = (evt.target as HTMLElement).previousSibling;\r\n\r\n\t\tif (window.$hsSelectCollection.find((el) => el.element.el === select)) {\r\n\t\t\tconst opened = window.$hsSelectCollection.find(\r\n\t\t\t\t(el) => el.element.isOpened,\r\n\t\t\t);\r\n\t\t\tconst target = window.$hsSelectCollection.find(\r\n\t\t\t\t(el) => el.element.el === select,\r\n\t\t\t);\r\n\r\n\t\t\topened.element.close();\r\n\t\t\ttarget.element.open();\r\n\t\t} else {\r\n\t\t\tconst target = window.$hsSelectCollection.find(\r\n\t\t\t\t(el) => el.element.isOpened,\r\n\t\t\t);\r\n\r\n\t\t\tif (target)\r\n\t\t\t\ttarget.element.onSelectOption(\r\n\t\t\t\t\t(evt.target as HTMLElement).dataset.value || '',\r\n\t\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSSelect: Function;\r\n\t\t$hsSelectCollection: ICollectionItem<HSSelect>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSSelect.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Select collection:', window.$hsSelectCollection);\r\n});\r\n\r\ndocument.addEventListener('scroll', () => {\r\n\tif (!window.$hsSelectCollection) return false;\r\n\r\n\tconst target = window.$hsSelectCollection.find((el) => el.element.isOpened);\r\n\r\n\tif (target) target.element.recalculateDirection();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSSelect = HSSelect;\r\n}\r\n\r\nexport default HSSelect;\r\n", "/*\r\n * HSStepper\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { IStepperOptions, IStepper, IStepperItem } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSStepper extends HSBasePlugin<{}> implements IStepper {\r\n\tprivate currentIndex: number | null;\r\n\tprivate readonly mode: string | null;\r\n\tprivate isCompleted: boolean | null;\r\n\r\n\tprivate totalSteps: number | null;\r\n\r\n\tprivate navItems: IStepperItem[] | null;\r\n\tprivate contentItems: IStepperItem[] | null;\r\n\tprivate backBtn: HTMLElement | null;\r\n\tprivate nextBtn: HTMLElement | null;\r\n\tprivate skipBtn: HTMLElement | null;\r\n\tprivate completeStepBtn: HTMLElement | null;\r\n\tprivate completeStepBtnDefaultText: string | null;\r\n\tprivate finishBtn: HTMLElement | null;\r\n\tprivate resetBtn: HTMLElement | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: IStepperOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-stepper');\r\n\t\tconst dataOptions: IStepperOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.currentIndex = concatOptions?.currentIndex || 1;\r\n\t\tthis.mode = concatOptions?.mode || 'linear';\r\n\t\tthis.isCompleted =\r\n\t\t\ttypeof concatOptions?.isCompleted !== 'undefined'\r\n\t\t\t\t? concatOptions?.isCompleted\r\n\t\t\t\t: false;\r\n\r\n\t\tthis.totalSteps = 1;\r\n\r\n\t\tthis.navItems = [];\r\n\t\tthis.contentItems = [];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsStepperCollection, this);\r\n\r\n\t\tthis.buildNav();\r\n\t\tthis.buildContent();\r\n\t\tthis.buildButtons();\r\n\t\tthis.setTotalSteps();\r\n\t}\r\n\r\n\tprivate getUncompletedSteps(inIncludedSkipped: boolean = false) {\r\n\t\treturn this.navItems.filter(({ isCompleted, isSkip }) =>\r\n\t\t\tinIncludedSkipped ? !isCompleted || isSkip : !isCompleted && !isSkip,\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setTotalSteps() {\r\n\t\tthis.navItems.forEach((item) => {\r\n\t\t\tconst { index } = item;\r\n\r\n\t\t\tif (index > this.totalSteps) this.totalSteps = index;\r\n\t\t});\r\n\t}\r\n\r\n\t// Nav\r\n\tprivate buildNav() {\r\n\t\tthis.el\r\n\t\t\t.querySelectorAll('[data-hs-stepper-nav-item]')\r\n\t\t\t.forEach((el) => this.addNavItem(el as HTMLElement));\r\n\r\n\t\tthis.navItems.forEach((item) => this.buildNavItem(item));\r\n\t}\r\n\r\n\tprivate buildNavItem(item: IStepperItem) {\r\n\t\tconst { index, isDisabled, el } = item;\r\n\r\n\t\tif (index === this.currentIndex) this.setCurrentNavItem();\r\n\r\n\t\tif (this.mode !== 'linear' || isDisabled) {\r\n\t\t\tel.addEventListener('click', () => this.handleNavItemClick(item));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addNavItem(el: HTMLElement) {\r\n\t\tconst {\r\n\t\t\tindex,\r\n\t\t\tisFinal = false,\r\n\t\t\tisCompleted = false,\r\n\t\t\tisSkip = false,\r\n\t\t\tisOptional = false,\r\n\t\t\tisDisabled = false,\r\n\t\t\tisProcessed = false,\r\n\t\t\thasError = false,\r\n\t\t} = JSON.parse(el.getAttribute('data-hs-stepper-nav-item'));\r\n\r\n\t\tif (isCompleted) el.classList.add('success');\r\n\t\tif (isSkip) el.classList.add('skipped');\r\n\t\tif (isDisabled) {\r\n\t\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\t\tel.setAttribute('disabled', 'disabled');\r\n\r\n\t\t\tel.classList.add('disabled');\r\n\t\t}\r\n\t\tif (hasError) el.classList.add('error');\r\n\r\n\t\tthis.navItems.push({\r\n\t\t\tindex,\r\n\t\t\tisFinal,\r\n\t\t\tisCompleted,\r\n\t\t\tisSkip,\r\n\t\t\tisOptional,\r\n\t\t\tisDisabled,\r\n\t\t\tisProcessed,\r\n\t\t\thasError,\r\n\t\t\tel: el as HTMLElement,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentNavItem() {\r\n\t\tthis.navItems.forEach((item) => {\r\n\t\t\tconst { index, el } = item;\r\n\r\n\t\t\tif (index === this.currentIndex) this.setCurrentNavItemActions(el);\r\n\t\t\telse this.unsetCurrentNavItemActions(el);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentNavItemActions(el: HTMLElement) {\r\n\t\tel.classList.add('active');\r\n\r\n\t\tthis.fireEvent('active', this.currentIndex);\r\n\t\tdispatch('active.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\tprivate getNavItem(n = this.currentIndex) {\r\n\t\treturn this.navItems.find(({ index }) => index === n);\r\n\t}\r\n\r\n\tprivate setProcessedNavItemActions(item: IStepperItem) {\r\n\t\titem.isProcessed = true;\r\n\r\n\t\titem.el.classList.add('processed');\r\n\t}\r\n\r\n\tprivate setErrorNavItemActions(item: IStepperItem) {\r\n\t\titem.hasError = true;\r\n\r\n\t\titem.el.classList.add('error');\r\n\t}\r\n\r\n\tprivate unsetCurrentNavItemActions(el: HTMLElement) {\r\n\t\tel.classList.remove('active');\r\n\t}\r\n\r\n\tprivate handleNavItemClick(item: IStepperItem) {\r\n\t\tconst { index } = item;\r\n\r\n\t\tthis.currentIndex = index;\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\t}\r\n\r\n\t// Content\r\n\tprivate buildContent() {\r\n\t\tthis.el\r\n\t\t\t.querySelectorAll('[data-hs-stepper-content-item]')\r\n\t\t\t.forEach((el) => this.addContentItem(el as HTMLElement));\r\n\r\n\t\tthis.navItems.forEach((item) => this.buildContentItem(item));\r\n\t}\r\n\r\n\tprivate buildContentItem(item: IStepperItem) {\r\n\t\tconst { index } = item;\r\n\r\n\t\tif (index === this.currentIndex) this.setCurrentContentItem();\r\n\t}\r\n\r\n\tprivate addContentItem(el: HTMLElement) {\r\n\t\tconst {\r\n\t\t\tindex,\r\n\t\t\tisFinal = false,\r\n\t\t\tisCompleted = false,\r\n\t\t\tisSkip = false,\r\n\t\t} = JSON.parse(el.getAttribute('data-hs-stepper-content-item'));\r\n\r\n\t\tif (isCompleted) el.classList.add('success');\r\n\t\tif (isSkip) el.classList.add('skipped');\r\n\r\n\t\tthis.contentItems.push({\r\n\t\t\tindex,\r\n\t\t\tisFinal,\r\n\t\t\tisCompleted,\r\n\t\t\tisSkip,\r\n\t\t\tel: el as HTMLElement,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setCurrentContentItem() {\r\n\t\tif (this.isCompleted) {\r\n\t\t\tconst finalContentItem = this.contentItems.find(({ isFinal }) => isFinal);\r\n\t\t\tconst otherContentItems = this.contentItems.filter(\r\n\t\t\t\t({ isFinal }) => !isFinal,\r\n\t\t\t);\r\n\t\t\tfinalContentItem.el.style.display = '';\r\n\t\t\totherContentItems.forEach(({ el }) => (el.style.display = 'none'));\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.contentItems.forEach((item) => {\r\n\t\t\tconst { index, el } = item;\r\n\r\n\t\t\tif (index === this.currentIndex) this.setCurrentContentItemActions(el);\r\n\t\t\telse this.unsetCurrentContentItemActions(el);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate hideAllContentItems() {\r\n\t\tthis.contentItems.forEach(({ el }) => (el.style.display = 'none'));\r\n\t}\r\n\r\n\tprivate setCurrentContentItemActions(el: HTMLElement) {\r\n\t\tel.style.display = '';\r\n\t}\r\n\r\n\tprivate unsetCurrentContentItemActions(el: HTMLElement) {\r\n\t\tel.style.display = 'none';\r\n\t}\r\n\r\n\tprivate disableAll() {\r\n\t\tconst currentNavItem = this.getNavItem(this.currentIndex);\r\n\t\tcurrentNavItem.hasError = false;\r\n\t\tcurrentNavItem.isCompleted = false;\r\n\t\tcurrentNavItem.isDisabled = false;\r\n\t\tcurrentNavItem.el.classList.remove('error', 'success');\r\n\r\n\t\tthis.disableButtons();\r\n\t}\r\n\r\n\tprivate disableNavItemActions(item: IStepperItem) {\r\n\t\titem.isDisabled = true;\r\n\t\titem.el.classList.add('disabled');\r\n\t}\r\n\r\n\tprivate enableNavItemActions(item: IStepperItem) {\r\n\t\titem.isDisabled = false;\r\n\t\titem.el.classList.remove('disabled');\r\n\t}\r\n\r\n\t// Buttons\r\n\tprivate buildButtons() {\r\n\t\tthis.backBtn = this.el.querySelector('[data-hs-stepper-back-btn]');\r\n\t\tthis.nextBtn = this.el.querySelector('[data-hs-stepper-next-btn]');\r\n\t\tthis.skipBtn = this.el.querySelector('[data-hs-stepper-skip-btn]');\r\n\t\tthis.completeStepBtn = this.el.querySelector(\r\n\t\t\t'[data-hs-stepper-complete-step-btn]',\r\n\t\t);\r\n\t\tthis.finishBtn = this.el.querySelector('[data-hs-stepper-finish-btn]');\r\n\t\tthis.resetBtn = this.el.querySelector('[data-hs-stepper-reset-btn]');\r\n\r\n\t\tthis.buildBackButton();\r\n\t\tthis.buildNextButton();\r\n\t\tthis.buildSkipButton();\r\n\t\tthis.buildCompleteStepButton();\r\n\t\tthis.buildFinishButton();\r\n\t\tthis.buildResetButton();\r\n\t}\r\n\r\n\t// back\r\n\tprivate buildBackButton() {\r\n\t\tif (!this.backBtn) return;\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\r\n\t\tthis.backBtn.addEventListener('click', () => {\r\n\t\t\tthis.handleBackButtonClick();\r\n\r\n\t\t\tif (this.mode === 'linear') {\r\n\t\t\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t\t\t);\r\n\t\t\t\tconst currentContentItem = this.contentItems.find(\r\n\t\t\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!currentNavItem || !currentContentItem) return;\r\n\r\n\t\t\t\tif (currentNavItem.isCompleted) {\r\n\t\t\t\t\tcurrentNavItem.isCompleted = false;\r\n\t\t\t\t\tcurrentNavItem.isSkip = false;\r\n\r\n\t\t\t\t\tcurrentNavItem.el.classList.remove('success', 'skipped');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (currentContentItem.isCompleted) {\r\n\t\t\t\t\tcurrentContentItem.isCompleted = false;\r\n\t\t\t\t\tcurrentContentItem.isSkip = false;\r\n\r\n\t\t\t\t\tcurrentContentItem.el.classList.remove('success', 'skipped');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.mode === 'linear' && this.currentIndex !== this.totalSteps) {\r\n\t\t\t\t\tif (this.nextBtn) this.nextBtn.style.display = '';\r\n\t\t\t\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.showSkipButton();\r\n\t\t\t\tthis.showFinishButton();\r\n\t\t\t\tthis.showCompleteStepButton();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate handleBackButtonClick() {\r\n\t\tif (this.currentIndex === 1) return;\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tthis.removeOptionalClasses();\r\n\t\t}\r\n\r\n\t\tthis.currentIndex--;\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tthis.removeOptionalClasses();\r\n\t\t}\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.changeTextAndDisableCompleteButtonIfStepCompleted();\r\n\r\n\t\tthis.fireEvent('back', this.currentIndex);\r\n\t\tdispatch('back.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\tprivate checkForTheFirstStep() {\r\n\t\tif (this.currentIndex === 1) {\r\n\t\t\tthis.setToDisabled(this.backBtn);\r\n\t\t} else {\r\n\t\t\tthis.setToNonDisabled(this.backBtn);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setToDisabled(el: HTMLElement) {\r\n\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\tel.setAttribute('disabled', 'disabled');\r\n\r\n\t\tel.classList.add('disabled');\r\n\t}\r\n\r\n\tprivate setToNonDisabled(el: HTMLElement) {\r\n\t\tif (el.tagName === 'BUTTON' || el.tagName === 'INPUT')\r\n\t\t\tel.removeAttribute('disabled');\r\n\r\n\t\tel.classList.remove('disabled');\r\n\t}\r\n\r\n\t// next\r\n\tprivate buildNextButton() {\r\n\t\tif (!this.nextBtn) return;\r\n\r\n\t\tthis.nextBtn.addEventListener('click', () => {\r\n\t\t\tthis.fireEvent('beforeNext', this.currentIndex);\r\n\t\t\tdispatch('beforeNext.hs.stepper', this.el, this.currentIndex);\r\n\r\n\t\t\tif (this.getNavItem(this.currentIndex)?.isProcessed) {\r\n\t\t\t\tthis.disableAll();\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.goToNext();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate unsetProcessedNavItemActions(item: IStepperItem) {\r\n\t\titem.isProcessed = false;\r\n\r\n\t\titem.el.classList.remove('processed');\r\n\t}\r\n\r\n\tprivate handleNextButtonClick(infinite = true) {\r\n\t\tif (infinite) {\r\n\t\t\tif (this.currentIndex === this.totalSteps) this.currentIndex = 1;\r\n\t\t\telse this.currentIndex++;\r\n\t\t} else {\r\n\t\t\tconst nonCompletedSteps = this.getUncompletedSteps();\r\n\r\n\t\t\tif (nonCompletedSteps.length === 1) {\r\n\t\t\t\tconst { index } = nonCompletedSteps[0];\r\n\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t} else {\r\n\t\t\t\tif (this.currentIndex === this.totalSteps) return;\r\n\r\n\t\t\t\tthis.currentIndex++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.mode === 'linear') {\r\n\t\t\tthis.removeOptionalClasses();\r\n\t\t}\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\r\n\t\tthis.checkForTheFirstStep();\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.changeTextAndDisableCompleteButtonIfStepCompleted();\r\n\r\n\t\tthis.showSkipButton();\r\n\t\tthis.showFinishButton();\r\n\t\tthis.showCompleteStepButton();\r\n\r\n\t\tthis.fireEvent('next', this.currentIndex);\r\n\t\tdispatch('next.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\tprivate removeOptionalClasses() {\r\n\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\t\tconst currentContentItem = this.contentItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\r\n\t\tcurrentNavItem.isSkip = false;\r\n\t\tcurrentNavItem.hasError = false;\r\n\t\tcurrentNavItem.isDisabled = false;\r\n\t\tcurrentContentItem.isSkip = false;\r\n\r\n\t\tcurrentNavItem.el.classList.remove('skipped', 'success', 'error');\r\n\t\tcurrentContentItem.el.classList.remove('skipped', 'success', 'error');\r\n\t}\r\n\r\n\t// skip\r\n\tprivate buildSkipButton() {\r\n\t\tif (!this.skipBtn) return;\r\n\r\n\t\tthis.showSkipButton();\r\n\r\n\t\tthis.skipBtn.addEventListener('click', () => {\r\n\t\t\tthis.handleSkipButtonClick();\r\n\r\n\t\t\tif (this.mode === 'linear' && this.currentIndex === this.totalSteps) {\r\n\t\t\t\tif (this.nextBtn) this.nextBtn.style.display = 'none';\r\n\t\t\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = 'none';\r\n\t\t\t\tif (this.finishBtn) this.finishBtn.style.display = '';\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate setSkipItem(n?: number) {\r\n\t\tconst targetNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\t\tconst targetContentItem = this.contentItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\r\n\t\tif (!targetNavItem || !targetContentItem) return;\r\n\r\n\t\tthis.setSkipItemActions(targetNavItem);\r\n\t\tthis.setSkipItemActions(targetContentItem);\r\n\t}\r\n\r\n\tprivate setSkipItemActions(item: IStepperItem) {\r\n\t\titem.isSkip = true;\r\n\r\n\t\titem.el.classList.add('skipped');\r\n\t}\r\n\r\n\tprivate showSkipButton() {\r\n\t\tif (!this.skipBtn) return;\r\n\r\n\t\tconst { isOptional } = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\r\n\t\tif (isOptional) this.skipBtn.style.display = '';\r\n\t\telse this.skipBtn.style.display = 'none';\r\n\t}\r\n\r\n\tprivate handleSkipButtonClick() {\r\n\t\tthis.setSkipItem();\r\n\t\tthis.handleNextButtonClick();\r\n\r\n\t\tthis.fireEvent('skip', this.currentIndex);\r\n\t\tdispatch('skip.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\t// complete\r\n\tprivate buildCompleteStepButton() {\r\n\t\tif (!this.completeStepBtn) return;\r\n\r\n\t\tthis.completeStepBtnDefaultText = this.completeStepBtn.innerText;\r\n\r\n\t\tthis.completeStepBtn.addEventListener('click', () =>\r\n\t\t\tthis.handleCompleteStepButtonClick(),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate changeTextAndDisableCompleteButtonIfStepCompleted() {\r\n\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\t\tconst { completedText } = JSON.parse(\r\n\t\t\tthis.completeStepBtn.getAttribute('data-hs-stepper-complete-step-btn'),\r\n\t\t);\r\n\r\n\t\tif (!currentNavItem) return;\r\n\r\n\t\tif (currentNavItem.isCompleted) {\r\n\t\t\tthis.completeStepBtn.innerText =\r\n\t\t\t\tcompletedText || this.completeStepBtnDefaultText;\r\n\t\t\tthis.completeStepBtn.setAttribute('disabled', 'disabled');\r\n\t\t\tthis.completeStepBtn.classList.add('disabled');\r\n\t\t} else {\r\n\t\t\tthis.completeStepBtn.innerText = this.completeStepBtnDefaultText;\r\n\t\t\tthis.completeStepBtn.removeAttribute('disabled');\r\n\t\t\tthis.completeStepBtn.classList.remove('disabled');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setCompleteItem(n?: number) {\r\n\t\tconst targetNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\t\tconst targetContentItem = this.contentItems.find(\r\n\t\t\t({ index }) => index === (n || this.currentIndex),\r\n\t\t);\r\n\r\n\t\tif (!targetNavItem || !targetContentItem) return;\r\n\r\n\t\tthis.setCompleteItemActions(targetNavItem);\r\n\t\tthis.setCompleteItemActions(targetContentItem);\r\n\t}\r\n\r\n\tprivate setCompleteItemActions(item: IStepperItem) {\r\n\t\titem.isCompleted = true;\r\n\r\n\t\titem.el.classList.add('success');\r\n\t}\r\n\r\n\tprivate showCompleteStepButton() {\r\n\t\tif (!this.completeStepBtn) return;\r\n\r\n\t\tconst nonCompletedSteps = this.getUncompletedSteps();\r\n\r\n\t\tif (nonCompletedSteps.length === 1)\r\n\t\t\tthis.completeStepBtn.style.display = 'none';\r\n\t\telse this.completeStepBtn.style.display = '';\r\n\t}\r\n\r\n\tprivate handleCompleteStepButtonClick() {\r\n\t\tthis.setCompleteItem();\r\n\r\n\t\tthis.fireEvent('complete', this.currentIndex);\r\n\t\tdispatch('complete.hs.stepper', this.el, this.currentIndex);\r\n\r\n\t\tthis.handleNextButtonClick(false);\r\n\t\tthis.showFinishButton();\r\n\t\tthis.showCompleteStepButton();\r\n\t\tthis.checkForTheFirstStep();\r\n\t\tif (this.completeStepBtn)\r\n\t\t\tthis.changeTextAndDisableCompleteButtonIfStepCompleted();\r\n\t\tthis.showSkipButton();\r\n\t}\r\n\r\n\t// finish\r\n\tprivate buildFinishButton() {\r\n\t\tif (!this.finishBtn) return;\r\n\r\n\t\tif (this.isCompleted) {\r\n\t\t\tthis.setCompleted();\r\n\t\t}\r\n\r\n\t\tthis.finishBtn.addEventListener('click', () =>\r\n\t\t\tthis.handleFinishButtonClick(),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setCompleted() {\r\n\t\tthis.el.classList.add('completed');\r\n\t}\r\n\r\n\tprivate unsetCompleted() {\r\n\t\tthis.el.classList.remove('completed');\r\n\t}\r\n\r\n\tprivate showFinishButton() {\r\n\t\tif (!this.finishBtn) return;\r\n\r\n\t\tconst nonCompletedSteps = this.getUncompletedSteps();\r\n\r\n\t\tif (nonCompletedSteps.length === 1) this.finishBtn.style.display = '';\r\n\t\telse this.finishBtn.style.display = 'none';\r\n\t}\r\n\r\n\tprivate handleFinishButtonClick() {\r\n\t\tconst uncompletedSteps = this.getUncompletedSteps();\r\n\t\tconst uncompletedOrSkipSteps = this.getUncompletedSteps(true);\r\n\t\tconst { el } = this.contentItems.find(({ isFinal }) => isFinal);\r\n\r\n\t\tif (uncompletedSteps.length)\r\n\t\t\tuncompletedSteps.forEach(({ index }) => this.setCompleteItem(index));\r\n\r\n\t\tthis.currentIndex = this.totalSteps;\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.hideAllContentItems();\r\n\r\n\t\tconst currentNavItem = this.navItems.find(\r\n\t\t\t({ index }) => index === this.currentIndex,\r\n\t\t);\r\n\t\tconst currentNavItemEl = currentNavItem ? currentNavItem.el : null;\r\n\r\n\t\tcurrentNavItemEl.classList.remove('active');\r\n\r\n\t\tel.style.display = 'block';\r\n\t\tif (this.backBtn) this.backBtn.style.display = 'none';\r\n\t\tif (this.nextBtn) this.nextBtn.style.display = 'none';\r\n\t\tif (this.skipBtn) this.skipBtn.style.display = 'none';\r\n\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = 'none';\r\n\t\tif (this.finishBtn) this.finishBtn.style.display = 'none';\r\n\t\tif (this.resetBtn) this.resetBtn.style.display = '';\r\n\r\n\t\tif (uncompletedOrSkipSteps.length <= 1) {\r\n\t\t\tthis.isCompleted = true;\r\n\t\t\tthis.setCompleted();\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('finish', this.currentIndex);\r\n\t\tdispatch('finish.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\t// reset\r\n\tprivate buildResetButton() {\r\n\t\tif (!this.resetBtn) return;\r\n\r\n\t\tthis.resetBtn.addEventListener('click', () =>\r\n\t\t\tthis.handleResetButtonClick(),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate handleResetButtonClick() {\r\n\t\tif (this.backBtn) this.backBtn.style.display = '';\r\n\t\tif (this.nextBtn) this.nextBtn.style.display = '';\r\n\t\tif (this.completeStepBtn) {\r\n\t\t\tthis.completeStepBtn.style.display = '';\r\n\t\t\tthis.completeStepBtn.innerText = this.completeStepBtnDefaultText;\r\n\t\t\tthis.completeStepBtn.removeAttribute('disabled');\r\n\t\t\tthis.completeStepBtn.classList.remove('disabled');\r\n\t\t}\r\n\t\tif (this.resetBtn) this.resetBtn.style.display = 'none';\r\n\r\n\t\tthis.navItems.forEach((item) => {\r\n\t\t\tconst { el } = item;\r\n\t\t\titem.isSkip = false;\r\n\t\t\titem.isCompleted = false;\r\n\r\n\t\t\tthis.unsetCurrentNavItemActions(el);\r\n\t\t\tel.classList.remove('success', 'skipped');\r\n\t\t});\r\n\r\n\t\tthis.contentItems.forEach((item) => {\r\n\t\t\tconst { el } = item;\r\n\t\t\titem.isSkip = false;\r\n\t\t\titem.isCompleted = false;\r\n\r\n\t\t\tthis.unsetCurrentContentItemActions(el);\r\n\t\t\tel.classList.remove('success', 'skipped');\r\n\t\t});\r\n\r\n\t\tthis.currentIndex = 1;\r\n\r\n\t\tthis.setCurrentNavItem();\r\n\t\tthis.setCurrentContentItem();\r\n\t\tthis.showFinishButton();\r\n\t\tthis.showCompleteStepButton();\r\n\t\tthis.checkForTheFirstStep();\r\n\r\n\t\tthis.unsetCompleted();\r\n\t\tthis.isCompleted = false;\r\n\r\n\t\tthis.fireEvent('reset', this.currentIndex);\r\n\t\tdispatch('reset.hs.stepper', this.el, this.currentIndex);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic setProcessedNavItem(n?: number) {\r\n\t\tconst targetNavItem = this.getNavItem(n);\r\n\r\n\t\tif (!targetNavItem) return;\r\n\r\n\t\tthis.setProcessedNavItemActions(targetNavItem);\r\n\t}\r\n\r\n\tpublic unsetProcessedNavItem(n?: number) {\r\n\t\tconst targetNavItem = this.getNavItem(n);\r\n\r\n\t\tif (!targetNavItem) return;\r\n\r\n\t\tthis.unsetProcessedNavItemActions(targetNavItem);\r\n\t}\r\n\r\n\tpublic goToNext() {\r\n\t\tif (this.mode === 'linear') this.setCompleteItem();\r\n\r\n\t\tthis.handleNextButtonClick(this.mode !== 'linear');\r\n\r\n\t\tif (this.mode === 'linear' && this.currentIndex === this.totalSteps) {\r\n\t\t\tif (this.nextBtn) this.nextBtn.style.display = 'none';\r\n\t\t\tif (this.completeStepBtn) this.completeStepBtn.style.display = 'none';\r\n\t\t}\r\n\t}\r\n\r\n\tpublic disableButtons() {\r\n\t\tif (this.backBtn) this.setToDisabled(this.backBtn);\r\n\t\tif (this.nextBtn) this.setToDisabled(this.nextBtn);\r\n\t}\r\n\r\n\tpublic enableButtons() {\r\n\t\tif (this.backBtn) this.setToNonDisabled(this.backBtn);\r\n\t\tif (this.nextBtn) this.setToNonDisabled(this.nextBtn);\r\n\t}\r\n\r\n\tpublic setErrorNavItem(n?: number) {\r\n\t\tconst targetNavItem = this.getNavItem(n);\r\n\r\n\t\tif (!targetNavItem) return;\r\n\r\n\t\tthis.setErrorNavItemActions(targetNavItem);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsStepperCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsStepperCollection) window.$hsStepperCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-stepper]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsStepperCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSStepper(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSStepper: Function;\r\n\t\t$hsStepperCollection: ICollectionItem<HSStepper>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSStepper.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Stepper collection:', window.$hsStepperCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSStepper = HSStepper;\r\n}\r\n\r\nexport default HSStepper;\r\n", "/*\r\n * HSStrongPassword\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport {\r\n\tisEnoughSpace,\r\n\tdispatch,\r\n\thtmlToElement,\r\n\tclassToClassList,\r\n} from '../../utils';\r\n\r\nimport { IStrongPasswordOptions, IStrongPassword } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSStrongPassword\r\n\textends HSBasePlugin<IStrongPasswordOptions>\r\n\timplements IStrongPassword\r\n{\r\n\tprivate readonly target: string | HTMLInputElement | null;\r\n\tprivate readonly hints: string | HTMLElement | null;\r\n\tprivate readonly stripClasses: string | null;\r\n\tprivate readonly minLength: number;\r\n\tprivate readonly mode: string;\r\n\tprivate readonly popoverSpace: number;\r\n\tprivate readonly checksExclude: string[] | null;\r\n\tprivate readonly specialCharactersSet: string | null;\r\n\r\n\tpublic isOpened: boolean = false;\r\n\tprivate strength: number = 0;\r\n\tprivate passedRules: Set<string> = new Set<string>();\r\n\tprivate weakness: HTMLElement | null;\r\n\tprivate rules: HTMLElement[] | null;\r\n\tprivate availableChecks: string[] | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: IStrongPasswordOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-strong-password');\r\n\t\tconst dataOptions: IStrongPasswordOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.target = concatOptions?.target\r\n\t\t\t? typeof concatOptions?.target === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions.target) as HTMLInputElement)\r\n\t\t\t\t: concatOptions.target\r\n\t\t\t: null;\r\n\t\tthis.hints = concatOptions?.hints\r\n\t\t\t? typeof concatOptions?.hints === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions.hints) as HTMLElement)\r\n\t\t\t\t: concatOptions.hints\r\n\t\t\t: null;\r\n\t\tthis.stripClasses = concatOptions?.stripClasses || null;\r\n\t\tthis.minLength = concatOptions?.minLength || 6;\r\n\t\tthis.mode = concatOptions?.mode || 'default';\r\n\t\tthis.popoverSpace = concatOptions?.popoverSpace || 10;\r\n\t\tthis.checksExclude = concatOptions?.checksExclude || [];\r\n\t\tthis.availableChecks = [\r\n\t\t\t'lowercase',\r\n\t\t\t'uppercase',\r\n\t\t\t'numbers',\r\n\t\t\t'special-characters',\r\n\t\t\t'min-length',\r\n\t\t].filter((el) => !this.checksExclude.includes(el));\r\n\t\tthis.specialCharactersSet =\r\n\t\t\tconcatOptions?.specialCharactersSet ||\r\n\t\t\t'!\"#$%&\\'()*+,-./:;<=>?@[\\\\\\\\\\\\]^_`{|}~';\r\n\r\n\t\tif (this.target) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsStrongPasswordCollection, this);\r\n\r\n\t\tif (this.availableChecks.length) this.build();\r\n\t}\r\n\r\n\tprivate build() {\r\n\t\tthis.buildStrips();\r\n\t\tif (this.hints) this.buildHints();\r\n\r\n\t\tthis.setStrength((this.target as HTMLInputElement).value);\r\n\r\n\t\t(this.target as HTMLInputElement).addEventListener(\r\n\t\t\t'input',\r\n\t\t\t(evt: InputEvent) => {\r\n\t\t\t\tthis.setStrength((evt.target as HTMLInputElement).value);\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildStrips() {\r\n\t\tthis.el.innerHTML = '';\r\n\r\n\t\tif (this.stripClasses) {\r\n\t\t\tfor (let i = 0; i < this.availableChecks.length; i++) {\r\n\t\t\t\tconst newStrip = htmlToElement('<div></div>');\r\n\t\t\t\tclassToClassList(this.stripClasses, newStrip);\r\n\r\n\t\t\t\tthis.el.append(newStrip);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildHints() {\r\n\t\tthis.weakness =\r\n\t\t\t(this.hints as HTMLElement).querySelector(\r\n\t\t\t\t'[data-hs-strong-password-hints-weakness-text]',\r\n\t\t\t) || null;\r\n\t\tthis.rules =\r\n\t\t\tArray.from(\r\n\t\t\t\t(this.hints as HTMLElement).querySelectorAll(\r\n\t\t\t\t\t'[data-hs-strong-password-hints-rule-text]',\r\n\t\t\t\t),\r\n\t\t\t) || null;\r\n\r\n\t\tthis.rules.forEach((rule) => {\r\n\t\t\tconst ruleValue = rule.getAttribute(\r\n\t\t\t\t'data-hs-strong-password-hints-rule-text',\r\n\t\t\t);\r\n\r\n\t\t\tif (this.checksExclude?.includes(ruleValue)) rule.remove();\r\n\t\t});\r\n\r\n\t\tif (this.weakness) this.buildWeakness();\r\n\t\tif (this.rules) this.buildRules();\r\n\t\tif (this.mode === 'popover') {\r\n\t\t\t(this.target as HTMLInputElement).addEventListener('focus', () => {\r\n\t\t\t\tthis.isOpened = true;\r\n\t\t\t\t(this.hints as HTMLElement).classList.remove('hidden');\r\n\t\t\t\t(this.hints as HTMLElement).classList.add('block');\r\n\r\n\t\t\t\tthis.recalculateDirection();\r\n\t\t\t});\r\n\r\n\t\t\t(this.target as HTMLInputElement).addEventListener('blur', () => {\r\n\t\t\t\tthis.isOpened = false;\r\n\t\t\t\t(this.hints as HTMLElement).classList.remove(\r\n\t\t\t\t\t'block',\r\n\t\t\t\t\t'bottom-full',\r\n\t\t\t\t\t'top-full',\r\n\t\t\t\t);\r\n\t\t\t\t(this.hints as HTMLElement).classList.add('hidden');\r\n\t\t\t\t(this.hints as HTMLElement).style.marginTop = '';\r\n\t\t\t\t(this.hints as HTMLElement).style.marginBottom = '';\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate buildWeakness() {\r\n\t\tthis.checkStrength((this.target as HTMLInputElement).value);\r\n\t\tthis.setWeaknessText();\r\n\r\n\t\t(this.target as HTMLInputElement).addEventListener('input', () =>\r\n\t\t\tsetTimeout(() => this.setWeaknessText()),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate buildRules() {\r\n\t\tthis.setRulesText();\r\n\r\n\t\t(this.target as HTMLInputElement).addEventListener('input', () =>\r\n\t\t\tsetTimeout(() => this.setRulesText()),\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setWeaknessText() {\r\n\t\tconst weaknessText = this.weakness.getAttribute(\r\n\t\t\t'data-hs-strong-password-hints-weakness-text',\r\n\t\t);\r\n\t\tconst weaknessTextToJson = JSON.parse(weaknessText as string);\r\n\r\n\t\tthis.weakness.textContent = weaknessTextToJson[this.strength];\r\n\t}\r\n\r\n\tprivate setRulesText() {\r\n\t\tthis.rules.forEach((rule) => {\r\n\t\t\tconst ruleValue = rule.getAttribute(\r\n\t\t\t\t'data-hs-strong-password-hints-rule-text',\r\n\t\t\t);\r\n\r\n\t\t\tthis.checkIfPassed(rule, this.passedRules.has(ruleValue));\r\n\t\t});\r\n\t}\r\n\r\n\tprivate togglePopover() {\r\n\t\tconst popover = this.el.querySelector('.popover');\r\n\r\n\t\tif (popover) popover.classList.toggle('show');\r\n\t}\r\n\r\n\tprivate checkStrength(val: string): { strength: number; rules: Set<string> } {\r\n\t\tconst passedRules = new Set<string>();\r\n\t\tconst regexps = {\r\n\t\t\tlowercase: /[a-z]+/,\r\n\t\t\tuppercase: /[A-Z]+/,\r\n\t\t\tnumbers: /[0-9]+/,\r\n\t\t\t'special-characters': new RegExp(`[${this.specialCharactersSet}]`),\r\n\t\t};\r\n\t\tlet strength = 0;\r\n\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('lowercase') &&\r\n\t\t\tval.match(regexps['lowercase'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('lowercase');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('uppercase') &&\r\n\t\t\tval.match(regexps['uppercase'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('uppercase');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('numbers') &&\r\n\t\t\tval.match(regexps['numbers'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('numbers');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('special-characters') &&\r\n\t\t\tval.match(regexps['special-characters'])\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('special-characters');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tthis.availableChecks.includes('min-length') &&\r\n\t\t\tval.length >= this.minLength\r\n\t\t) {\r\n\t\t\tstrength += 1;\r\n\t\t\tpassedRules.add('min-length');\r\n\t\t}\r\n\t\tif (!val.length) {\r\n\t\t\tstrength = 0;\r\n\t\t}\r\n\r\n\t\tif (strength === this.availableChecks.length)\r\n\t\t\tthis.el.classList.add('accepted');\r\n\t\telse this.el.classList.remove('accepted');\r\n\r\n\t\tthis.strength = strength;\r\n\t\tthis.passedRules = passedRules;\r\n\r\n\t\treturn {\r\n\t\t\tstrength: this.strength,\r\n\t\t\trules: this.passedRules,\r\n\t\t};\r\n\t}\r\n\r\n\tprivate checkIfPassed(el: HTMLElement, isRulePassed = false) {\r\n\t\tconst check = el.querySelector('[data-check]');\r\n\t\tconst uncheck = el.querySelector('[data-uncheck]');\r\n\r\n\t\tif (isRulePassed) {\r\n\t\t\tel.classList.add('active');\r\n\t\t\tcheck.classList.remove('hidden');\r\n\t\t\tuncheck.classList.add('hidden');\r\n\t\t} else {\r\n\t\t\tel.classList.remove('active');\r\n\t\t\tcheck.classList.add('hidden');\r\n\t\t\tuncheck.classList.remove('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setStrength(val: string) {\r\n\t\tconst { strength, rules } = this.checkStrength(val);\r\n\t\tconst payload = {\r\n\t\t\tstrength,\r\n\t\t\trules,\r\n\t\t};\r\n\r\n\t\tthis.hideStrips(strength);\r\n\r\n\t\tthis.fireEvent('change', payload);\r\n\t\tdispatch('change.hs.strongPassword', this.el, payload);\r\n\t}\r\n\r\n\tprivate hideStrips(qty: number) {\r\n\t\tArray.from(this.el.children).forEach((el: HTMLElement, i: number) => {\r\n\t\t\tif (i < qty) el.classList.add('passed');\r\n\t\t\telse el.classList.remove('passed');\r\n\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic recalculateDirection() {\r\n\t\tif (\r\n\t\t\tisEnoughSpace(\r\n\t\t\t\tthis.hints as HTMLElement,\r\n\t\t\t\tthis.target as HTMLInputElement,\r\n\t\t\t\t'bottom',\r\n\t\t\t\tthis.popoverSpace,\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\t(this.hints as HTMLElement).classList.remove('bottom-full');\r\n\t\t\t(this.hints as HTMLElement).classList.add('top-full');\r\n\t\t\t(this.hints as HTMLElement).style.marginBottom = '';\r\n\t\t\t(this.hints as HTMLElement).style.marginTop = `${this.popoverSpace}px`;\r\n\t\t} else {\r\n\t\t\t(this.hints as HTMLElement).classList.remove('top-full');\r\n\t\t\t(this.hints as HTMLElement).classList.add('bottom-full');\r\n\t\t\t(this.hints as HTMLElement).style.marginTop = '';\r\n\t\t\t(this.hints as HTMLElement).style.marginBottom = `${this.popoverSpace}px`;\r\n\t\t}\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string) {\r\n\t\tconst elInCollection = window.$hsStrongPasswordCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection ? elInCollection.element : null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsStrongPasswordCollection)\r\n\t\t\twindow.$hsStrongPasswordCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-strong-password]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsStrongPasswordCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst data = el.getAttribute('data-hs-strong-password');\r\n\t\t\t\t\tconst options: IStrongPasswordOptions = data ? JSON.parse(data) : {};\r\n\r\n\t\t\t\t\tnew HSStrongPassword(el, options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSStrongPassword: Function;\r\n\t\t$hsStrongPasswordCollection: ICollectionItem<HSStrongPassword>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSStrongPassword.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Strong password collection:', window.$hsStrongPasswordCollection);\r\n});\r\n\r\ndocument.addEventListener('scroll', () => {\r\n\tif (!window.$hsStrongPasswordCollection) return false;\r\n\r\n\tconst target = window.$hsStrongPasswordCollection.find(\r\n\t\t(el) => el.element.isOpened,\r\n\t);\r\n\r\n\tif (target) target.element.recalculateDirection();\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSStrongPassword = HSStrongPassword;\r\n}\r\n\r\nexport default HSStrongPassword;\r\n", "/*\r\n * HSTabs\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { dispatch } from '../../utils';\r\n\r\nimport { ITabs } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { TABS_ACCESSIBILITY_KEY_SET } from '../../constants';\r\n\r\nclass HSTabs extends HSBasePlugin<{}> implements ITabs {\r\n\tpublic toggles: NodeListOf<HTMLElement> | null;\r\n\tprivate readonly extraToggleId: string | null;\r\n\tprivate readonly extraToggle: HTMLSelectElement | null;\r\n\tprivate current: HTMLElement | null;\r\n\tprivate currentContentId: string | null;\r\n\tpublic currentContent: HTMLElement | null;\r\n\tprivate prev: HTMLElement | null;\r\n\tprivate prevContentId: string | null;\r\n\tprivate prevContent: HTMLElement | null;\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tthis.toggles = this.el.querySelectorAll('[data-hs-tab]');\r\n\t\tthis.extraToggleId = this.el.getAttribute('hs-data-tab-select');\r\n\t\tthis.extraToggle = document.querySelector(this.extraToggleId);\r\n\t\tthis.current = Array.from(this.toggles).find((el) =>\r\n\t\t\tel.classList.contains('active'),\r\n\t\t);\r\n\t\tthis.currentContentId = this.current.getAttribute('data-hs-tab');\r\n\t\tthis.currentContent = document.querySelector(this.currentContentId);\r\n\t\tthis.prev = null;\r\n\t\tthis.prevContentId = null;\r\n\t\tthis.prevContent = null;\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTabsCollection, this);\r\n\r\n\t\tthis.toggles.forEach((el) => {\r\n\t\t\tel.addEventListener('click', () => this.open(el));\r\n\t\t});\r\n\r\n\t\tif (this.extraToggle) {\r\n\t\t\tthis.extraToggle.addEventListener('change', (evt) => this.change(evt));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate open(el: HTMLElement) {\r\n\t\tthis.prev = this.current;\r\n\t\tthis.prevContentId = this.currentContentId;\r\n\t\tthis.prevContent = this.currentContent;\r\n\r\n\t\tthis.current = el;\r\n\t\tthis.currentContentId = this.current.getAttribute('data-hs-tab');\r\n\t\tthis.currentContent = document.querySelector(this.currentContentId);\r\n\r\n\t\tthis.prev.classList.remove('active');\r\n\t\tthis.prevContent.classList.add('hidden');\r\n\r\n\t\tthis.current.classList.add('active');\r\n\t\tthis.currentContent.classList.remove('hidden');\r\n\r\n\t\tthis.fireEvent('change', {\r\n\t\t\tel,\r\n\t\t\tprev: this.prevContentId,\r\n\t\t\tcurrent: this.currentContentId,\r\n\t\t});\r\n\t\tdispatch('change.hs.tab', el, {\r\n\t\t\tel,\r\n\t\t\tprev: this.prevContentId,\r\n\t\t\tcurrent: this.currentContentId,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate change(evt: Event) {\r\n\t\tconst toggle: HTMLElement = document.querySelector(\r\n\t\t\t`[data-hs-tab=\"${(evt.target as HTMLSelectElement).value}\"]`,\r\n\t\t);\r\n\r\n\t\tif (toggle) toggle.click();\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsTabsCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTabsCollection) window.$hsTabsCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[role=\"tablist\"]:not(select):not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTabsCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSTabs(el);\r\n\t\t\t});\r\n\r\n\t\tif (window.$hsTabsCollection)\r\n\t\t\tdocument.addEventListener('keydown', (evt) => HSTabs.accessibility(evt));\r\n\t}\r\n\r\n\tstatic open(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsTabsCollection.find((el) =>\r\n\t\t\tArray.from(el.element.toggles).includes(\r\n\t\t\t\ttypeof target === 'string' ? document.querySelector(target) : target,\r\n\t\t\t),\r\n\t\t);\r\n\t\tconst targetInCollection = Array.from(elInCollection.element.toggles).find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (targetInCollection && !targetInCollection.classList.contains('active'))\r\n\t\t\telInCollection.element.open(targetInCollection);\r\n\t}\r\n\r\n\t// Accessibility methods\r\n\tstatic accessibility(evt: KeyboardEvent) {\r\n\t\tconst target = document.querySelector('[data-hs-tab]:focus');\r\n\r\n\t\tif (\r\n\t\t\ttarget &&\r\n\t\t\tTABS_ACCESSIBILITY_KEY_SET.includes(evt.code) &&\r\n\t\t\t!evt.metaKey\r\n\t\t) {\r\n\t\t\tconst isVertical = target\r\n\t\t\t\t.closest('[role=\"tablist\"]')\r\n\t\t\t\t.getAttribute('data-hs-tabs-vertical');\r\n\r\n\t\t\tevt.preventDefault();\r\n\r\n\t\t\tswitch (evt.code) {\r\n\t\t\t\tcase isVertical === 'true' ? 'ArrowUp' : 'ArrowLeft':\r\n\t\t\t\t\tthis.onArrow();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase isVertical === 'true' ? 'ArrowDown' : 'ArrowRight':\r\n\t\t\t\t\tthis.onArrow(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'Home':\r\n\t\t\t\t\tthis.onStartEnd();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'End':\r\n\t\t\t\t\tthis.onStartEnd(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onArrow(isOpposite = true) {\r\n\t\tconst target = document\r\n\t\t\t.querySelector('[data-hs-tab]:focus')\r\n\t\t\t.closest('[role=\"tablist\"]');\r\n\t\tconst targetInCollection = window.$hsTabsCollection.find(\r\n\t\t\t(el) => el.element.el === target,\r\n\t\t);\r\n\r\n\t\tif (targetInCollection) {\r\n\t\t\tconst toggles = isOpposite\r\n\t\t\t\t? Array.from(targetInCollection.element.toggles).reverse()\r\n\t\t\t\t: Array.from(targetInCollection.element.toggles);\r\n\t\t\tconst focused = toggles.find((el) => document.activeElement === el);\r\n\t\t\tlet focusedInd = toggles.findIndex((el: any) => el === focused);\r\n\t\t\tfocusedInd = focusedInd + 1 < toggles.length ? focusedInd + 1 : 0;\r\n\r\n\t\t\ttoggles[focusedInd].focus();\r\n\t\t\ttoggles[focusedInd].click();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onStartEnd(isOpposite = true) {\r\n\t\tconst target = document\r\n\t\t\t.querySelector('[data-hs-tab]:focus')\r\n\t\t\t.closest('[role=\"tablist\"]');\r\n\t\tconst targetInCollection = window.$hsTabsCollection.find(\r\n\t\t\t(el) => el.element.el === target,\r\n\t\t);\r\n\r\n\t\tif (targetInCollection) {\r\n\t\t\tconst toggles = isOpposite\r\n\t\t\t\t? Array.from(targetInCollection.element.toggles)\r\n\t\t\t\t: Array.from(targetInCollection.element.toggles).reverse();\r\n\r\n\t\t\tif (toggles.length) {\r\n\t\t\t\ttoggles[0].focus();\r\n\t\t\t\ttoggles[0].click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsTabsCollection.find((el) =>\r\n\t\t\tArray.from(el.element.toggles).includes(\r\n\t\t\t\ttypeof target === 'string' ? document.querySelector(target) : target,\r\n\t\t\t),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTabs: Function;\r\n\t\t$hsTabsCollection: ICollectionItem<HSTabs>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTabs.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Tabs collection:', window.$hsTabsCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTabs = HSTabs;\r\n}\r\n\r\nexport default HSTabs;\r\n", "/*\r\n * HSThemeSwitch\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\nimport { IThemeSwitchOptions, IThemeSwitch } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSThemeSwitch\r\n\textends HSBasePlugin<IThemeSwitchOptions>\r\n\timplements IThemeSwitch\r\n{\r\n\tpublic theme: string;\r\n\tprivate readonly themeSet: string[];\r\n\r\n\tconstructor(el: HTMLElement, options?: IThemeSwitchOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-theme-switch');\r\n\t\tconst dataOptions: IThemeSwitchOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.theme =\r\n\t\t\tconcatOptions?.theme || localStorage.getItem('hs_theme') || 'default';\r\n\t\tthis.themeSet = ['light', 'dark', 'default'];\r\n\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsThemeSwitchCollection, this);\r\n\r\n\t\tif (this.theme !== 'default') this.setAppearance();\r\n\t}\r\n\r\n\tprivate setResetStyles() {\r\n\t\tconst style = document.createElement('style');\r\n\r\n\t\tstyle.innerText = `*{transition: unset !important;}`;\r\n\t\tstyle.setAttribute('data-hs-appearance-onload-styles', '');\r\n\r\n\t\tdocument.head.appendChild(style);\r\n\r\n\t\treturn style;\r\n\t}\r\n\r\n\tprivate addSystemThemeObserver() {\r\n\t\twindow\r\n\t\t\t.matchMedia('(prefers-color-scheme: dark)')\r\n\t\t\t.addEventListener('change', ({ matches }) => {\r\n\t\t\t\tif (matches) this.setAppearance('dark', false);\r\n\t\t\t\telse this.setAppearance('default', false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate removeSystemThemeObserver() {\r\n\t\twindow.matchMedia('(prefers-color-scheme: dark)').removeEventListener;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic setAppearance(\r\n\t\ttheme = this.theme,\r\n\t\tisSaveToLocalStorage = true,\r\n\t\tisSetDispatchEvent = true,\r\n\t) {\r\n\t\tconst html = document.querySelector('html');\r\n\t\tconst resetStyles = this.setResetStyles();\r\n\r\n\t\tif (isSaveToLocalStorage) localStorage.setItem('hs_theme', theme);\r\n\t\tif (theme === 'auto')\r\n\t\t\ttheme = window.matchMedia('(prefers-color-scheme: dark)').matches\r\n\t\t\t\t? 'dark'\r\n\t\t\t\t: 'default';\r\n\r\n\t\thtml.classList.remove('light', 'dark', 'default', 'auto');\r\n\t\thtml.classList.add(theme);\r\n\r\n\t\tsetTimeout(() => resetStyles.remove());\r\n\r\n\t\tif (isSetDispatchEvent)\r\n\t\t\twindow.dispatchEvent(\r\n\t\t\t\tnew CustomEvent('on-hs-appearance-change', { detail: theme }),\r\n\t\t\t);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string) {\r\n\t\tconst elInCollection = window.$hsThemeSwitchCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection ? elInCollection.element : null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsThemeSwitchCollection) window.$hsThemeSwitchCollection = [];\r\n\r\n\t\tconst toggleObserveSystemTheme = (el: HSThemeSwitch) => {\r\n\t\t\tif (localStorage.getItem('hs_theme') === 'auto')\r\n\t\t\t\tel.addSystemThemeObserver();\r\n\t\t\telse el.removeSystemThemeObserver();\r\n\t\t};\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-theme-switch]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsThemeSwitchCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tconst switchTheme = new HSThemeSwitch(el);\r\n\t\t\t\t\t(switchTheme.el as HTMLInputElement).checked =\r\n\t\t\t\t\t\tswitchTheme.theme === 'dark';\r\n\r\n\t\t\t\t\ttoggleObserveSystemTheme(switchTheme);\r\n\r\n\t\t\t\t\tswitchTheme.el.addEventListener('change', (evt) => {\r\n\t\t\t\t\t\tconst theme = (evt.target as HTMLInputElement).checked\r\n\t\t\t\t\t\t\t? 'dark'\r\n\t\t\t\t\t\t\t: 'default';\r\n\t\t\t\t\t\tswitchTheme.setAppearance(theme);\r\n\r\n\t\t\t\t\t\ttoggleObserveSystemTheme(switchTheme);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-theme-click-value]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tconst theme = el.getAttribute('data-hs-theme-click-value');\r\n\t\t\t\tconst switchTheme = new HSThemeSwitch(el);\r\n\r\n\t\t\t\ttoggleObserveSystemTheme(switchTheme);\r\n\r\n\t\t\t\tswitchTheme.el.addEventListener('click', () => {\r\n\t\t\t\t\tswitchTheme.setAppearance(theme);\r\n\r\n\t\t\t\t\ttoggleObserveSystemTheme(switchTheme);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSThemeSwitch: Function;\r\n\t\t$hsThemeSwitchCollection: ICollectionItem<HSThemeSwitch>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSThemeSwitch.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Theme switch collection:', window.$hsThemeSwitchCollection);\r\n});\r\n\r\nif (window.$hsThemeSwitchCollection) {\r\n\twindow.addEventListener(\r\n\t\t'on-hs-appearance-change',\r\n\t\t(evt: Event & { detail: string }) => {\r\n\t\t\twindow.$hsThemeSwitchCollection.forEach((el) => {\r\n\t\t\t\t(el.element.el as HTMLInputElement).checked = evt.detail === 'dark';\r\n\t\t\t});\r\n\t\t},\r\n\t);\r\n}\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSThemeSwitch = HSThemeSwitch;\r\n}\r\n\r\nexport default HSThemeSwitch;\r\n", "/*\r\n * HSToggleCount\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { IToggleCountOptions, IToggleCount } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSToggleCount\r\n\textends HSBasePlugin<IToggleCountOptions>\r\n\timplements IToggleCount\r\n{\r\n\tprivate readonly target: HTMLInputElement | null;\r\n\tprivate readonly min: number | null;\r\n\tprivate readonly max: number | null;\r\n\tprivate readonly duration: number | null;\r\n\tprivate isChecked: boolean;\r\n\r\n\tconstructor(el: HTMLElement, options?: IToggleCountOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-toggle-count');\r\n\t\tconst dataOptions: IToggleCountOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\r\n\t\tthis.target = concatOptions?.target\r\n\t\t\t? typeof concatOptions?.target === 'string'\r\n\t\t\t\t? (document.querySelector(concatOptions.target) as HTMLInputElement)\r\n\t\t\t\t: concatOptions.target\r\n\t\t\t: null;\r\n\t\tthis.min = concatOptions?.min || 0;\r\n\t\tthis.max = concatOptions?.max || 0;\r\n\t\tthis.duration = concatOptions?.duration || 700;\r\n\r\n\t\tthis.isChecked = (this.target as HTMLInputElement).checked || false;\r\n\r\n\t\tif (this.target) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsToggleCountCollection, this);\r\n\r\n\t\tif (this.isChecked) this.el.innerText = String(this.max);\r\n\r\n\t\tthis.target.addEventListener('change', () => {\r\n\t\t\tthis.isChecked = !this.isChecked;\r\n\r\n\t\t\tthis.toggle();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate toggle() {\r\n\t\tif (this.isChecked) this.countUp();\r\n\t\telse this.countDown();\r\n\t}\r\n\r\n\tprivate animate(from: number, to: number) {\r\n\t\tlet startTimestamp = 0;\r\n\r\n\t\tconst step = (timestamp: number) => {\r\n\t\t\tif (!startTimestamp) startTimestamp = timestamp;\r\n\t\t\tconst progress = Math.min(\r\n\t\t\t\t(timestamp - startTimestamp) / this.duration,\r\n\t\t\t\t1,\r\n\t\t\t);\r\n\r\n\t\t\tthis.el.innerText = String(Math.floor(progress * (to - from) + from));\r\n\r\n\t\t\tif (progress < 1) window.requestAnimationFrame(step);\r\n\t\t};\r\n\r\n\t\twindow.requestAnimationFrame(step);\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic countUp() {\r\n\t\tthis.animate(this.min, this.max);\r\n\t}\r\n\r\n\tpublic countDown() {\r\n\t\tthis.animate(this.max, this.min);\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsToggleCountCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsToggleCountCollection) window.$hsToggleCountCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll('[data-hs-toggle-count]:not(.--prevent-on-load-init)')\r\n\t\t\t.forEach((el: HTMLElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsToggleCountCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSToggleCount(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSToggleCount: Function;\r\n\t\t$hsToggleCountCollection: ICollectionItem<HSToggleCount>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSToggleCount.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Toggle count collection:', window.$hsToggleCountCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSToggleCount = HSToggleCount;\r\n}\r\n\r\nexport default HSToggleCount;\r\n", "/*\r\n * HSTogglePassword\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { isFormElement, dispatch } from '../../utils';\r\n\r\nimport { ITogglePasswordOptions, ITogglePassword } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nclass HSTogglePassword\r\n\textends HSBasePlugin<ITogglePasswordOptions>\r\n\timplements ITogglePassword\r\n{\r\n\tprivate readonly target:\r\n\t\t| string\r\n\t\t| string[]\r\n\t\t| HTMLInputElement\r\n\t\t| HTMLInputElement[]\r\n\t\t| null;\r\n\tprivate isShown: boolean;\r\n\tprivate isMultiple: boolean;\r\n\tprivate eventType: string;\r\n\r\n\tconstructor(el: HTMLElement, options?: ITogglePasswordOptions) {\r\n\t\tsuper(el, options);\r\n\r\n\t\tconst data = el.getAttribute('data-hs-toggle-password');\r\n\t\tconst dataOptions: ITogglePasswordOptions = data ? JSON.parse(data) : {};\r\n\t\tconst concatOptions = {\r\n\t\t\t...dataOptions,\r\n\t\t\t...options,\r\n\t\t};\r\n\t\tconst targets: HTMLInputElement[] = [];\r\n\t\tif (concatOptions?.target && typeof concatOptions?.target === 'string') {\r\n\t\t\tconst ids = concatOptions?.target.split(',');\r\n\t\t\tids.forEach((id) => {\r\n\t\t\t\ttargets.push(document.querySelector(id) as HTMLInputElement);\r\n\t\t\t});\r\n\t\t} else if (\r\n\t\t\tconcatOptions?.target &&\r\n\t\t\ttypeof concatOptions?.target === 'object'\r\n\t\t) {\r\n\t\t\t(concatOptions.target as string[]).forEach((el) =>\r\n\t\t\t\ttargets.push(document.querySelector(el)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t(concatOptions.target as HTMLInputElement[]).forEach((el) =>\r\n\t\t\t\ttargets.push(el),\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tthis.target = targets;\r\n\t\tthis.isShown = this.el.hasAttribute('type')\r\n\t\t\t? (this.el as HTMLInputElement).checked\r\n\t\t\t: false;\r\n\t\tthis.eventType = isFormElement(this.el) ? 'change' : 'click';\r\n\t\tthis.isMultiple =\r\n\t\t\tthis.target.length > 1 &&\r\n\t\t\t!!this.el.closest('[data-hs-toggle-password-group]');\r\n\r\n\t\tif (this.target) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTogglePasswordCollection, this);\r\n\r\n\t\tif (!this.isShown) {\r\n\t\t\tthis.hide();\r\n\t\t} else {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\r\n\t\tthis.el.addEventListener(this.eventType, () => {\r\n\t\t\tif (this.isShown) {\r\n\t\t\t\tthis.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.show();\r\n\t\t\t}\r\n\r\n\t\t\tthis.fireEvent('toggle', this.target);\r\n\t\t\tdispatch('toggle.hs.toggle-select', this.el, this.target);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate getMultipleToggles(): HSTogglePassword[] {\r\n\t\tconst group = this.el.closest('[data-hs-toggle-password-group]');\r\n\t\tconst toggles = group.querySelectorAll('[data-hs-toggle-password]');\r\n\t\tconst togglesInCollection: HSTogglePassword[] = [];\r\n\r\n\t\ttoggles.forEach((el: HTMLElement) => {\r\n\t\t\ttogglesInCollection.push(\r\n\t\t\t\tHSTogglePassword.getInstance(el) as HSTogglePassword,\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn togglesInCollection;\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst toggles = this.getMultipleToggles();\r\n\r\n\t\t\ttoggles.forEach((el: HSTogglePassword) =>\r\n\t\t\t\tel ? (el.isShown = true) : false,\r\n\t\t\t);\r\n\r\n\t\t\tthis.el\r\n\t\t\t\t.closest('[data-hs-toggle-password-group]')\r\n\t\t\t\t.classList.add('active');\r\n\t\t} else {\r\n\t\t\tthis.isShown = true;\r\n\r\n\t\t\tthis.el.classList.add('active');\r\n\t\t}\r\n\t\t(this.target as HTMLInputElement[]).forEach((el) => {\r\n\t\t\t(el as HTMLInputElement).type = 'text';\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst toggles = this.getMultipleToggles();\r\n\r\n\t\t\ttoggles.forEach((el: HSTogglePassword) =>\r\n\t\t\t\tel ? (el.isShown = false) : false,\r\n\t\t\t);\r\n\r\n\t\t\tthis.el\r\n\t\t\t\t.closest('[data-hs-toggle-password-group]')\r\n\t\t\t\t.classList.remove('active');\r\n\t\t} else {\r\n\t\t\tthis.isShown = false;\r\n\r\n\t\t\tthis.el.classList.remove('active');\r\n\t\t}\r\n\t\t(this.target as HTMLInputElement[]).forEach((el) => {\r\n\t\t\t(el as HTMLInputElement).type = 'password';\r\n\t\t});\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance?: boolean) {\r\n\t\tconst elInCollection = window.$hsTogglePasswordCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTogglePasswordCollection)\r\n\t\t\twindow.$hsTogglePasswordCollection = [];\r\n\r\n\t\tdocument\r\n\t\t\t.querySelectorAll(\r\n\t\t\t\t'[data-hs-toggle-password]:not(.--prevent-on-load-init)',\r\n\t\t\t)\r\n\t\t\t.forEach((el: HTMLInputElement) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!window.$hsTogglePasswordCollection.find(\r\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t\tnew HSTogglePassword(el);\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTogglePassword: Function;\r\n\t\t$hsTogglePasswordCollection: ICollectionItem<HSTogglePassword>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTogglePassword.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Toggle password collection:', window.$hsTogglePasswordCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTogglePassword = HSTogglePassword;\r\n}\r\n\r\nexport default HSTogglePassword;\r\n", "/*\r\n * HSTooltip\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { createPopper, PositioningStrategy, Instance } from '@popperjs/core';\r\nimport { getClassProperty, dispatch, afterTransition } from '../../utils';\r\n\r\nimport { ITooltip } from './interfaces';\r\n\r\nimport HSBasePlugin from '../base-plugin';\r\nimport { ICollectionItem } from '../../interfaces';\r\n\r\nimport { POSITIONS } from '../../constants';\r\n\r\nclass HSTooltip extends HSBasePlugin<{}> implements ITooltip {\r\n\tprivate readonly toggle: HTMLElement | null;\r\n\tpublic content: HTMLElement | null;\r\n\treadonly eventMode: string;\r\n\tprivate readonly preventPopper: string;\r\n\tprivate popperInstance: Instance;\r\n\tprivate readonly placement: string;\r\n\tprivate readonly strategy: PositioningStrategy;\r\n\r\n\tconstructor(el: HTMLElement, options?: {}, events?: {}) {\r\n\t\tsuper(el, options, events);\r\n\r\n\t\tif (this.el) {\r\n\t\t\tthis.toggle = this.el.querySelector('.hs-tooltip-toggle') || this.el;\r\n\t\t\tthis.content = this.el.querySelector('.hs-tooltip-content');\r\n\t\t\tthis.eventMode = getClassProperty(this.el, '--trigger') || 'hover';\r\n\t\t\tthis.preventPopper = getClassProperty(\r\n\t\t\t\tthis.el,\r\n\t\t\t\t'--prevent-popper',\r\n\t\t\t\t'false',\r\n\t\t\t);\r\n\t\t\tthis.placement = getClassProperty(this.el, '--placement');\r\n\t\t\tthis.strategy = getClassProperty(\r\n\t\t\t\tthis.el,\r\n\t\t\t\t'--strategy',\r\n\t\t\t) as PositioningStrategy;\r\n\t\t}\r\n\r\n\t\tif (this.el && this.toggle && this.content) this.init();\r\n\t}\r\n\r\n\tprivate init() {\r\n\t\tthis.createCollection(window.$hsTooltipCollection, this);\r\n\r\n\t\tif (this.eventMode === 'click') {\r\n\t\t\tthis.toggle.addEventListener('click', () => this.click());\r\n\t\t} else if (this.eventMode === 'focus') {\r\n\t\t\tthis.toggle.addEventListener('click', () => this.focus());\r\n\t\t} else if (this.eventMode === 'hover') {\r\n\t\t\tthis.toggle.addEventListener('mouseenter', () => this.enter());\r\n\t\t\tthis.toggle.addEventListener('mouseleave', () => this.leave());\r\n\t\t}\r\n\r\n\t\tif (this.preventPopper === 'false') this.buildPopper();\r\n\t}\r\n\r\n\tprivate enter() {\r\n\t\tthis.show();\r\n\t}\r\n\r\n\tprivate leave() {\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\tprivate click() {\r\n\t\tif (this.el.classList.contains('show')) return false;\r\n\r\n\t\tthis.show();\r\n\r\n\t\tconst handle = () => {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.hide();\r\n\r\n\t\t\t\tthis.toggle.removeEventListener('click', handle, true);\r\n\t\t\t\tthis.toggle.removeEventListener('blur', handle, true);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tthis.toggle.addEventListener('click', handle, true);\r\n\t\tthis.toggle.addEventListener('blur', handle, true);\r\n\t}\r\n\r\n\tprivate focus() {\r\n\t\tthis.show();\r\n\r\n\t\tconst handle = () => {\r\n\t\t\tthis.hide();\r\n\r\n\t\t\tthis.toggle.removeEventListener('blur', handle, true);\r\n\t\t};\r\n\r\n\t\tthis.toggle.addEventListener('blur', handle, true);\r\n\t}\r\n\r\n\tprivate buildPopper() {\r\n\t\tthis.popperInstance = createPopper(this.toggle, this.content, {\r\n\t\t\tplacement: POSITIONS[this.placement] || 'top',\r\n\t\t\tstrategy: this.strategy || 'fixed',\r\n\t\t\tmodifiers: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'offset',\r\n\t\t\t\t\toptions: {\r\n\t\t\t\t\t\toffset: [0, 5],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t});\r\n\t}\r\n\r\n\t// Public methods\r\n\tpublic show() {\r\n\t\tthis.content.classList.remove('hidden');\r\n\r\n\t\tif (this.preventPopper === 'false') {\r\n\t\t\tthis.popperInstance.setOptions((options) => ({\r\n\t\t\t\t...options,\r\n\t\t\t\tmodifiers: [\r\n\t\t\t\t\t...options.modifiers,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'eventListeners',\r\n\t\t\t\t\t\tenabled: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}));\r\n\r\n\t\t\tthis.popperInstance.update();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.el.classList.add('show');\r\n\r\n\t\t\tthis.fireEvent('show', this.el);\r\n\t\t\tdispatch('show.hs.tooltip', this.el, this.el);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic hide() {\r\n\t\tthis.el.classList.remove('show');\r\n\r\n\t\tif (this.preventPopper === 'false') {\r\n\t\t\tthis.popperInstance.setOptions((options) => ({\r\n\t\t\t\t...options,\r\n\t\t\t\tmodifiers: [\r\n\t\t\t\t\t...options.modifiers,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: 'eventListeners',\r\n\t\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}));\r\n\t\t}\r\n\r\n\t\tthis.fireEvent('hide', this.el);\r\n\t\tdispatch('hide.hs.tooltip', this.el, this.el);\r\n\r\n\t\tafterTransition(this.content, () => {\r\n\t\t\tif (this.el.classList.contains('show')) return false;\r\n\r\n\t\t\tthis.content.classList.add('hidden');\r\n\t\t});\r\n\t}\r\n\r\n\t// Static methods\r\n\tstatic getInstance(target: HTMLElement | string, isInstance = false) {\r\n\t\tconst elInCollection = window.$hsTooltipCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\treturn elInCollection\r\n\t\t\t? isInstance\r\n\t\t\t\t? elInCollection\r\n\t\t\t\t: elInCollection.element.el\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tstatic autoInit() {\r\n\t\tif (!window.$hsTooltipCollection) window.$hsTooltipCollection = [];\r\n\r\n\t\tdocument.querySelectorAll('.hs-tooltip').forEach((el: HTMLElement) => {\r\n\t\t\tif (\r\n\t\t\t\t!window.$hsTooltipCollection.find(\r\n\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\tnew HSTooltip(el);\r\n\t\t});\r\n\t}\r\n\r\n\tstatic show(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsTooltipCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) {\r\n\t\t\tswitch (elInCollection.element.eventMode) {\r\n\t\t\t\tcase 'click':\r\n\t\t\t\t\telInCollection.element.click();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'focus':\r\n\t\t\t\t\telInCollection.element.focus();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\telInCollection.element.enter();\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic hide(target: HTMLElement) {\r\n\t\tconst elInCollection = window.$hsTooltipCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.hide();\r\n\t}\r\n\r\n\t// Backward compatibility\r\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\r\n\t\tconst elInCollection = window.$hsTooltipCollection.find(\r\n\t\t\t(el) =>\r\n\t\t\t\tel.element.el ===\r\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\r\n\t\t);\r\n\r\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\r\n\t}\r\n}\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSTooltip: Function;\r\n\t\t$hsTooltipCollection: ICollectionItem<HSTooltip>[];\r\n\t}\r\n}\r\n\r\nwindow.addEventListener('load', () => {\r\n\tHSTooltip.autoInit();\r\n\r\n\t// Uncomment for debug\r\n\t// console.log('Tooltip collection:', window.$hsTooltipCollection);\r\n});\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSTooltip = HSTooltip;\r\n}\r\n\r\nexport default HSTooltip;\r\n", "import { ISpaCollectionItem } from './interfaces';\r\n\r\nimport HSCopyMarkup from '../plugins/copy-markup';\r\nimport HSAccordion from '../plugins/accordion';\r\nimport HSCarousel from '../plugins/carousel';\r\nimport HSCollapse from '../plugins/collapse';\r\nimport HSComboBox from '../plugins/combobox';\r\nimport HSDropdown from '../plugins/dropdown';\r\nimport HSInputNumber from '../plugins/input-number';\r\nimport HSOverlay from '../plugins/overlay';\r\nimport HSPinInput from '../plugins/pin-input';\r\nimport HSRemoveElement from '../plugins/remove-element';\r\nimport HSScrollspy from '../plugins/scrollspy';\r\nimport HSSelect from '../plugins/select';\r\nimport HSStepper from '../plugins/stepper';\r\nimport HSStrongPassword from '../plugins/strong-password';\r\nimport HSTabs from '../plugins/tabs';\r\nimport HSToggleCount from '../plugins/toggle-count';\r\nimport HSTogglePassword from '../plugins/toggle-password';\r\nimport HSTooltip from '../plugins/tooltip';\r\n\r\nexport const COLLECTIONS: ISpaCollectionItem[] = [\r\n\t{ key: 'copy-markup', fn: HSCopyMarkup },\r\n\t{ key: 'accordion', fn: HSAccordion },\r\n\t{ key: 'carousel', fn: HSCarousel },\r\n\t{ key: 'collapse', fn: HSCollapse },\r\n\t{ key: 'combobox', fn: HSComboBox },\r\n\t{ key: 'dropdown', fn: HSDropdown },\r\n\t{ key: 'input-number', fn: HSInputNumber },\r\n\t{ key: 'overlay', fn: HSOverlay },\r\n\t{ key: 'pin-input', fn: HSPinInput },\r\n\t{ key: 'remove-element', fn: HSRemoveElement },\r\n\t{ key: 'scrollspy', fn: HSScrollspy },\r\n\t{ key: 'select', fn: HSSelect },\r\n\t{ key: 'stepper', fn: HSStepper },\r\n\t{ key: 'strong-password', fn: HSStrongPassword },\r\n\t{ key: 'tabs', fn: HSTabs },\r\n\t{ key: 'toggle-count', fn: HSToggleCount },\r\n\t{ key: 'toggle-password', fn: HSTogglePassword },\r\n\t{ key: 'tooltip', fn: HSTooltip },\r\n];\r\n", "/*\r\n * HSStaticMethods\r\n * @version: 2.1.0\r\n * @author: HTMLStream\r\n * @license: Licensed under MIT (https://preline.co/docs/license.html)\r\n * Copyright 2023 HTMLStream\r\n */\r\n\r\nimport { getClassProperty, afterTransition } from '../utils';\r\nimport { COLLECTIONS } from '../spa';\r\nimport { IStaticMethods } from './interfaces';\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tHSStaticMethods: IStaticMethods;\r\n\t}\r\n}\r\n\r\nconst HSStaticMethods: IStaticMethods = {\r\n\tgetClassProperty,\r\n\tafterTransition,\r\n\tautoInit(collection: string | string[] = 'all') {\r\n\t\tif (collection === 'all') {\r\n\t\t\tCOLLECTIONS.forEach(({ fn }) => {\r\n\t\t\t\tfn?.autoInit();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tCOLLECTIONS.forEach(({ key, fn }) => {\r\n\t\t\t\tif (collection.includes(key)) fn?.autoInit();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n};\r\n\r\nif (typeof window !== 'undefined') {\r\n\twindow.HSStaticMethods = HSStaticMethods;\r\n}\r\n\r\nexport default HSStaticMethods;\r\n"],
  "mappings": "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",
  "names": ["start", "end", "el", "items", "name", "style", "window", "min", "max", "toPaddingObject", "popperOffsets", "min", "max", "offset", "effect", "popper", "effect", "window", "hash", "clippingParents", "reference", "popperOffsets", "offset", "placements", "placement", "placements", "placement", "_loop", "_i", "checks", "offset", "popperOffsets", "offset", "min", "max", "debounce", "fn", "merged", "defaultModifiers", "createPopper", "reference", "popper", "options", "fn", "debounce", "state", "effect", "noopFn", "createPopper", "defaultModifiers", "createPopper", "flip", "offset", "createPopper", "template", "el", "el", "el", "createPopper", "fn"]
}
