import{_ as g}from"./Authenticated-68529a5f.js";import{o as n,c as a,a as o,u as i,d as e,t as p,w as l,F as _,b as h,H as f,n as d,q as v,e as b,g as w}from"./app-36364665.js";import{B as x}from"./Button-6d5538f3.js";import{s as c}from"./simplebar.min-083fb612.js";import{h as y}from"./moment-a9aaa855.js";import"./XIcon-435dee85.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./transition-97f663d9.js";import"./keyboard-6cd9e820.js";import"./use-resolve-button-type-3c34a596.js";import"./menu-b4cda8d6.js";const k={class:"fixed w-full flex justify-center top-[4rem] md:top-[10rem] font-extrabold bg-white border border-gray-300 py-3 z-20"},$={class:"max-w-xl mx-auto border shadow bg-white rounded-lg px-4 mt-14"},C={class:"flex justify-evenly sm:justify-center space-x-8 md:space-x-10 pt-3 pb-4 font-medium"},B=e("img",{src:"/images/parents/stories.png",class:"w-10 h-10",alt:""},null,-1),R=e("span",{class:"text-sm"},"Stories",-1),P=[B,R],j=e("img",{src:"/images/parents/progress_report.png",class:"w-10 h-10",alt:""},null,-1),V=e("span",{class:"text-sm"},"Progress Report",-1),z=[j,V],M=e("img",{src:"/images/parents/fee_invoice.png",class:"w-10 h-10",alt:""},null,-1),N=e("span",{class:"text-sm"},"Invoices",-1),F=[M,N],H={class:"max-w-xl mx-auto mt-10"},L={key:0,class:"flex items-center space-y-3"},U=e("h2",{class:"text-lg md:text-xl mx-1 font-extrabold"},"Progress Reports",-1),D=[U],E={class:"mt-3"},O={class:"bg-white shadow rounded-lg border"},S={class:"divide-y divide-slate-200 dark:divide-zink-500 px-6 py-4"},T={class:"flex items-center gap-3 py-2 first:pt-0 last:pb-0"},q={class:"grow"},G={class:"font-medium"},I={class:"shrink-0"},Y={components:{simplebar:c},data(){return{generate:{id:"",running:!1}}},methods:{showProgressReport(m,s){this.generate.running||(this.generate.running=!0,h.get(route("progress_report.full_reports"),{responseType:"blob",params:{progress_report_id:m,student_fee:s}}).then(t=>{const r=new Blob([t.data],{type:"application/pdf"}),u=URL.createObjectURL(r);window.open(u,"_blank"),this.generate.running=!1}).catch(t=>{console.error("Error fetching PDF:",t),this.generate.running=!1}))}}},ne=Object.assign(Y,{__name:"ProgressReports",setup(m){return(s,t)=>(n(),a(_,null,[o(i(f),{title:"Home"}),e("div",k,[e("span",null,p(s.$page.props.session_data.current_active_programme.name),1)]),o(g,null,{default:l(()=>[e("div",$,[o(i(c),{"data-simplebar-auto-hide":"true"},{default:l(()=>[e("div",C,[e("div",{class:d(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.stories")?"font-extrabold":""]),onClick:t[0]||(t[0]=r=>s.$inertia.get(s.route("parent.stories",s.$page.props.session_data.current_active_programme.encrypted_id)))},P,2),e("div",{class:d(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.progress_reports")?"font-extrabold":""]),onClick:t[1]||(t[1]=r=>s.$inertia.get(s.route("parent.progress_reports")))},z,2),e("div",{class:d(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.invoices")?"font-extrabold":""]),onClick:t[2]||(t[2]=r=>s.$inertia.get(s.route("parent.invoices")))},F,2)])]),_:1})]),e("div",H,[s.$page.props.progress_reports?(n(),a("div",L,D)):v("",!0),e("div",E,[e("div",O,[o(i(c),{"data-simplebar-auto-hide":"true",class:"max-h-screen"},{default:l(()=>[e("ul",S,[(n(!0),a(_,null,b(s.$page.props.progress_reports,(r,u)=>(n(),a("li",T,[e("div",q,[e("h6",G,p(i(y)(r.month).format("MMMM Y")),1)]),e("div",I,[o(x,{class:"py-1 px-4",onClick:A=>s.showProgressReport(r.id,r.student_fee_id)},{default:l(()=>[w(p(s.generate.id==r.id&&s.generate.running?"Generating...":"View"),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1})])])])]),_:1})],64))}});export{ne as default};
