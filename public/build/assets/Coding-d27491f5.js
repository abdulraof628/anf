import{c as n,b as d,u,w as i,F as h,H as j,L as V,ad as w,o as a,d as e,e as $,j as v,h as f,t as m,n as k,k as _,C as M,f as S,y as O,l as T,g as B}from"./app-d43ace84.js";import{B as U}from"./Authenticated-86ad341a.js";import{B as x}from"./Button-59a3957d.js";import L from"./StudentInformation-3c65b96d.js";import{Z as D}from"./main-085c5632.js";import{M as P}from"./Modal-02bc15c8.js";import{h as z}from"./default.css_vue_type_style_index_0_src_true_lang-dbfe2aa6.js";import{s as y}from"./multiselect-e3235bdf.js";/* empty css                                                         *//* empty css            */import"./ApplicationLogo-85a4f4bf.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./VueFinalModal.esm-6955c083.js";const R={class:"md:grid md:grid-cols-2"},A={class:"md:mt-0 md:col-span-2"},N={class:"px-4 py-5 bg-indigo-50 space-y-6 sm:p-6"},H={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},I={class:"sm:row-span-3"},F={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},E={class:"sm:row-span-3"},Y={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},Z=e("div",{class:"mb-5"},[e("h1",{class:"font-bold text-indigo-800 self-end"},"Progress Report Listing"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),J={class:"mb-4"},q={class:"overflow-x-auto"},G={class:"table-auto min-w-full divide-y divide-gray-200"},K=e("thead",{class:"bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Date"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Action")])],-1),Q={class:"bg-white divide-y divide-gray-200"},W={key:0},X=e("td",{class:"text-center",colspan:"10"},[e("div",{class:"p-3"}," No Record Found! ")],-1),ee=[X],te={class:"px-4 py-2 whitespace-nowrap"},oe={class:"text-sm font-medium text-gray-700"},se={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},re={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},ne=e("h3",{class:"text-gray-900 text-xl font-semibold"}," Update Progress Report ",-1),ae={class:"p-6 overflow-y-auto no-scrollbar"},de={class:"grid grid-rows-1"},ie={class:"grid grid-cols-2 gap-4"},le={class:"mb-3"},ce=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Date ",-1),pe={class:"mt-1 flex rounded-md.shadow-sm"},ue=e("div",{class:"grid grid-cols-1"},[e("hr",{class:"my-4"})],-1),me={class:"grid grid-cols-4 gap-4"},ge={class:"mb-3"},he=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Term / Book ",-1),be={class:"mt-1 flex rounded-md.shadow-sm"},fe={class:"mb-3"},_e=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Unit ",-1),xe={class:"mt-1 flex rounded-md.shadow-sm"},ye={class:"mb-3"},we=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Lesson ",-1),ve={class:"mt-1 flex rounded-md.shadow-sm"},ke={class:"flex self-end"},Se={class:"mb-3"},Ce=e("label",{for:"",class:"block text-sm font-bold text-gray-700"},null,-1),je={class:"mt-1 flex rounded-md.shadow-sm"},De={class:"grid grid-cols-1 py-3"},Pe=e("div",{class:"mb-3"},[e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Objectives ")],-1),Ve={key:0,class:"grid grid-cols-1 py-3"},$e={key:0,class:"flex justify-center py-4 items-center space-x-2"},Me=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",class:"bi bi-arrow-repeat animate-spin",viewBox:"0 0 16 16"},[e("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),e("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1),Oe=e("span",null,"Loading...",-1),Te=[Me,Oe],Be={key:1,class:"grid grid-cols-1 divide-y divide-neutral-200 border-x border-t border-b mb-3"},Ue={key:0,class:"p-3 bg-gray-50"},Le={class:"p-5 bg-gray-50 hover:bg-gray-100"},ze={class:"group space-y-4"},Re={class:"flex justify-between items-center font-medium cursor-pointer list-none"},Ae={class:"ml-2 text-sm"},Ne={class:"flex space-x-4"},He={for:"helper-checkbox",class:"font-medium text-gray-900"},Ie=["onClick"],Fe={id:"helper-checkbox-text",class:"text-xs font-normal text-gray-500"},Ee=e("span",{class:"transition group-open:rotate-180"},[e("svg",{fill:"none",height:"24","shape-rendering":"geometricPrecision",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",width:"24"},[e("path",{d:"M6 9l6 6 6-6"})])],-1),Ye={class:"text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg"},Ze={class:"w-full border-b border-gray-200 rounded-t-lg"},Je={class:"flex items-center pl-3"},qe=["id","value","onUpdate:modelValue"],Ge=["for"],Ke={class:"grid grid-cols-1"},Qe={class:"mb-3"},We=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Comments ",-1),Xe={class:"mt-1 flex rounded-md.shadow-sm"},et={class:"grid grid-cols-2 gap-4"},tt={class:"mb-3"},ot=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"}," Status ",-1),st={class:"mt-1 flex rounded-md.shadow-sm"},rt=["value"],nt={class:"flex justify-end space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},at={components:{Head:j,Link:V,Datepicker:D,Modal:P,Multiselect:y},data(){return{show_progress_report:!1,objectives_not_found:!1,progress_report_list:{},disabled:{terms_books:!0,units:!0,lessons:!0},options:{terms_books:[],units:[],lessons:[],objectives:[]},loading:{terms_books:!1,units:!1,lessons:!1,objectives:!1},search:{term_book_id:"",unit_id:"",lesson_id:""},form:{date:"",report_data:"",comments:"",attendance_status:""}}},methods:{viewProgressReport(r){this.form.report_id=this.$page.props.progress_reports[r].id,this.form.date=this.$page.props.progress_reports[r].date,this.form.report_data=JSON.parse(this.$page.props.progress_reports[r].report_data),this.form.attendance_status=this.$page.props.progress_reports[r].attendance_status,this.form.comments=this.$page.props.progress_reports[r].comments,this.show_progress_report=!0},updateProgressReport(){this.$inertia.post(route("progress_report.store_math"),this.form,{onBefore:r=>{},preserveScroll:!0,preserveState:!1})},getUnits(r){this.loading.units=!0,this.disabled.units=!0,this.disabled.lessons=!0,this.options.units=[],this.options.lessons=[],this.search.unit_id="",this.search.lesson_id="",w.get(route("progress_report.get_math_units",r)).then(t=>{this.options.units=t.data,this.disabled.units=!1,this.loading.units=!1})},getLessons(r){this.loading.lessons=!0,this.disabled.lessons=!0,this.options.lessons=[],this.search.lesson_id="",w.get(route("progress_report.get_math_lessons",r)).then(t=>{this.options.lessons=t.data,this.disabled.lessons=!1,this.loading.lessons=!1})},addItem(){if(this.search.term_book_id&&this.search.unit_id&&this.search.lesson_id){const r=this.form.report_data.find(t=>t.lesson_id===this.search.lesson_id);if(console.log(r),r){alert("You already added this lesson!");return}w.get(route("progress_report.get_math_objectives",this.search.lesson_id)).then(t=>{var g,b,C;const s={term_book_id:this.search.term_book_id,term_book_name:(g=this.$page.props.math_terms_books.find(p=>p.id===this.search.term_book_id))==null?void 0:g.name,unit_id:this.search.unit_id,unit_name:(b=this.options.units.find(p=>p.id===this.search.unit_id))==null?void 0:b.name,lesson_id:this.search.lesson_id,lesson_name:(C=this.options.lessons.find(p=>p.id===this.search.lesson_id))==null?void 0:C.name,objectives:[]},o=this.form.report_data.length;this.form.report_data.push(s);const l=o,c=this.form.report_data[l];t.data.forEach(p=>{c.objectives.push({id:p.id,name:p.name,achieved:!1})})})}},deleteItem(r){this.form.report_data.splice(r,1)}}},yt=Object.assign(at,{__name:"Coding",setup(r){return(t,s)=>(a(),n(h,null,[d(u(j),{title:"Progress Report"}),d(U,null,{header:i(()=>[]),default:i(()=>[e("div",R,[e("div",A,[e("form",{onSubmit:s[0]||(s[0]=$((...o)=>t.submit&&t.submit(...o),["prevent"]))},[e("div",N,[e("div",H,[e("div",I,[d(L)])]),e("div",F,[e("div",E,[e("div",Y,[Z,e("div",J,[e("div",q,[e("table",G,[K,e("tbody",Q,[t.$page.props.progress_reports.length?v("",!0):(a(),n("tr",W,ee)),(a(!0),n(h,null,f(t.$page.props.progress_reports,(o,l)=>(a(),n("tr",{class:"hover:bg-gray-200",key:o.report_id},[e("td",te,[e("div",oe,m(u(z)(o.date).format("DD/MM/Y")),1)]),e("td",se,[e("span",{class:k(["inline-flex items-center justify-center px-2 py-1 text-xs rounded",o.attendance_status_class_name])},m(o.attendance_status_name),3)]),e("td",re,[d(x,{buttonType:"blue",onClick:c=>t.viewProgressReport(l)},{default:i(()=>[_("View / Update")]),_:2},1032,["onClick"])])]))),128))])])])])])])])])],32)])]),d(P,{modalType:"lg",showModal:t.show_progress_report,onHideModal:s[10]||(s[10]=o=>t.show_progress_report=!1)},{header:i(()=>[ne]),content:i(()=>[e("div",ae,[e("div",de,[e("div",ie,[e("div",le,[ce,e("div",pe,[d(u(D),{class:k("w-full rounded-lg shadow-sm"),style:M(t.$page.props.errors.date?"--dp-border-color: #fa9e9e":"--dp-border-color: #cccccc"),enableTimePicker:!1,"auto-apply":!0,placeholder:"Select Date",format:"dd/MM/yyyy",modelValue:t.form.date,"onUpdate:modelValue":s[1]||(s[1]=o=>t.form.date=o)},null,8,["style","modelValue"])])])]),ue,e("div",me,[e("div",ge,[he,e("div",be,[d(u(y),{onSelect:s[2]||(s[2]=o=>t.getUnits(t.search.term_book_id)),modelValue:t.search.term_book_id,"onUpdate:modelValue":s[3]||(s[3]=o=>t.search.term_book_id=o),valueProp:"id",appendNewOption:!1,searchable:!0,options:t.$page.props.math_terms_books,clearOnSelect:!1,canClear:!1,canDeselect:!1,trackBy:"name",label:"name",loading:t.loading.terms_books,placeholder:"Please Select",classes:{container:"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer rounded-sm bg-white text-base leading-snug border-gray-300",containerDisabled:"cursor-not_allowed bg-gray-100 border focus:border-gray-200 h-10",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-gray-300",search:"w-full absolute inset-0 border-gray-300 focus:outline-none focus:border-transparent focus:ring-0 appearance-none text-base font-sans bg-white rounded-sm",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3 text-sm",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left"}},null,8,["modelValue","options","loading"])])]),e("div",fe,[_e,e("div",xe,[d(u(y),{onSelect:s[4]||(s[4]=o=>t.getLessons(t.search.unit_id)),modelValue:t.search.unit_id,"onUpdate:modelValue":s[5]||(s[5]=o=>t.search.unit_id=o),valueProp:"id",appendNewOption:!1,searchable:!0,options:t.options.units,disabled:t.disabled.units,clearOnSelect:!1,canClear:!1,canDeselect:!1,trackBy:"name",label:"name",loading:t.loading.units,placeholder:"Please Select",classes:{container:"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer rounded-sm bg-white text-base leading-snug border-gray-300",containerDisabled:"cursor-not_allowed bg-gray-100 border focus:border-gray-200 h-10",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-gray-300",search:"w-full absolute inset-0 border-gray-300 focus:outline-none focus:border-transparent focus:ring-0 appearance-none text-base font-sans bg-white rounded-sm",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3 text-sm",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left"}},null,8,["modelValue","options","disabled","loading"])])]),e("div",ye,[we,e("div",ve,[d(u(y),{modelValue:t.search.lesson_id,"onUpdate:modelValue":s[6]||(s[6]=o=>t.search.lesson_id=o),valueProp:"id",appendNewOption:!1,searchable:!0,options:t.options.lessons,clearOnSelect:!1,canClear:!1,canDeselect:!1,trackBy:"name",label:"name",disabled:t.disabled.lessons,placeholder:"Please Select",loading:t.loading.lessons,classes:{container:"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer rounded-sm bg-white text-base leading-snug border-gray-300",containerDisabled:"cursor-not-allowed bg-gray-100 border focus:border-gray-200 h-10",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-gray-300",search:"w-full absolute inset-0 border-gray-300 focus:outline-none focus:border-transparent focus:ring-0 appearance-none text-base font-sans bg-white rounded-sm",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3 text-sm",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left"}},null,8,["modelValue","options","disabled","loading"])])]),e("div",ke,[e("div",Se,[Ce,e("div",je,[d(x,{class:"py-3 px-4",buttonType:"info",onClick:t.addItem},{default:i(()=>[_("Add")]),_:1},8,["onClick"])])])])]),e("div",De,[Pe,t.form.report_data?(a(),n("div",Be,[t.form.report_data.length?v("",!0):(a(),n("div",Ue,"No objectives found.")),(a(!0),n(h,null,f(t.form.report_data,(o,l)=>(a(),n("div",Le,[e("details",ze,[e("summary",Re,[e("div",Ae,[e("div",Ne,[e("label",He,m(o.unit_name),1),e("label",{class:"font-medium text-red-500 hover:text-red-600 cursor-pointer",onClick:c=>t.deleteItem(l)},"Delete",8,Ie)]),e("p",Fe,m(o.lesson_name),1)]),Ee]),e("ul",Ye,[(a(!0),n(h,null,f(o.objectives,(c,g)=>(a(),n("li",Ze,[e("div",Je,[S(e("input",{id:c.id,type:"checkbox",value:c.id,"onUpdate:modelValue":b=>t.form.report_data[l].objectives[g].achieved=b,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-gray-300 focus:ring-0"},null,8,qe),[[O,t.form.report_data[l].objectives[g].achieved]]),e("label",{for:c.id,class:"w-full py-3 ml-2 text-sm font-medium text-gray-900 cursor-pointer"},m(c.name),9,Ge)])]))),256))])])]))),256))])):(a(),n("div",Ve,[t.loading.objectives?(a(),n("div",$e,Te)):v("",!0)]))]),e("div",Ke,[e("div",Qe,[We,e("div",Xe,[S(e("textarea",{class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300",rows:"4","onUpdate:modelValue":s[7]||(s[7]=o=>t.form.comments=o)},null,512),[[T,t.form.comments]])])])]),e("div",et,[e("div",tt,[ot,e("div",st,[S(e("select",{name:"attendance_status",id:"attendance_status",class:k(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.attendance_status?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[8]||(s[8]=o=>t.form.attendance_status=o),autocomplete:"off"},[(a(!0),n(h,null,f(t.$page.props.attendance_status,(o,l)=>(a(),n("option",{value:o.id},m(o.name),9,rt))),256))],2),[[B,t.form.attendance_status]])])])])])])]),footer:i(()=>[e("div",nt,[d(x,{buttonType:"gray",onClick:s[9]||(s[9]=o=>t.show_progress_report=!1)},{default:i(()=>[_("Cancel")]),_:1}),d(x,{onClick:t.updateProgressReport},{default:i(()=>[_("Save")]),_:1},8,["onClick"])])]),_:1},8,["showModal"])]),_:1})],64))}});export{yt as default};
