import{x as f,v as a,u as n,O as t,F as y,b7 as T,q as d,U as r,y as o,I as k,t as w,J as c,E as Y,m as J,B as p}from"./@vue-39dc9ff3.js";import{B as q}from"./Authenticated-89c7332d.js";import{H,L as W}from"./@inertiajs-2b766590.js";import{b as X,s as Z}from"./@vueform-8fb84cf1.js";import{h as V}from"./moment-a9aaa855.js";import{C as K}from"./ConfirmationModal-3a22d485.js";import{V as Q}from"./vue-final-modal-a2198d51.js";import{s as ee}from"./simplebar-vue-0a5cf12f.js";import{M as se}from"./Modal-6a11ca09.js";import{_ as j}from"./Card-b75ae06b.js";import{_ as L,a as O,b as F}from"./TabsList-13a9a235.js";import{_ as N}from"./Collapsible-08c65aae.js";import{_ as U}from"./index-82c7be52.js";import{_ as B}from"./DeleteConfirmation-b2aa0ec0.js";import{_ as x}from"./DialogModal-6d0aecd6.js";import{_ as te,a as oe}from"./index-85b03c23.js";import{_ as ae}from"./AlertTitle-f2657c78.js";import{_ as R,a as z,b as I,c as $,d as G,e as C}from"./TableRow-da22b5e6.js";import{C as le,T as re,R as ie,a as ne}from"./lucide-vue-next-7b48dc26.js";import"./ApplicationLogo-5cf6e77e.js";import"./radix-vue-a603168c.js";import"./@floating-ui-c05b1c1f.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-dbb80022.js";import"./axios-1779699b.js";import"./pusher-js-68b5c933.js";import"./@vuepic-a83e4355.js";import"./@babel-1b80a44a.js";import"./cropperjs-042b647f.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-e9930861.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-c14271ca.js";import"./@radix-icons-9ff33614.js";import"./lodash.isequal-0acc53e7.js";import"./vue-46d666fa.js";import"./lodash.clonedeep-12c784b4.js";import"./qs-45a3326f.js";import"./side-channel-401220dd.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-ac0241aa.js";import"./deepmerge-89e33937.js";import"./nprogress-87ee1729.js";import"./@heroicons-fd1e1a44.js";import"./@headlessui-3f5736f6.js";import"./simplebar-core-32e0c2bb.js";import"./can-use-dom-e394c214.js";import"./lodash-es-9b1d07da.js";const de={class:"grid grid-cols-1 xl:grid-cols-2 2xl:grid-cols-4 gap-4"},_e=o("span",{class:"text-red-500"},"*",-1),me=o("span",{class:"text-red-500"},"*",-1),fe=o("span",{class:"text-red-500"},"*",-1),ce={class:"grid grid-cols-1 xl:grid-cols-2 2xl:grid-cols-4 gap-4"},ue=o("span",{class:"text-red-500"},"*",-1),pe=o("span",{class:"text-red-500"},"*",-1),he=o("span",{class:"text-red-500"},"*",-1),ge={class:"flex justify-between items-center"},ve=o("span",{class:"ml-1 hidden sm:block"},"New Class",-1),be={key:0,class:""},ye={class:"flex space-x-2 items-center"},we={class:"grid grid-cols-1 gap-1 overflow-auto"},Ce={key:0,class:"grid grid-cols-1"},ke={class:"flex flex-wrap gap-1 p-1"},Ve={class:"whitespace-nowrap"},$e={class:"whitespace-nowrap"},Se={class:"whitespace-nowrap"},Te=o("hr",{class:"mt-4 mb-1"},null,-1),Pe={class:"p-1"},Ae={class:"flex items-center space-x-2"},Ne=o("div",{class:"mt-3"},null,-1),Ue={key:1,class:"flex flex-wrap gap-1 p-1"},Ie={class:"whitespace-nowrap"},Me={key:2,class:"flex flex-wrap gap-1 p-1"},Fe={class:"whitespace-nowrap"},je=o("span",{class:"whitespace-nowrap"},"Add Promotion",-1),xe={key:1,class:"p-3 border rounded-lg"},Ee=o("span",{class:"text-sm text-slate-500"},"No class has been added.",-1),De=[Ee],Be={key:1,class:"p-3 border rounded-lg"},Le=o("span",{class:"text-sm text-slate-500"},"Coming Soon...",-1),Oe=[Le],Re={class:"flex items-center justify-between"},ze={class:"flex space-x-2 items-center"},Ge={class:"flex space-x-2"},He={ref:"transfer_centre_info"},Ye={class:"p-1 grid grid-cols-1 xl:grid-cols-3 items-end gap-4"},Je=o("span",{class:"text-red-500"},"*",-1),qe=o("span",{class:"text-red-500"},"*",-1),We={ref:"transfer_class_info"},Xe={key:0,class:"max-h-[26rem] overflow-y-auto"},Ze=o("div",{class:"p-3"},"No classes available",-1),Ke={class:"pl-2 whitespace-nowrap"},Qe={key:1,class:"flex justify-center py-2 text-sm"},es=o("span",null,"Please search for classes.",-1),ss=[es],ts={ref:"transfer_summary"},os={key:0,class:"grid px-3 divide-y select-none"},as={class:"py-4"},ls={class:"flex justify-between mb-3 font-semibold"},rs={class:"text-sm"},is={class:"text-sm"},ns={class:"grid gap-2 mb-4 text-xs font-semibold"},ds={class:"flex items-center justify-between"},_s=o("span",null,"Centre",-1),ms={class:"text-slate-600"},fs={class:"flex items-center justify-between"},cs=o("span",null,"Fee",-1),us={class:"text-slate-600"},ps={class:"flex items-center justify-between"},hs=o("span",null,"Class Method",-1),gs={class:"text-slate-600"},vs={class:"grid gap-2 mb-3 text-xs font-semibold"},bs=o("li",{class:"flex items-center"},[o("span",{class:"underline"},"Timetable")],-1),ys={class:"flex flex-wrap items-center gap-4"},ws={key:1,class:"flex justify-center py-2 text-sm"},Cs={key:0},ks={key:1},Vs={class:"grid grid-cols-1 gap-4"},$s={ref:"add_class_centre_info"},Ss={class:"p-1 grid grid-cols-1 xl:grid-cols-2 items-end gap-4"},Ts=o("span",{class:"text-red-500"},"*",-1),Ps=o("span",{class:"text-red-500"},"*",-1),As={class:"p-1 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 items-end gap-4"},Ns=o("span",{class:"text-red-500"},"*",-1),Us=o("span",{class:"text-red-500"},"*",-1),Is=o("span",{class:"text-red-500"},"*",-1),Ms=o("span",{class:"text-red-500"},"*",-1),Fs={class:"flex justify-end mt-2"},js={ref:"add_class_info"},xs={key:0,class:"max-h-[26rem] overflow-y-auto"},Es=o("div",{class:"p-3"},"No classes available",-1),Ds={class:"pl-2 whitespace-nowrap"},Bs={key:1,class:"flex justify-center py-2 text-sm"},Ls=o("span",null,"Please search for classes.",-1),Os=[Ls],Rs={ref:"add_class_summary"},zs={key:0,class:"grid px-3 divide-y select-none"},Gs={class:"py-4"},Hs={class:"flex justify-between mb-3 font-semibold"},Ys={class:"text-sm"},Js={class:"text-sm"},qs={class:"grid gap-2 mb-4 text-xs font-semibold"},Ws={class:"flex items-center justify-between"},Xs=o("span",null,"Centre",-1),Zs={class:"text-slate-600"},Ks={class:"flex items-center justify-between"},Qs=o("span",null,"Fee",-1),et={class:"text-slate-600"},st={class:"flex items-center justify-between"},tt=o("span",null,"Class Method",-1),ot={class:"text-slate-600"},at={class:"grid gap-2 mb-3 text-xs font-semibold"},lt=o("li",{class:"flex items-center"},[o("span",{class:"underline"},"Timetable")],-1),rt={class:"flex flex-wrap items-center gap-4"},it={class:"grid gap-2 mb-3 text-xs font-semibold"},nt={class:"flex items-center space-x-2"},dt=o("span",{class:"underline"},"Applied Promos",-1),_t=["onClick"],mt={class:"font-medium"},ft={key:0,class:"flex flex-wrap gap-2"},ct={class:"flex space-x-2 items-center justify-center rounded-sm bg-indigo-200 px-2.5 py-1 text-indigo-800"},ut={class:"whitespace-nowrap text-xs"},pt=["onClick"],ht=o("path",{d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"},null,-1),gt=[ht],vt={key:1,class:""},bt=o("span",{class:"text-xs font-semibold text-indigo-500"},"None",-1),yt=[bt],wt={key:0,class:"grid gap-2 mb-3 text-xs font-semibold"},Ct={class:"flex flex-col"},kt={class:"flex items-center space-x-2"},Vt=["for"],$t={key:0,class:"flex items-center space-x-2 pl-6"},St=["for"],Tt={key:1,class:"grid gap-2 mb-3 text-xs font-semibold"},Pt={class:"flex flex-col"},At={class:"flex items-center space-x-2"},Nt=["for"],Ut={key:0,class:"flex items-center space-x-2 pl-6"},It=["for"],Mt={class:"grid gap-2 text-xs font-semibold"},Ft={class:"flex flex-col"},jt={class:"col-span-2 mt-3"},xt={class:"flex items-center justify-end space-x-2"},Et=["for"],Dt={class:"flex items-center justify-end text-lg space-x-1"},Bt={class:"font-brown"},Lt=o("span",{class:"font-medium text-sm text-gray-700"},"/month",-1),Ot={key:1,class:"flex justify-center py-2 text-sm"},Rt={key:0},zt={key:1},Gt={components:{Head:H,Link:W,Toggle:X,Multiselect:Z,ConfirmationModal:K,VueFinalModal:Q,simplebar:ee,Modal:se},data(){return{transfer:{show:{centre_info:!0,class_info:!1,fee_summary:!1}},add_class:{show:{centre_info:!0,class_info:!1,fee_summary:!1}},existing_promo:{show:!1},add_new_promo:{show:!1},current_academic_info_tab:1,current_programme_info_tab:[],open_new_class_promo_modal:!1,open_existing_class_promo_modal:!1,use_old_fee:!1,current_tab:1,no_fee_found:!1,show_add_class:!1,show_transfer_student:!1,disable_check_box:!1,fetching_fee:!1,total_amount:0,current_fee:this.$page.props.student_academics?this.$page.props.student_academics.current:[],previous_fee:this.$page.props.student_academics?this.$page.props.student_academics.history:[],selected_plus_class:{},confirmation:{delete_class:{is_open:!1,route_name:"",params:{}},set_status:{is_open:!1,route_name:"",id:"",params:{},student_fee_status:""},delete_promo:{is_open:!1,route_name:"",params:{}}},errors:{child:!1,centre:!1,admission_date:!1,programme:!1,class_type:!1,programme:!1,level:!1,class_method:!1},disable:{class_type:!0,class_levels:!0},list:{students:[],class_types:[],class_levels:[],available_classes:[]},searching:{student:!1,class:!1,fee:!1},confirmation_modal:{isOpen:!1,confirmationAlert:"",confirmationTitle:"",confirmationText:"",confirmationButton:"",confirmationMethod:"",confirmationData:"",confirmationRoute:""},enable_container:{available_classes:!1,show_fee:!1},search_form:{programme_id:"",class_type:"",class_level:"",class_method:""},form:{date_admission:"",children_id:this.$page.props.student_info?this.$page.props.student_info.children_id:"",student_id:this.$page.props.student_info?this.$page.props.student_info.id:"",centre_id:"",fee:[],basic_info:{name:this.$page.props.student_info?this.$page.props.student_info.name:"",gender:this.$page.props.student_info?this.$page.props.student_info.gender:"",dob:this.$page.props.student_info?this.$page.props.student_info.dob:"",date_joined:this.$page.props.student_info?this.$page.props.student_info.date_joined:""},parent_info:{name:this.$page.props.student_info?this.$page.props.student_info.parent_full_name:"",email:this.$page.props.student_info?this.$page.props.student_info.parent_email:"",phone:this.$page.props.student_info?this.$page.props.student_info.parent_calling_code+this.$page.props.student_info.parent_contact:"",address:this.$page.props.student_info?this.$page.props.student_info.parent_address:""},student_status:this.$page.props.student_info?!!this.$page.props.student_info.status:""},transfer_student_form:{centre_id:""},selected_promo:{promo_id:"",fee_index:"",fee_id:"",student_fee_id:""}}},watch:{"search_form.programme_id":{handler(){this.search_form.programme_id&&this.show_add_class&&(this.disable.class_type=!0,this.disable.class_levels=!0,this.search_form.class_type="",this.search_form.class_level="",axios.get(route("classes.get_class_types"),{params:{programme_id:this.search_form.programme_id}}).then(i=>{this.list.class_types=i.data,this.disable.class_type=!1}))},deep:!0},"search_form.class_type":{handler(){this.search_form.programme_id&&this.search_form.class_type&&this.show_add_class&&(this.disable.class_levels=!0,this.search_form.class_level="",axios.get(route("classes.get_class_levels"),{params:{programme_id:this.search_form.programme_id,class_type:this.search_form.class_type}}).then(i=>{this.list.class_levels=i.data,this.disable.class_levels=!1}))},deep:!0},"form.fee":{handler(){this.total_amount=0,this.form.fee.forEach(i=>{const{include_registration_fee:e,registration_fee:l,registration_fee_discount:m,include_material_fee:h,material_fee:g,material_fee_discount:b,programme_fee:v,promos:M}=i.fee_info,E=e?Number(l):0,D=m!=""&&m>0?Number(m):0,P=h?Number(g):0,s=b!=""&&b>0?Number(b):0,u=M.reduce((S,A)=>A.type_id===1?S+A.value:S,0),_=M.reduce((S,A)=>A.type_id===2?S+A.value:S,0);this.total_amount+=Number(v)-_-this.total_amount*u/100+(Number(E)-Number(D))+(Number(P)-Number(s))})},deep:!0}},methods:{saveStudentDetails(){this.$inertia.post(route("students.update"),this.form,{preserveState:!0})},showAddClass(){this.clearSearchForm(),this.show_add_class=!0,this.add_class.show.centre_info=!0,this.add_class.show.class_info=!1,this.add_class.show.fee_summary=!1},findClasses(){this.selected_plus_class=[],this.errors.centre=!this.form.centre_id,this.errors.admission_date=!this.form.date_admission,this.errors.programme=!this.search_form.programme_id,this.errors.class_type=!this.search_form.class_type,this.errors.level=!this.search_form.class_level,this.errors.class_method=!this.search_form.class_method,this.form.centre_id&&this.search_form.programme_id&&this.search_form.class_level&&this.search_form.class_type&&this.search_form.class_method&&(this.searching.class=!0,this.enable_container.show_fee=!1,this.list.available_classes=[],axios.get(route("classes.find"),{params:{centre_id:this.form.centre_id,programme_id:this.search_form.programme_id,class_method:this.search_form.class_method,class_level:this.search_form.class_level,class_type:this.search_form.class_type}}).then(i=>{this.list.available_classes=i.data,this.enable_container.available_classes=!0,this.searching.class=!1,this.scrollToElement("available_classes"),this.goToTransferClassInfo(),this.goToAddClassInfo()}))},getPlusFee(i,e,l,m,h=!1){if(this.form.fee=[],this.fetching_fee||this.disable_check_box)return;if(!h&&this.current_fee.find(v=>v.fee_info.programme_id==m&&v.fee_info.student_fee_status=="")){alert("This programme already been added. Please remove the previous one first or set the status."),i.target.checked&&(i.target.checked=!1),this.add_class.show.centre_info=!0,this.add_class.show.class_info=!1,this.add_class.show.fee_summary=!1,this.searching.fee=!1;return}this.disable_check_box=!0,this.checkIfClassSelected(e,m)?(this.selected_plus_class[m].length==1&&(this.selected_plus_class[m]=[],this.no_fee_found=!1),this.selected_plus_class[m]=this.selected_plus_class[m].filter(b=>b!==e)):(this.selected_plus_class[m]||(this.selected_plus_class[m]=[]),this.selected_plus_class[m].push(e)),this.form.fee=[],this.form.fee=this.form.fee.filter(b=>b.fee_info.programme_id!==m),this.selected_plus_class[m].length?(this.fetching_fee=!0,axios.get(route("programmes.get_fee"),{params:{class_type:this.search_form.class_type,class_count:this.selected_plus_class[m].length,classes:this.selected_plus_class[m]}}).then(b=>{b.data.fee_info&&this.form.fee.push(b.data),this.scrollToElement("class_fee"),this.searching.fee=!1,this.disable_check_box=!1,this.fetching_fee=!1,this.goToTransferSummary(),this.goToAddClassSummary()}).catch(b=>{this.searching.fee=!1,this.disable_check_box=!1,this.fetching_fee=!1,this.no_fee_found=!0})):this.disable_check_box=!1},clearStudents(){this.students=[]},scrollToElement(i){const e=this.$refs[i];e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},addClass(){this.$inertia.post(route("students.add_student_class"),this.form,{preserveState:!1,preserveScroll:!0})},deleteClass(i,e,l,m,h){this.confirmation.delete_class.route_name="students.destroy",this.confirmation.delete_class.params={student_fee_id:i,invoice_id:e,admission_date:l,centre_id:m,programme_id:h},this.confirmation.delete_class.is_open=!0},deleteFee(i,e){this.form.fee=this.form.fee.filter(l=>l.fee_info.programme_id!==i),e==2&&this.selected_plus_class.hasOwnProperty(i)&&delete this.selected_plus_class[i]},checkIfClassSelected(i,e){return this.selected_plus_class[e]?this.selected_plus_class[e].includes(i):!1},pushMaterialFee(i){for(const e of this.form.fee){const l=e.fee_info;if(console.log(l),l.programme_id===i){l.include_material_fee=!0,l.material_fee_discount=0,l.programme_fee_discount=0;break}}},changeFeeStatus(i,e){e||(this.confirmation.set_status.student_fee_status=1,this.confirmation.set_status.route_name="students.set_fee_status",this.confirmation.set_status.params={student_fee_id:i,student_fee_status:1},this.confirmation.set_status.is_open=!0)},showTransferStudent(i,e,l,m,h){this.clearSearchForm(),this.form.fee_id=i,this.form.student_fee_id=e,this.search_form.programme_id=l,this.search_form.class_type=m,this.search_form.class_level=h,this.transfer.show.centre_info=!0,this.transfer.show.class_info=!1,this.transfer.show.fee_summary=!1,this.show_transfer_student=!0},transferStudent(){if(this.selected_plus_class[this.search_form.programme_id].length){const i=this.current_fee.filter(e=>e.fee_info.programme_id===this.search_form.programme_id).map(e=>e.classes.length).reduce((e,l)=>e+l,0);if(this.selected_plus_class[this.search_form.programme_id].length!=i){alert("You will have to select "+i+" classes to proceed.");return}}this.$inertia.post(route("students.transfer"),this.form,{preserveState:!1,preserveScroll:!0,onSuccess:()=>{this.transfer.show.centre_info=!0,this.transfer.show.class_info=!1,this.transfer.show.fee_info=!1}})},clearSearchForm(){this.form.centre_id="",this.search_form.programme_id="",this.search_form.class_type="",this.search_form.class_level="",this.search_form.class_method="",this.list.class_types=[],this.list.class_levels=[],this.list.available_classes=[],this.form.fee=[],this.selected_plus_class={}},sumMaterialFee(i,e,l){return i?Number(e)+Number(l):Number(l)},deleteExistingClassPromo(i,e,l,m){this.confirmation.delete_promo.route_name="students.delete_promo",this.confirmation.delete_promo.params={fee_id:i,student_fee_id:e,promo_id:l,student_fee_promo_id:m,form:this.form},this.confirmation.delete_promo.is_open=!0},deleteNewClassPromo(i,e){this.form.fee[i].fee_info.promos.splice(e,1)},showExistingClassPromoModal(i,e,l){this.selected_promo.promo_id="",this.selected_promo.fee_index=i,this.selected_promo.fee_id=e,this.selected_promo.student_fee_id=l,this.existing_promo.show=!0},showNewClassPromoModal(i,e,l){this.selected_promo.promo_id="",this.selected_promo.fee_index=i,this.selected_promo.fee_id=e,this.selected_promo.student_fee_id=l,this.add_new_promo.show=!0},addExistingClassPromo(){const i=this.$page.props.promos.find(l=>l.promo_id===this.selected_promo.promo_id);if(!this.current_fee[this.selected_promo.fee_index].fee_info.promos.find(l=>l.promo_id===this.selected_promo.promo_id)&&i){const l={promo_id:i.promo_id,promo_name:i.promo_name,type_id:i.type_id,type_name:i.type_name,value:i.value,duration_id:i.type_id,duration_name:i.duration_name,duration_count:i.duration_count,duration_remaining:i.duration_count};this.$inertia.post(route("students.add_promo"),{fee_id:this.selected_promo.fee_id,student_fee_id:this.selected_promo.student_fee_id,data:l},{preserveState:!1})}this.open_existing_class_promo_modal=!1},addNewClassPromo(){const i=this.$page.props.promos.find(l=>l.promo_id===this.selected_promo.promo_id);!this.form.fee[this.selected_promo.fee_index].fee_info.promos.find(l=>l.promo_id===this.selected_promo.promo_id)&&i&&this.form.fee[this.selected_promo.fee_index].fee_info.promos.push({promo_id:parseInt(i.promo_id),promo_name:i.promo_name,type_id:parseInt(i.type_id),type_name:i.type_name,value:parseInt(i.value),duration_id:parseInt(i.type_id),duration_name:i.duration_name,duration_count:parseInt(i.duration_count),duration_remaining:parseInt(i.duration_count)}),this.add_new_promo.show=!1},calculateTotal(i,e){const l=this.form.fee[i].fee_info.promos.reduce((h,g)=>g.type_id===1?h+g.value:h,0),m=this.form.fee[i].fee_info.promos.reduce((h,g)=>g.type_id===2?h+g.value:h,0);return e-m-e*l/100},resetFeeStatus(){const i=this.current_fee.find(e=>e.fee_info.student_fee_status==this.confirmation.set_status.student_fee_status);i&&(i.fee_info.student_fee_status="")},goToAddClassInfo(){this.add_class.show.centre_info=!1,this.add_class.show.class_info=!0,this.add_class.show.fee_summary=!1,setTimeout(()=>{this.scrollToElement("add_class_info")},300)},goToAddClassSummary(){this.add_class.show.centre_info=!1,this.add_class.show.class_info=!1,this.add_class.show.fee_summary=!0,setTimeout(()=>{this.scrollToElement("add_class_summary")},300)},goToTransferClassInfo(){this.transfer.show.centre_info=!1,this.transfer.show.class_info=!0,this.transfer.show.fee_summary=!1,setTimeout(()=>{this.scrollToElement("transfer_class_info")},300)},goToTransferSummary(){this.transfer.show.centre_info=!1,this.transfer.show.class_info=!1,this.transfer.show.fee_summary=!0,setTimeout(()=>{this.scrollToElement("transfer_summary")},300)}},created(){const e=new Date().toISOString().substring(0,10);this.form.date_admission=`${e}T05:59:00.000Z`}},ea=Object.assign(Gt,{__name:"Edit",setup(i){return(e,l)=>{const m=T("Label"),h=T("Input"),g=T("ComboBox"),b=T("Datepicker"),v=T("Button"),M=T("RadioGroupItem"),E=T("RadioGroup"),D=T("Switch"),P=T("Checkbox");return d(),f(y,null,[a(n(H),{title:"Students"}),a(q,null,{header:t(()=>[]),default:t(()=>[a(j,null,{title:t(()=>[r("Student Information")]),content:t(()=>[o("div",de,[o("div",null,[a(m,null,{default:t(()=>[r("Name"),_e]),_:1}),a(h,{error:e.$page.props.errors.name,modelValue:e.form.basic_info.name,"onUpdate:modelValue":l[0]||(l[0]=s=>e.form.basic_info.name=s),disabled:""},null,8,["error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Gender"),me]),_:1}),a(g,{items:e.$page.props.gender_list,"label-property":"name","value-property":"id",error:e.$page.props.errors.gender,modelValue:e.form.basic_info.gender,"onUpdate:modelValue":l[1]||(l[1]=s=>e.form.basic_info.gender=s),"select-placeholder":"","search-placeholder":"Search gender...",disabled:""},null,8,["items","error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Date of Birth"),fe]),_:1}),a(b,{mode:"date",format:"dd/MM/Y",error:e.errors.dob,modelValue:e.form.basic_info.dob,"onUpdate:modelValue":l[2]||(l[2]=s=>e.form.basic_info.dob=s),disabled:""},null,8,["error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Date Joined")]),_:1}),a(b,{mode:"date",format:"dd/MM/Y",error:e.errors.date_joined,modelValue:e.form.basic_info.date_joined,"onUpdate:modelValue":l[3]||(l[3]=s=>e.form.basic_info.date_joined=s)},null,8,["error","modelValue"])])])]),_:1}),a(j,null,{title:t(()=>[r("Parent Information")]),content:t(()=>[o("div",ce,[o("div",null,[a(m,null,{default:t(()=>[r("Name"),ue]),_:1}),a(h,{modelValue:e.form.parent_info.name,"onUpdate:modelValue":l[4]||(l[4]=s=>e.form.parent_info.name=s),disabled:""},null,8,["modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Email"),pe]),_:1}),a(h,{modelValue:e.form.parent_info.email,"onUpdate:modelValue":l[5]||(l[5]=s=>e.form.parent_info.email=s),disabled:""},null,8,["modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Phone Number"),he]),_:1}),a(h,{modelValue:e.form.parent_info.phone,"onUpdate:modelValue":l[6]||(l[6]=s=>e.form.parent_info.phone=s),disabled:""},null,8,["modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Address")]),_:1}),a(h,{modelValue:e.form.parent_info.address,"onUpdate:modelValue":l[7]||(l[7]=s=>e.form.parent_info.address=s),disabled:""},null,8,["modelValue"])])])]),_:1}),a(j,null,{title:t(()=>[o("div",ge,[r(" Academic Information "),a(v,{onClick:e.showAddClass},{default:t(()=>[a(n(le),{class:"h-4 w-4"}),ve]),_:1},8,["onClick"])])]),content:t(()=>[a(n(L),{"default-value":e.current_academic_info_tab,class:"mb-2"},{default:t(()=>[a(n(O),null,{default:t(()=>[a(n(F),{value:1,onClick:l[8]||(l[8]=s=>e.current_academic_info_tab=1)},{default:t(()=>[r(" This Month ")]),_:1}),a(n(F),{value:2,onClick:l[9]||(l[9]=s=>e.current_academic_info_tab=2)},{default:t(()=>[r(" History ")]),_:1})]),_:1})]),_:1},8,["default-value"]),e.current_academic_info_tab==1?(d(),f("div",be,[e.current_fee.length?(d(!0),f(y,{key:0},k(e.current_fee,(s,u)=>(d(),w(N,null,{trigger:t(()=>[o("div",ye,[a(m,{class:"whitespace-pre-line"},{default:t(()=>[r(c(s.fee_info.programme_name)+" (Level "+c(s.fee_info.programme_level)+")",1)]),_:2},1024),a(n(re),{class:"h-4 w-4 text-red-500 cursor-pointer shrink-0",onClick:Y(_=>e.deleteClass(s.fee_info.student_fee_id,s.fee_info.invoice_id,s.fee_info.admission_date,s.fee_info.centre_id,s.fee_info.programme_id),["stop"])},null,8,["onClick"])])]),content:t(()=>[o("div",we,[a(n(L),{defaultValue:e.current_programme_info_tab[u]?e.current_programme_info_tab[u]:e.current_programme_info_tab[u]=1,class:"mb-1"},{default:t(()=>[a(n(O),null,{default:t(()=>[a(n(F),{value:1,onClick:_=>e.current_programme_info_tab[u]=1},{default:t(()=>[r(" Fee Info ")]),_:2},1032,["onClick"]),a(n(F),{value:2,onClick:_=>e.current_programme_info_tab[u]=2},{default:t(()=>[r(" Timetable ")]),_:2},1032,["onClick"]),a(n(F),{value:3,onClick:_=>e.current_programme_info_tab[u]=3},{default:t(()=>[r(" Promotions ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["defaultValue"]),e.current_programme_info_tab[u]==1?(d(),f("div",Ce,[o("div",ke,[a(n(U),{variant:"",class:"space-x-2"},{default:t(()=>[o("span",Ve,c(s.fee_info.centre_name),1),a(n(ie),{class:"h-3.5 w-3.5 cursor-pointer",onClick:_=>e.showTransferStudent(s.fee_info.fee_id,s.fee_info.student_fee_id,s.fee_info.programme_id,s.fee_info.class_type_id,s.fee_info.programme_level)},null,8,["onClick"])]),_:2},1024),a(n(U),{variant:""},{default:t(()=>[o("span",$e,c(s.fee_info.class_method),1)]),_:2},1024),a(n(U),{variant:""},{default:t(()=>[o("span",Se,c(s.fee_info.programme_type),1)]),_:2},1024)]),Te,o("div",Pe,[a(m,null,{default:t(()=>[r(" Status ")]),_:1}),a(E,{modelValue:s.fee_info.student_fee_status,"onUpdate:modelValue":_=>s.fee_info.student_fee_status=_},{default:t(()=>[o("div",Ae,[a(M,{id:"default",value:"",disabled:!!s.fee_info.student_fee_status},null,8,["disabled"]),a(m,{for:"default",class:J(["cursor-pointer",["cursor-not-allowed",s.fee_info.student_fee_status]])},{default:t(()=>[r("Ongoing")]),_:2},1032,["class"]),(d(!0),f(y,null,k(e.$page.props.fee_status,_=>(d(),f(y,null,[_.id!=2?(d(),w(M,{key:0,id:"radio_"+s.fee_info.student_fee_id+"_"+_.id,value:_.id,onClick:S=>e.changeFeeStatus(s.fee_info.student_fee_id,s.fee_info.student_fee_status)},null,8,["id","value","onClick"])):p("",!0),_.id!=2?(d(),w(m,{key:1,for:"radio_"+s.fee_info.student_fee_id+"_"+_.id,class:"cursor-pointer"},{default:t(()=>[r(c(_.name),1)]),_:2},1032,["for"])):p("",!0)],64))),256))])]),_:2},1032,["modelValue","onUpdate:modelValue"]),Ne])])):p("",!0),e.current_programme_info_tab[u]==2?(d(),f("div",Ue,[(d(!0),f(y,null,k(s.classes,_=>(d(),w(n(U),{variant:"",key:_.id},{default:t(()=>[o("span",Ie,c(n(V)(_.start_time).format("h:mm A"))+" - "+c(n(V)(_.end_time).format("h:mm A")),1)]),_:2},1024))),128))])):p("",!0),e.current_programme_info_tab[u]==3?(d(),f("div",Me,[s.fee_info.promos.length?(d(!0),f(y,{key:0},k(s.fee_info.promos,(_,S)=>(d(),w(n(U),{variant:"outline",class:"space-x-1"},{default:t(()=>[o("span",Fe,c(_.promo_name),1),a(n(ne),{class:"h-4 w-4 cursor-pointer text-red-500",onClick:A=>e.deleteExistingClassPromo(s.fee_info.fee_id,s.fee_info.student_fee_id,_.promo_id,_.student_fee_promo_id)},null,8,["onClick"])]),_:2},1024))),256)):p("",!0),a(n(U),{class:"cursor-pointer",variant:"",onClick:_=>e.showExistingClassPromoModal(u,s.fee_info.fee_id,s.fee_info.student_fee_id)},{default:t(()=>[je]),_:2},1032,["onClick"])])):p("",!0)])]),_:2},1024))),256)):(d(),f("div",xe,De))])):(d(),f("div",Be,Oe))]),_:1}),a(j,null,{content:t(()=>[o("div",Re,[o("div",ze,[a(m,null,{default:t(()=>[r("Active")]),_:1}),a(D,{modelValue:e.form.student_status,"onUpdate:modelValue":l[10]||(l[10]=s=>e.form.student_status=s)},null,8,["modelValue"])]),o("div",Ge,[a(v,{variant:"outline",onClick:l[11]||(l[11]=s=>e.$inertia.get(e.route("students")))},{default:t(()=>[r("Cancel")]),_:1}),a(v,{onClick:e.saveStudentDetails},{default:t(()=>[r("Save")]),_:1},8,["onClick"])])])]),_:1}),a(B,{open:e.confirmation.delete_class.is_open,onClose:l[12]||(l[12]=s=>e.confirmation.delete_class.is_open=!1),routeName:e.confirmation.delete_class.route_name,method:"post",params:e.confirmation.delete_class.params},{title:t(()=>[r("Delete Student's Class")]),description:t(()=>[r("Are you sure want to delete this student's class?")]),_:1},8,["open","routeName","params"]),a(B,{open:e.confirmation.set_status.is_open,onClose:l[13]||(l[13]=s=>e.confirmation.set_status.is_open=!1),onCancel:e.resetFeeStatus,routeName:e.confirmation.set_status.route_name,method:"post",params:e.confirmation.set_status.params},{title:t(()=>[r("Class Completed")]),description:t(()=>[r("Are you sure want to change this class to completed?")]),_:1},8,["open","onCancel","routeName","params"]),a(x,{open:e.show_transfer_student,"onUpdate:open":l[21]||(l[21]=s=>e.show_transfer_student=s),classProp:"max-w-5xl"},{title:t(()=>[r("Transfer Student")]),content:t(()=>[o("div",He,[a(N,{modelValue:e.transfer.show.centre_info,"onUpdate:modelValue":l[16]||(l[16]=s=>e.transfer.show.centre_info=s)},{trigger:t(()=>[r("Centre Information")]),content:t(()=>[o("div",Ye,[o("div",null,[a(m,null,{default:t(()=>[r("Centre"),Je]),_:1}),a(g,{items:e.$page.props.allowed_centres,"label-property":"label","value-property":"ID",error:e.errors.centre,modelValue:e.form.centre_id,"onUpdate:modelValue":l[14]||(l[14]=s=>e.form.centre_id=s),"select-placeholder":"Select Centre","search-placeholder":"Search centre..."},null,8,["items","error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Class Method"),qe]),_:1}),a(g,{items:e.$page.props.method_list,"label-property":"name","value-property":"id",error:e.errors.class_method,modelValue:e.search_form.class_method,"onUpdate:modelValue":l[15]||(l[15]=s=>e.search_form.class_method=s),"select-placeholder":"Select Centre","search-placeholder":"Search centre..."},null,8,["items","error","modelValue"])]),o("div",null,[a(v,{onClick:e.findClasses},{default:t(()=>[r("Search Classes")]),_:1},8,["onClick"])])])]),_:1},8,["modelValue"])],512),o("div",We,[a(N,{modelValue:e.transfer.show.class_info,"onUpdate:modelValue":l[17]||(l[17]=s=>e.transfer.show.class_info=s)},{trigger:t(()=>[r("Class Information")]),content:t(()=>[e.enable_container.available_classes?(d(),f("div",Xe,[a(n(R),null,{default:t(()=>[a(n(z),{class:"bg-gray-100"},{default:t(()=>[a(n(I),null,{default:t(()=>[a(n($),{class:"px-4"},{default:t(()=>[r("#")]),_:1}),a(n($),null,{default:t(()=>[r("Day")]),_:1}),a(n($),{class:"text-center"},{default:t(()=>[r("Time")]),_:1}),a(n($),{class:"text-center"},{default:t(()=>[r("Capacity")]),_:1}),a(n($),{class:"text-center"},{default:t(()=>[r("Action")]),_:1})]),_:1})]),_:1}),a(n(G),null,{default:t(()=>[!e.searching.class&&!e.list.available_classes.length?(d(),w(n(I),{key:0},{default:t(()=>[a(n(C),{class:"text-center",colspan:"10"},{default:t(()=>[Ze]),_:1})]),_:1})):p("",!0),(d(!0),f(y,null,k(e.list.available_classes,(s,u)=>(d(),w(n(I),null,{default:t(()=>[a(n(C),{class:"px-4"},{default:t(()=>[r(c(u+1),1)]),_:2},1024),a(n(C),null,{default:t(()=>[r(c(s.class_day),1)]),_:2},1024),a(n(C),{class:"text-center"},{default:t(()=>[o("span",Ke,c(n(V)(s.start_time).format("h:mm A"))+" - "+c(n(V)(s.end_time).format("h:mm A")),1)]),_:2},1024),a(n(C),{class:"text-center"},{default:t(()=>[r(c(s.capacity),1)]),_:2},1024),a(n(C),{class:"text-center"},{default:t(()=>[a(P,{id:s.id,value:s.id,checked:e.checkIfClassSelected(s.class_id,s.programme_id),onClick:_=>e.getPlusFee(_,s.class_id,s.class_type,s.programme_id,!0)},null,8,["id","value","checked","onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])):p("",!0),!e.enable_container.available_classes&&!e.searching.class&&!e.list.available_classes.length?(d(),f("div",Qe,ss)):p("",!0)]),_:1},8,["modelValue"])],512),o("div",ts,[a(N,{class:"bg-white",modelValue:e.transfer.show.fee_summary,"onUpdate:modelValue":l[18]||(l[18]=s=>e.transfer.show.fee_summary=s)},{trigger:t(()=>[r("Transfer Confirmation")]),content:t(()=>[e.form.fee.length?(d(),f("div",os,[(d(!0),f(y,null,k(e.form.fee,(s,u)=>(d(),f("div",as,[o("div",ls,[o("span",rs,c(s.fee_info.programme_name),1),o("span",is,"Level "+c(s.fee_info.programme_level),1)]),o("ul",ns,[o("li",ds,[_s,o("span",ms,c(s.fee_info.centre_name),1)]),o("li",fs,[cs,o("span",us,c(s.fee_info.programme_type),1)]),o("li",ps,[hs,o("span",gs,c(s.fee_info.class_method),1)])]),o("ul",vs,[bs,o("li",ys,[(d(!0),f(y,null,k(s.classes,_=>(d(),f("span",{class:"text-slate-600 text-xs",key:_.id},c(_.class_day)+" ("+c(n(V)(_.start_time).format("h:mm A"))+" - "+c(n(V)(_.end_time).format("h:mm A"))+")",1))),128))])])]))),256))])):p("",!0),e.searching.class?p("",!0):(d(),f("div",ws,[!e.enable_container.available_classes||e.enable_container.available_classes&&!e.form.fee.length&&!e.no_fee_found?(d(),f("span",Cs,"No classes have been selected.")):p("",!0),e.enable_container.available_classes&&!e.form.fee.length&&e.no_fee_found?(d(),f("span",ks,"Fees are not available for the selected classes.")):p("",!0)]))]),_:1},8,["modelValue"])],512)]),footer:t(()=>[a(v,{variant:"outline",onClick:l[19]||(l[19]=s=>e.show_transfer_student=!1)},{default:t(()=>[r("Cancel")]),_:1}),e.form.fee.length?(d(),w(v,{key:0,onClick:l[20]||(l[20]=s=>e.transferStudent())},{default:t(()=>[r("Transfer")]),_:1})):p("",!0)]),_:1},8,["open"]),a(x,{open:e.existing_promo.show,"onUpdate:open":l[24]||(l[24]=s=>e.existing_promo.show=s),classProp:"max-w-md"},{title:t(()=>[r("Add Promotions")]),content:t(()=>[o("div",Vs,[a(n(te),{class:"bg-red-300"},{default:t(()=>[a(n(ae),null,{default:t(()=>[r("Warning!")]),_:1}),a(n(oe),null,{default:t(()=>[r(" Student's current invoice will be deleted including uploaded proof of payment attachments. ")]),_:1})]),_:1}),a(g,{items:e.$page.props.promos,"label-property":"promo_name","value-property":"promo_id",modelValue:e.selected_promo.promo_id,"onUpdate:modelValue":l[22]||(l[22]=s=>e.selected_promo.promo_id=s),"select-placeholder":"Select Promo","search-placeholder":"Search promo..."},null,8,["items","modelValue"])])]),footer:t(()=>[a(v,{variant:"outline",onClick:l[23]||(l[23]=s=>e.existing_promo.show=!1)},{default:t(()=>[r("Cancel")]),_:1}),a(v,{onClick:e.addExistingClassPromo},{default:t(()=>[r("Add")]),_:1},8,["onClick"])]),_:1},8,["open"]),a(B,{open:e.confirmation.delete_promo.is_open,onClose:l[25]||(l[25]=s=>e.confirmation.delete_promo.is_open=!1),onCancel:e.resetFeeStatus,routeName:e.confirmation.delete_promo.route_name,method:"post",params:e.confirmation.delete_promo.params},{title:t(()=>[r("Delete Promotion")]),description:t(()=>[r("Are you sure want to delete this promotion? Student's current invoice will be deleted including uploaded proof of payment attachments.")]),_:1},8,["open","onCancel","routeName","params"]),a(x,{open:e.show_add_class,"onUpdate:open":l[40]||(l[40]=s=>e.show_add_class=s),classProp:"max-w-5xl"},{title:t(()=>[r("Add Class")]),content:t(()=>[o("div",$s,[a(N,{modelValue:e.add_class.show.centre_info,"onUpdate:modelValue":l[32]||(l[32]=s=>e.add_class.show.centre_info=s)},{trigger:t(()=>[r("Centre Information")]),content:t(()=>[o("div",Ss,[o("div",null,[a(m,null,{default:t(()=>[r("Centre"),Ts]),_:1}),a(g,{items:e.$page.props.allowed_centres,"label-property":"label","value-property":"ID",error:e.errors.centre,modelValue:e.form.centre_id,"onUpdate:modelValue":l[26]||(l[26]=s=>e.form.centre_id=s),"select-placeholder":"Select Centre","search-placeholder":"Search centre..."},null,8,["items","error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Programme"),Ps]),_:1}),a(g,{items:e.$page.props.programme_list,"label-property":"name","value-property":"id",error:e.errors.programme,modelValue:e.search_form.programme_id,"onUpdate:modelValue":l[27]||(l[27]=s=>e.search_form.programme_id=s),"select-placeholder":"Select Programme","search-placeholder":"Search programme..."},null,8,["items","error","modelValue"])])]),o("div",As,[o("div",null,[a(m,null,{default:t(()=>[r("Start Date"),Ns]),_:1}),a(b,{mode:"date",format:"dd/MM/yyyy",modelValue:e.form.date_admission,"onUpdate:modelValue":l[28]||(l[28]=s=>e.form.date_admission=s),error:e.errors.admission_date,disabled:""},null,8,["modelValue","error"])]),o("div",null,[a(m,null,{default:t(()=>[r("Class Method"),Us]),_:1}),a(g,{items:e.$page.props.method_list,"label-property":"name","value-property":"id",error:e.errors.class_method,modelValue:e.search_form.class_method,"onUpdate:modelValue":l[29]||(l[29]=s=>e.search_form.class_method=s),"select-placeholder":"Select Class Method","search-placeholder":"Search class method..."},null,8,["items","error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Class Type"),Is]),_:1}),a(g,{items:e.list.class_types,"label-property":"name","value-property":"id",error:e.errors.class_type,modelValue:e.search_form.class_type,"onUpdate:modelValue":l[30]||(l[30]=s=>e.search_form.class_type=s),"select-placeholder":"Select Class Type","search-placeholder":"Search class type..."},null,8,["items","error","modelValue"])]),o("div",null,[a(m,null,{default:t(()=>[r("Class Level"),Ms]),_:1}),a(g,{items:e.list.class_levels,"label-property":"level","value-property":"level",error:e.errors.level,modelValue:e.search_form.class_level,"onUpdate:modelValue":l[31]||(l[31]=s=>e.search_form.class_level=s),"select-placeholder":"Select Class Level","search-placeholder":"Search class level..."},null,8,["items","error","modelValue"])])]),o("div",Fs,[a(v,{onClick:e.findClasses},{default:t(()=>[r("Search Classes")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])],512),o("div",js,[a(N,{modelValue:e.add_class.show.class_info,"onUpdate:modelValue":l[33]||(l[33]=s=>e.add_class.show.class_info=s)},{trigger:t(()=>[r("Class Information")]),content:t(()=>[e.enable_container.available_classes?(d(),f("div",xs,[a(n(R),null,{default:t(()=>[a(n(z),{class:"bg-gray-100"},{default:t(()=>[a(n(I),null,{default:t(()=>[a(n($),{class:"px-4"},{default:t(()=>[r("#")]),_:1}),a(n($),null,{default:t(()=>[r("Day")]),_:1}),a(n($),{class:"text-center"},{default:t(()=>[r("Time")]),_:1}),a(n($),{class:"text-center"},{default:t(()=>[r("Capacity")]),_:1}),a(n($),{class:"text-center"},{default:t(()=>[r("Action")]),_:1})]),_:1})]),_:1}),a(n(G),null,{default:t(()=>[!e.searching.class&&!e.list.available_classes.length?(d(),w(n(I),{key:0},{default:t(()=>[a(n(C),{class:"text-center",colspan:"10"},{default:t(()=>[Es]),_:1})]),_:1})):p("",!0),(d(!0),f(y,null,k(e.list.available_classes,(s,u)=>(d(),w(n(I),null,{default:t(()=>[a(n(C),{class:"px-4"},{default:t(()=>[r(c(u+1),1)]),_:2},1024),a(n(C),null,{default:t(()=>[r(c(s.class_day),1)]),_:2},1024),a(n(C),{class:"text-center"},{default:t(()=>[o("span",Ds,c(n(V)(s.start_time).format("h:mm A"))+" - "+c(n(V)(s.end_time).format("h:mm A")),1)]),_:2},1024),a(n(C),{class:"text-center"},{default:t(()=>[r(c(s.capacity),1)]),_:2},1024),a(n(C),{class:"text-center"},{default:t(()=>[a(P,{id:s.id,value:s.id,checked:e.checkIfClassSelected(s.class_id,s.programme_id),onClick:_=>e.getPlusFee(_,s.class_id,s.class_type,s.programme_id,!1)},null,8,["id","value","checked","onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])):p("",!0),!e.enable_container.available_classes&&!e.searching.class&&!e.list.available_classes.length?(d(),f("div",Bs,Os)):p("",!0)]),_:1},8,["modelValue"])],512),o("div",Rs,[a(N,{class:"bg-white",modelValue:e.add_class.show.fee_summary,"onUpdate:modelValue":l[34]||(l[34]=s=>e.add_class.show.fee_summary=s)},{trigger:t(()=>[r("Fee Summary")]),content:t(()=>[e.form.fee.length?(d(),f("div",zs,[(d(!0),f(y,null,k(e.form.fee,(s,u)=>(d(),f("div",Gs,[o("div",Hs,[o("span",Ys,c(s.fee_info.programme_name),1),o("span",Js,"Level "+c(s.fee_info.programme_level),1)]),o("ul",qs,[o("li",Ws,[Xs,o("span",Zs,c(s.fee_info.centre_name),1)]),o("li",Ks,[Qs,o("span",et,c(s.fee_info.programme_type),1)]),o("li",st,[tt,o("span",ot,c(s.fee_info.class_method),1)])]),o("ul",at,[lt,o("li",rt,[(d(!0),f(y,null,k(s.classes,_=>(d(),f("span",{class:"text-slate-600 text-xs",key:_.id},c(_.class_day)+" ("+c(n(V)(_.start_time).format("h:mm A"))+" - "+c(n(V)(_.end_time).format("h:mm A"))+")",1))),128))])]),o("ul",it,[o("li",nt,[dt,o("div",{onClick:_=>e.showNewClassPromoModal(u),class:"font-medium text-indigo-500 cursor-pointer px-1.5 py-0.5 rounded border border-dashed border-indigo-500 bg-white hover:bg-indigo-50 whitespace-nowrap"}," Add Promo ",8,_t)]),o("li",mt,[s.fee_info.promos.length?(d(),f("div",ft,[(d(!0),f(y,null,k(s.fee_info.promos,(_,S)=>(d(),f("span",ct,[o("p",ut,c(_.promo_name),1),(d(),f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",onClick:A=>e.deleteNewClassPromo(u,S),class:"h-3.5 w-3.5 text-red-600 cursor-pointer"},gt,8,pt))]))),256))])):(d(),f("div",vt,yt))])]),s.fee_info.registration_fee!=0?(d(),f("ul",wt,[o("li",Ct,[o("div",kt,[a(P,{id:"registration_fee_"+u,value:s.fee_info.include_registration_fee,checked:s.fee_info.include_registration_fee,onClick:_=>s.fee_info.include_registration_fee=!s.fee_info.include_registration_fee},null,8,["id","value","checked","onClick"]),o("label",{for:"registration_fee_"+u,class:"cursor-pointer"},"Registration Fee: "+c(s.fee_info.currency_symbol)+c(s.fee_info.registration_fee),9,Vt)]),s.fee_info.include_registration_fee?(d(),f("div",$t,[o("span",{for:"registration_fee_discount"+u},"Discount: ",8,St),s.fee_info.include_registration_fee&&s.fee_info.registration_fee&&s.fee_info.registration_fee!=0?(d(),w(h,{key:0,min:"0",id:"registration_fee_discount"+u,type:"number",class:"text-xs h-6",placeholder:"Discount",modelValue:s.fee_info.registration_fee_discount,"onUpdate:modelValue":_=>s.fee_info.registration_fee_discount=_},null,8,["id","modelValue","onUpdate:modelValue"])):p("",!0)])):p("",!0)])])):p("",!0),s.fee_info.material_fee!=0?(d(),f("ul",Tt,[o("li",Pt,[o("div",At,[a(P,{id:"material_fee_"+u,value:s.fee_info.include_material_fee,checked:s.fee_info.include_material_fee,onClick:_=>s.fee_info.include_material_fee=!s.fee_info.include_material_fee},null,8,["id","value","checked","onClick"]),o("label",{for:"material_fee_"+u,class:"cursor-pointer"},"Material Fee: "+c(s.fee_info.currency_symbol)+c(s.fee_info.material_fee),9,Nt)]),s.fee_info.include_material_fee?(d(),f("div",Ut,[o("span",{for:"material_fee_discount_"+u},"Discount: ",8,It),s.fee_info.include_material_fee&&s.fee_info.material_fee&&s.fee_info.material_fee!=0?(d(),w(h,{key:0,min:"0",id:"material_fee_discount_"+u,type:"number",class:"text-xs h-6",placeholder:"Discount",modelValue:s.fee_info.material_fee_discount,"onUpdate:modelValue":_=>s.fee_info.material_fee_discount=_},null,8,["id","modelValue","onUpdate:modelValue"])):p("",!0)])):p("",!0)])])):p("",!0),o("ul",Mt,[o("li",Ft,[o("div",jt,[o("div",xt,[a(P,{id:"old_fee_"+u,value:s.fee_info.use_old_fee,checked:s.fee_info.use_old_fee,onClick:_=>s.fee_info.use_old_fee=!s.fee_info.use_old_fee},null,8,["id","value","checked","onClick"]),o("label",{for:"old_fee_"+u,class:"cursor-pointer"},"Use old fee",8,Et)]),o("div",Dt,[o("span",Bt,c(s.fee_info.currency_symbol)+c(e.calculateTotal(u,s.fee_info.use_old_fee?s.fee_info.old_programme_fee:s.fee_info.programme_fee)),1),Lt])])])])]))),256))])):p("",!0),e.searching.class?p("",!0):(d(),f("div",Ot,[!e.enable_container.available_classes||e.enable_container.available_classes&&!e.form.fee.length&&!e.no_fee_found?(d(),f("span",Rt,"No classes have been selected.")):p("",!0),e.enable_container.available_classes&&!e.form.fee.length&&e.no_fee_found?(d(),f("span",zt,"Fees are not available for the selected classes.")):p("",!0)]))]),_:1},8,["modelValue"])],512),a(x,{open:e.add_new_promo.show,"onUpdate:open":l[37]||(l[37]=s=>e.add_new_promo.show=s),classProp:"max-w-md"},{title:t(()=>[r("Add Promotions")]),content:t(()=>[a(g,{items:e.$page.props.promos,"label-property":"promo_name","value-property":"promo_id",modelValue:e.selected_promo.promo_id,"onUpdate:modelValue":l[35]||(l[35]=s=>e.selected_promo.promo_id=s),"select-placeholder":"Select Promo","search-placeholder":"Search promo..."},null,8,["items","modelValue"])]),footer:t(()=>[a(v,{variant:"outline",onClick:l[36]||(l[36]=s=>e.add_new_promo.show=!1)},{default:t(()=>[r("Cancel")]),_:1}),a(v,{onClick:e.addNewClassPromo},{default:t(()=>[r("Add")]),_:1},8,["onClick"])]),_:1},8,["open"])]),footer:t(()=>[a(v,{variant:"outline",onClick:l[38]||(l[38]=s=>e.show_add_class=!1)},{default:t(()=>[r("Cancel")]),_:1}),e.form.fee.length?(d(),w(v,{key:0,onClick:l[39]||(l[39]=s=>e.addClass())},{default:t(()=>[r("Add")]),_:1})):p("",!0)]),_:1},8,["open"])]),_:1})],64)}}});export{ea as default};
