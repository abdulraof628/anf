import{b6 as V,q as i,x as d,v as n,u as v,P as p,F as f,y as e,B as C,K as m,bv as x,m as _,bu as y,C as b,G as l,V as a,z as w,t as P}from"./@vue-b5d553e1.js";import{B as O}from"./Authenticated-f12ae66a.js";import{B as g}from"./Button-a75e4165.js";import{L as j,H as F}from"./@inertiajs-df65e401.js";import{b as $,s as T}from"./@vueform-f7c8a6df.js";import{M as L}from"./Modal-55ec914b.js";import{C as D}from"./ConfirmationModal-d78f2deb.js";import"./ApplicationLogo-e2b93f7b.js";import"./app-6e1c5045.js";import"./axios-9cbf0d09.js";import"./pusher-js-1c63de54.js";import"./@vuepic-b5e5f2dc.js";import"./date-fns-60a02367.js";import"./@babel-1b80a44a.js";import"./cropperjs-28b7d936.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./radix-vue-09f0b006.js";import"./@floating-ui-6a5ebbeb.js";import"./clsx-0839fdbe.js";import"./tailwind-merge-642c57ff.js";import"./@vueuse-282a3f07.js";import"./class-variance-authority-f96983da.js";import"./@radix-icons-62a42a61.js";import"./lodash.isequal-f375c7a4.js";import"./vue-c49564f2.js";import"./lodash.clonedeep-375466af.js";import"./qs-120ae55f.js";import"./side-channel-a42ec8a2.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-f7269186.js";import"./deepmerge-89e33937.js";import"./nprogress-b3880cbb.js";import"./lucide-vue-next-967cc12e.js";import"./vue-final-modal-e9171ff2.js";import"./@heroicons-6bb93f0b.js";import"./@headlessui-1eabfa74.js";const q={class:"md:grid md:grid-cols-2"},M={class:"md:mt-0 md:col-span-2"},B={class:"px-4 py-5 space-y-6 sm:p-6"},N={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},U={class:"sm:row-span-3"},A={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},E=e("div",{class:"mb-5"},[e("h1",{class:"text-indigo-800 font-bold"},"Programme Information"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),z={class:"grid grid-cols-1 2xl:grid-cols-3 gap-4"},I={class:"mb-4"},R=e("label",{for:"programme_name",class:"block text-sm text-gray-700 font-bold"},[a(" Programme Name "),e("span",{class:"text-red-500"},"*")],-1),H={class:"mt-1 flex rounded-md shadow-sm"},G={class:"mb-4"},K=e("label",{for:"programme_country",class:"block text-sm text-gray-700 font-bold"},[a(" Centre Country "),e("span",{class:"text-red-500"},"*")],-1),Y={class:"mt-1 flex rounded-md shadow-sm"},J=e("option",{value:""},"Select a country",-1),Q=["value"],W={class:"mb-4"},X=e("label",{for:"progress_report_required",class:"block text-sm text-gray-700 font-bold"},[a(" Progress Report Required "),e("span",{class:"text-red-500"},"*")],-1),Z={class:"mt-1 flex rounded-md shadow-sm"},ee=e("option",{value:0},"No",-1),te=e("option",{value:1},"Yes",-1),oe=[ee,te],re={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},se={class:"sm:row-span-3"},ae={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},ie={class:"mb-5"},de={class:"flex justify-between items-end"},le=e("h1",{class:"text-indigo-800 font-bold"},"Programme Levels and Fees",-1),ne=e("div",{class:"border-b border-dashed border-indigo-900 mt-3"},null,-1),pe={class:"overflow-hidden border border-gray-800 rounded-t-sm rounded-b-none mt-3"},ce={class:"shadow shadow-gray-500 min-w-full divide-y divide-gray-800 text-sm"},ue=e("thead",{class:"bg-slate-700 text-white"},[e("tr",null,[e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Level"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Class Type"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Registration Fee"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Material Fee"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Old Fee"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"New Fee"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Material"),e("th",{class:"px-4 py-1 text-center border border-gray-400"},"Action")])],-1),me={key:0},fe=e("td",{colspan:"8",class:"py-4 text-center font-semibold text-sm italic"},"No Fees added.",-1),_e=[fe],be={else:"",class:"hover:bg-gray-200"},ge={class:"px-4 py-2 text-center border border-gray-400 text-sm text-gray-700",width:"1%"},he={class:"px-4 py-2 text-center border border-gray-400 text-sm text-gray-700",width:"8%"},ve={class:"px-4 py-2 text-center border border-gray-400 text-sm text-gray-700",width:"10%"},xe={class:"px-4 py-2 text-center border border-gray-400 text-sm text-gray-700",width:"8%"},ye={class:"px-4 py-2 text-center border border-gray-400 text-sm text-gray-700",width:"16%"},we={class:"flex flex-col items-start"},ke={class:"text-sm text-gray-700"},Te={class:"font-bold"},Le={class:"px-4 py-2 text-center border border-gray-400 text-sm text-gray-700",width:"20%"},$e={class:"flex space-x-4"},Se={class:"flex flex-col items-start"},Ve={class:"text-sm text-gray-700"},Ce={class:"font-bold"},Pe={class:"flex flex-1 flex-col justify-center items-end"},Oe=["onClick"],je={class:"px-4 py-2 text-left border border-gray-400",width:"13%"},Fe={class:"flex flex-col"},De={class:"text-sm text-gray-700 font-normal underline"},qe={class:"font-bold"},Me={class:"text-sm text-gray-700 italic"},Be={class:"font-semibold"},Ne={class:"text-sm text-gray-700 italic"},Ue={class:"font-semibold"},Ae={class:"px-4 py-2 text-center border border-gray-400",width:"5%"},Ee={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},ze={class:"flex justify-between items-center"},Ie={class:"flex space-x-2"},Re=e("label",{for:"",class:"block font-bold text-gray-700"},"Active",-1),He={class:"flex space-x-2"},Ge={class:"flex items-center justify-between py-3 px-4 border-b rounded-t font-semibold"},Ke=e("h3",{class:"text-gray-900 text-xl font-semibold"}," Add New Fee ",-1),Ye=e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Je=[Ye],Qe={class:"overflow-y-auto p-6",ref:"scrollableDiv"},We={class:"flex flex-col space-y-4"},Xe={class:""},Ze=e("div",{class:"mb-5"},[e("h1",{class:"text-indigo-800 font-bold"},"Fee Information"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),et={class:"grid grid-cols-1 sm:grid-cols-0 gap-0 sm:gap-4 items-end mb-3"},tt={class:"grow"},ot=e("label",{for:"programme_level",class:"block text-sm text-gray-700 font-bold"},[a(" Level "),e("span",{class:"text-red-500"},"*")],-1),rt={class:"mt-1 flex rounded-md shadow-sm"},st=e("option",{value:""},"Please select a level",-1),at=["value"],it={class:"grow"},dt=e("label",{for:"registration_fee",class:"block text-sm text-gray-700 font-bold"},[a(" Registration Fee "),e("span",{class:"text-red-500"},"*")],-1),lt={class:"mt-1 flex rounded-md shadow-sm"},nt={class:"grow"},pt=e("label",{for:"programme_material_fee",class:"block text-sm text-gray-700 font-bold"},[a(" Material Fee "),e("span",{class:"text-red-500"},"*")],-1),ct={class:"mt-1 flex rounded-md shadow-sm"},ut={class:"grow"},mt=e("label",{for:"class_type",class:"block text-sm text-gray-700 font-bold"},[a(" Class Type "),e("span",{class:"text-red-500"},"*")],-1),ft={class:"mt-1 flex rounded-md shadow-sm"},_t=e("option",{value:""},"-- Select Type --",-1),bt=["value"],gt={class:"grow"},ht={for:"class_type_detail",class:"block text-sm text-gray-700 font-bold"},vt=e("span",{class:"text-red-500"},"*",-1),xt={class:"mt-1 flex rounded-md shadow-sm"},yt=["onUpdate:modelValue"],wt={class:""},kt=e("div",{class:"mb-5"},[e("h1",{class:"text-indigo-800 font-bold"},"Material Information"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),Tt={class:"grid grid-cols-1"},Lt={class:"mb-4"},$t=e("label",{for:"product_category",class:"block text-sm text-gray-700 font-bold mb-2"}," Product Name ",-1),St={class:"mt-1 flex rounded-md shadow-sm"},Vt={key:0,class:"mb-4"},Ct=e("label",{for:"product_category",class:"block text-sm text-gray-700 font-bold mb-2"},[a(" Variation "),e("span",{class:"text-red-500"},"*")],-1),Pt={class:"mt-1 flex rounded-md shadow-sm"},Ot={key:1,class:"mb-4"},jt=e("label",{for:"product_category",class:"block text-sm text-gray-700 font-bold mb-2"},[a(" Sub Variation "),e("span",{class:"text-red-500"},"*")],-1),Ft={class:"mt-1 flex rounded-md shadow-sm z-50"},Dt={class:"flex justify-end space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},qt={class:"flex items-center justify-between py-3 px-4 border-b rounded-t font-semibold"},Mt=e("h3",{class:"text-gray-900 text-xl font-semibold"}," Edit Fee ",-1),Bt=e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Nt=[Bt],Ut={class:"overflow-y-auto p-6",ref:"scrollableDiv"},At={class:"flex flex-col space-y-4"},Et={class:""},zt={class:"grid grid-cols-1 sm:grid-cols-0 gap-0 sm:gap-4 items-end mb-3"},It={class:"grow"},Rt={for:"programme_material_fee",class:"block text-sm text-gray-700 font-bold"},Ht=e("span",{class:"text-red-500"},"*",-1),Gt={class:"mt-1 flex rounded-md shadow-sm"},Kt=["onUpdate:modelValue"],Yt={class:"flex justify-end space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},Jt={components:{Link:j,Toggle:$},mounted(){this.$page.props.programme_info.forEach(s=>{this.form.programme_info.push(s)})},data(){return{confirmation_modal:!1,confirmationTitle:"",confirmationText:"",confirmationAlert:"",confirmationButton:"",confirmationMethod:"",confirmationData:"",confirmationRoute:"",form:{programme_id:this.$page.props.programme_data?this.$page.props.programme_data.id:"",programme_country:this.$page.props.programme_data?this.$page.props.programme_data.country_id:"",programme_name:this.$page.props.programme_data?this.$page.props.programme_data.name:"",progress_report_required:this.$page.props.programme_data?this.$page.props.programme_data.progress_report_required:"",programme_info:[],programme_active:this.$page.props.programme_data?this.$page.props.programme_data.status:!1},fee_form:{level:"",registration_fee:0,material_fee:0,class_type:"",fees:[]},fee_edit_form:{new_item:!1,programme_info_index:"",data:[]},show:{add_fee:!1,edit_fee:!1,product_variations:!1,product_sub_variations:!1,add_tracking_status:!1},list:{products:[],product_variations:[],product_sub_variations:[],class_types_detail:[]},loading:{products:!1,product_variations:!1,product_sub_variations:!1},selected:{product:[],product_variation:[],product_sub_variation:[]},search_product_form:{product_id:"",product_variation_id:"",product_sub_variation_id:""},validation:{level:{required:!0,error:!1},registration_fee:{required:!0,error:!1},material_fee:{required:!0,error:!1},class_type:{required:!0,error:!1},product:{required:!1,error:!1},product_variation:{required:!1,error:!1},product_sub_variation:{required:!1,error:!1}}}},watch:{"fee_form.class_type":{handler(){this.list.class_types_detail=[],this.fee_form.fees=[],this.$page.props.class_types_detail.forEach(s=>{s.class_type_id==this.fee_form.class_type&&(this.list.class_types_detail.push(s),this.fee_form.fees.push({class_type_detail_id:s.id,value:1}))})},deep:!0},"search_product_form.product_id":{handler(){this.search_product_form.product_id&&(this.selected.product=this.list.products.find(s=>s.id===this.search_product_form.product_id),this.show.product_variations=this.selected.product.has_variation==1,this.show.product_sub_variations=this.selected.product.has_sub_variation==1,this.search_product_form.product_variation_id="",this.search_product_form.product_sub_variation_id="",this.selected.product_variation=[],this.selected.product_sub_variation=[])}},"search_product_form.product_variation_id":{handler(){this.search_product_form.product_variation_id&&(this.selected.product_variation=this.list.product_variations.find(s=>s.id===this.search_product_form.product_variation_id),this.search_product_form.product_sub_variation_id="",this.selected.product_sub_variation=[])}},"search_product_form.product_sub_variation_id":{handler(){this.search_product_form.product_sub_variation_id&&(this.selected.product_sub_variation=this.list.product_sub_variations.find(s=>s.id===this.search_product_form.product_sub_variation_id))}}},methods:{submit(){this.$inertia.post(route("programmes.update"),this.form)},showAddFee(){this.search_product_form.product_id="",this.search_product_form.product_variation_id="",this.search_product_form.product_sub_variation_id="",this.list.products=[],this.list.product_variations=[],this.list.product_sub_variations=[],this.selected.product=[],this.selected.product_variation=[],this.selected.product_sub_variation=[],this.show.product_variations=!1,this.show.product_sub_variations=!1,this.validation.product.error=!1,this.validation.product_variation.required=!1,this.validation.product_variation.error=!1,this.validation.product_sub_variation.required=!1,this.validation.product_sub_variation.error=!1,this.show.add_fee=!0},addFee(){if(this.validation.level.error=this.fee_form.level=="",this.validation.registration_fee.error=this.fee_form.registration_fee==="",this.validation.material_fee.error=this.fee_form.material_fee==="",this.validation.class_type.error=this.fee_form.class_type=="",this.validation.product.error=!!(this.validation.product.required&&!Object.keys(this.selected.product).length),this.validation.product_variation.required=this.selected.product.has_variation==1,this.validation.product_variation.error=this.selected.product.has_variation==1&&!Object.keys(this.selected.product_variation).length,this.validation.product_sub_variation.required=this.selected.product.has_sub_variation==1,this.validation.product_sub_variation.error=this.selected.product.has_sub_variation==1&&!Object.keys(this.selected.product_sub_variation).length,this.validation.product.required&&!Object.keys(this.selected.product).length||this.validation.product_variation.required&&!Object.keys(this.selected.product_variation).length||this.validation.product_sub_variation.required&&!Object.keys(this.selected.product_sub_variation).length||this.fee_form.level==""||this.fee_form.registration_fee===""||this.fee_form.material_fee===""||this.fee_form.class_type==""||this.fee_form.fees.length<1)return;const s=this.fee_form.fees;this.form.programme_info.push({level:this.fee_form.level,registration_fee:this.fee_form.registration_fee,material_fee:this.fee_form.material_fee,class_type:this.fee_form.class_type,fees:s,product:this.selected.product,product_variation:this.selected.product_variation,product_sub_variation:this.selected.product_sub_variation}),this.form.programme_info.sort((t,r)=>t.level-r.level),this.clearForm(),this.show.add_fee=!1},deleteLevel(s,t){if(!s){this.form.programme_info.splice(t,1);return}this.confirmationData=s,this.confirmation_modal=!0},numbersOnly(s){s=s||window.event;var t=s.which?s.which:s.keyCode;if(t>31&&(t<48||t>57)&&t!==46)s.preventDefault();else return!0},clearForm(){this.fee_form.level="",this.fee_form.registration_fee=0,this.fee_form.material_fee=0,this.fee_form.class_type="",this.fee_form.fees=[]},findProducts(s){s&&(this.loading.products=!0,axios.get(route("products.find_products"),{params:{keyword:s}}).then(t=>{this.list.products=t.data,this.loading.products=!1}).finally(()=>{this.scrollToEnd()}))},findProductVariations(){this.loading.product_variations=!0,axios.get(route("products.find_product_variations"),{params:{product_id:this.search_product_form.product_id}}).then(s=>{this.list.product_variations=s.data,this.loading.product_variations=!1}).finally(()=>{this.scrollToEnd()})},findProductSubVariations(){this.loading.product_sub_variations=!0,axios.get(route("products.find_product_sub_variations"),{params:{product_variation_id:this.search_product_form.product_variation_id}}).then(s=>{this.list.product_sub_variations=s.data,this.loading.product_sub_variations=!1}).finally(()=>{this.scrollToEnd()})},scrollToEnd(){setTimeout(()=>{const s=this.$refs.scrollableDiv;s.scrollTop=s.scrollHeight},10)},editFee(s,t){this.fee_edit_form.new_item=t,this.fee_edit_form.programme_info_index=s,this.fee_edit_form.data=[],this.fee_edit_form.data=this.form.programme_info[s].fees,this.show.edit_fee=!0},updateFee(){this.fee_edit_form.new_item?(this.form.programme_info[this.fee_edit_form.programme_info_index].fees=[],this.form.programme_info[this.fee_edit_form.programme_info_index].fees=this.fee_edit_form.data,this.show.edit_fee=!1):this.$inertia.patch(route("programmes.fee.update"),{fee_edit_form:this.fee_edit_form},{preserveState:!1})}}},Ho=Object.assign(Jt,{__name:"Edit",setup(s){return(t,r)=>{const S=V("debounce");return i(),d(f,null,[n(v(F),{title:"Programmes"}),n(O,null,{header:p(()=>[]),default:p(()=>[e("div",q,[e("div",M,[e("form",{onSubmit:r[5]||(r[5]=C((...o)=>t.submit&&t.submit(...o),["prevent"]))},[e("div",B,[e("div",N,[e("div",U,[e("div",A,[E,e("div",z,[e("div",I,[R,e("div",H,[m(e("input",{type:"text",name:"programme_name",id:"programme_name",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.programme_name?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[0]||(r[0]=o=>t.form.programme_name=o),autocomplete:"off"},null,2),[[x,t.form.programme_name]])])]),e("div",G,[K,e("div",Y,[m(e("select",{type:"text",name:"programme_country",id:"programme_country",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.programme_country?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[1]||(r[1]=o=>t.form.programme_country=o),autocomplete:"none"},[J,(i(!0),d(f,null,b(t.$page.props.countries,o=>(i(),d("option",{value:o.id},l(o.name),9,Q))),256))],2),[[y,t.form.programme_country]])])]),e("div",W,[X,e("div",Z,[m(e("select",{type:"text",name:"progress_report_required",id:"progress_report_required",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.progress_report_required?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[2]||(r[2]=o=>t.form.progress_report_required=o),autocomplete:"none"},oe,2),[[y,t.form.progress_report_required]])])])])])])]),e("div",re,[e("div",se,[e("div",ae,[e("div",ie,[e("div",de,[le,n(g,{buttonType:"info",onClick:t.showAddFee},{default:p(()=>[a("Add Fee")]),_:1},8,["onClick"])]),ne]),e("div",pe,[e("table",ce,[ue,e("tbody",null,[t.form.programme_info.length?w("",!0):(i(),d("tr",me,_e)),(i(!0),d(f,null,b(t.form.programme_info,(o,u)=>(i(),d("tr",be,[e("td",ge,l(o.level),1),e("td",he,l(t.$page.props.class_types[t.form.programme_info[u].class_type].name),1),e("td",ve,l(o.registration_fee),1),e("td",xe,l(o.material_fee),1),e("td",ye,[e("div",we,[(i(!0),d(f,null,b(o.fees,c=>{var h;return i(),d("p",ke,[a(l((h=t.$page.props.class_types_detail.find(k=>k.id===c.class_type_detail_id))==null?void 0:h.label)+" : ",1),e("span",Te,l(c.value),1)])}),256))])]),e("td",Le,[e("div",$e,[e("div",Se,[(i(!0),d(f,null,b(o.fees,c=>{var h;return i(),d("p",Ve,[a(l((h=t.$page.props.class_types_detail.find(k=>k.id===c.class_type_detail_id))==null?void 0:h.label)+" : ",1),e("span",Ce,l(c.new_fee_amount),1)])}),256))]),e("div",Pe,[e("span",{class:"font-semibold text-yellow-600 hover:underline cursor-pointer",onClick:c=>t.editFee(u,!o.programme_level_id)},"Edit",8,Oe)])])]),e("td",je,[e("div",Fe,[e("p",De,[e("span",qe,l(o.product.name),1)]),e("p",Me,[a("Variation : "),e("span",Be,l(o.product_variation.option_name?o.product_variation.option_name:"-"),1)]),e("p",Ne,[a("Sub Variation : "),e("span",Ue,l(o.product_sub_variation.option_name?o.product_sub_variation.option_name:"-"),1)])])]),e("td",Ae,[t.$page.props.can.delete_programmes?(i(),P(g,{key:0,buttonType:"danger",onClick:c=>t.deleteLevel(o.programme_level_id,u)},{default:p(()=>[a("Delete")]),_:2},1032,["onClick"])):w("",!0)])]))),256))])])])])])]),e("div",Ee,[e("div",ze,[e("div",Ie,[Re,n(v($),{modelValue:t.form.programme_active,"onUpdate:modelValue":r[3]||(r[3]=o=>t.form.programme_active=o),classes:{container:"inline-block",toggle:"flex w-12 h-5 rounded-full relative cursor-pointer transition items-center box-content border-2 text-xs leading-none",toggleOn:"bg-green-500 border-green-500 justify-start text-white",toggleOff:"bg-gray-400 border-gray-400 justify-end text-gray-700"}},null,8,["modelValue"])]),e("div",He,[n(g,{buttonType:"gray",url:t.route("programmes")},{default:p(()=>[a("Cancel")]),_:1},8,["url"]),n(g,{onClick:r[4]||(r[4]=o=>t.submit())},{default:p(()=>[a("Save")]),_:1})])])])])],32)])]),n(L,{showModal:t.show.add_fee,modalType:"sm",onHideModal:r[17]||(r[17]=o=>t.show.add_fee=!1)},{header:p(()=>[e("div",Ge,[Ke,e("button",{type:"button",onClick:r[6]||(r[6]=o=>t.show.add_fee=!1),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"default-modal"},Je)])]),content:p(()=>[e("div",Qe,[e("div",We,[e("div",Xe,[Ze,e("div",et,[e("div",tt,[ot,e("div",rt,[m(e("select",{name:"programme_level",id:"programme_level",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.validation.level.error?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[7]||(r[7]=o=>t.fee_form.level=o),autocomplete:"off"},[st,(i(),d(f,null,b(10,o=>e("option",{value:o},"Level "+l(o),9,at)),64))],2),[[y,t.fee_form.level]])])]),e("div",it,[dt,e("div",lt,[m(e("input",{type:"number",min:"0",name:"registration_fee",id:"registration_fee",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.validation.registration_fee.error?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[8]||(r[8]=o=>t.fee_form.registration_fee=o),autocomplete:"off"},null,2),[[x,t.fee_form.registration_fee]])])]),e("div",nt,[pt,e("div",ct,[m(e("input",{type:"number",min:"0",name:"programme_material_fee",id:"programme_material_fee",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.validation.material_fee.error?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[9]||(r[9]=o=>t.fee_form.material_fee=o),autocomplete:"off"},null,2),[[x,t.fee_form.material_fee]])])]),e("div",ut,[mt,e("div",ft,[m(e("select",{name:"class_type",id:"class_type",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.validation.class_type.error?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":r[10]||(r[10]=o=>t.fee_form.class_type=o),autocomplete:"off"},[_t,(i(!0),d(f,null,b(t.$page.props.class_types,(o,u)=>(i(),d("option",{value:o.id,key:u},l(o.name),9,bt))),128))],2),[[y,t.fee_form.class_type]])])]),(i(!0),d(f,null,b(t.list.class_types_detail,(o,u)=>(i(),d("div",gt,[e("label",ht,[a(l(o.label)+" ",1),vt]),e("div",xt,[m(e("input",{type:"number",min:"1",name:"class_type_detail",id:"class_type_detail",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.class_type_detail?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":c=>t.fee_form.fees[u].value=c,autocomplete:"off"},null,10,yt),[[x,t.fee_form.fees[u].value]])])]))),256))])]),e("div",wt,[kt,e("div",Tt,[e("div",Lt,[$t,e("div",St,[m(n(v(T),{ref:"multiselect",modelValue:t.search_product_form.product_id,"onUpdate:modelValue":r[11]||(r[11]=o=>t.search_product_form.product_id=o),onSelect:t.findProductVariations,onOpen:r[12]||(r[12]=o=>this.scrollToEnd()),valueProp:"id",loading:t.loading.products,placeholder:"Please enter some keywords",options:t.list.products,searchable:!0,noOptionsText:"Nothing found",noResultsText:"Nothing found",clearOnSelect:!0,canClear:!1,canDeselect:!1,"internal-search":!1,trackBy:"name",label:"name",classes:{container:t.validation.product.error?"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-red-300 rounded-md bg-white sm:text-sm leading-snug outline-none h-10":"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-300 rounded-md bg-white sm:text-sm leading-snug outline-none h-10",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-indigo-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full inset-0 outline-none focus:ring-0 appearance-none box-border border-0 sm:text-sm font-sans bg-white rounded-md pl-3.5",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-500",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-2 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-black-700",groupLabelSelected:"bg-gray-100 text-black",groupLabelSelectedPointed:"bg-gray-100 text-black opacity-90",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"}},null,8,["modelValue","onSelect","loading","options","classes"]),[[S,t.findProducts,"1s"]])])]),t.show.product_variations?(i(),d("div",Vt,[Ct,e("div",Pt,[n(v(T),{modelValue:t.search_product_form.product_variation_id,"onUpdate:modelValue":r[13]||(r[13]=o=>t.search_product_form.product_variation_id=o),onSelect:t.findProductSubVariations,onOpen:r[14]||(r[14]=o=>this.scrollToEnd()),valueProp:"id",loading:t.loading.product_variations,placeholder:"Select a variation",options:t.list.product_variations,searchable:!0,noOptionsText:"Nothing found",noResultsText:"Nothing found",clearOnSelect:!0,canClear:!1,canDeselect:!1,"internal-search":!1,trackBy:"option_name",label:"option_name",classes:{container:t.validation.product_variation.error?"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-red-300 rounded-md bg-white sm:text-sm leading-snug outline-none h-10":"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-300 rounded-md bg-white sm:text-sm leading-snug outline-none h-10",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-indigo-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full inset-0 outline-none focus:ring-0 appearance-none box-border border-0 sm:text-sm font-sans bg-white rounded-md pl-3.5",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-500",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-2 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-black-700",groupLabelSelected:"bg-gray-100 text-black",groupLabelSelectedPointed:"bg-gray-100 text-black opacity-90",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"}},null,8,["modelValue","onSelect","loading","options","classes"])])])):w("",!0),t.show.product_sub_variations?(i(),d("div",Ot,[jt,e("div",Ft,[n(v(T),{modelValue:t.search_product_form.product_sub_variation_id,"onUpdate:modelValue":r[15]||(r[15]=o=>t.search_product_form.product_sub_variation_id=o),onOpen:r[16]||(r[16]=o=>this.scrollToEnd()),valueProp:"id",loading:t.loading.product_sub_variations,placeholder:"Select a sub variation",options:t.list.product_sub_variations,searchable:!0,noOptionsText:"Nothing found",noResultsText:"Nothing found",clearOnSelect:!0,canClear:!1,canDeselect:!1,"internal-search":!1,trackBy:"option_name",label:"option_name",classes:{container:t.validation.product_sub_variation.error?"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-red-300 rounded-md bg-white sm:text-sm leading-snug outline-none h-10":"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-300 rounded-md bg-white sm:text-sm leading-snug outline-none h-10",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-indigo-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full inset-0 outline-none focus:ring-0 appearance-none box-border border-0 sm:text-sm font-sans bg-white rounded-md pl-3.5",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-500",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-2 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-black-700",groupLabelSelected:"bg-gray-100 text-black",groupLabelSelectedPointed:"bg-gray-100 text-black opacity-90",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"}},null,8,["modelValue","loading","options","classes"])])])):w("",!0)])])])],512)]),footer:p(()=>[e("div",Dt,[n(g,{buttonType:"info",onClick:t.addFee},{default:p(()=>[a("Add Fee")]),_:1},8,["onClick"])])]),_:1},8,["showModal"]),n(L,{showModal:t.show.edit_fee,modalType:"sm",onHideModal:r[20]||(r[20]=o=>t.show.edit_fee=!1)},{header:p(()=>[e("div",qt,[Mt,e("button",{type:"button",onClick:r[18]||(r[18]=o=>t.show.edit_fee=!1),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"default-modal"},Nt)])]),content:p(()=>[e("div",Ut,[e("div",At,[e("div",Et,[e("div",zt,[(i(!0),d(f,null,b(t.fee_edit_form.data,o=>{var u;return i(),d("div",It,[e("label",Rt,[a(l((u=t.$page.props.class_types_detail.find(c=>c.id===o.class_type_detail_id))==null?void 0:u.label),1),Ht]),e("div",Gt,[m(e("input",{type:"number",min:"0",name:"programme_material_fee",id:"programme_material_fee",class:_(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.validation.material_fee.error?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":c=>o.new_fee_amount=c,autocomplete:"off"},null,10,Kt),[[x,o.new_fee_amount]])])])}),256))])])])],512)]),footer:p(()=>[e("div",Yt,[n(g,{buttonType:"info",onClick:r[19]||(r[19]=o=>t.updateFee())},{default:p(()=>[a("Save")]),_:1})])]),_:1},8,["showModal"]),n(D,{show:t.confirmation_modal,onClose:r[21]||(r[21]=o=>t.confirmation_modal=!1),confirmationAlert:"danger",confirmationTitle:"Delete Fee",confirmationText:"Are you sure want to delete this fee? Changes will be made once you clicked <span class='font-bold text-red-500'>CONFIRM</span>. Please be certain and this action is irreversible!",confirmationButton:"Confirm",confirmationMethod:"delete",confirmationRoute:"programmes.fee.destroy",confirmationData:t.confirmationData},null,8,["show","confirmationData"])]),_:1})],64)}}});export{Ho as default};
