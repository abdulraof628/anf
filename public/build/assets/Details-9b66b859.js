import{c as m,b as w,u as C,w as k,F as N,H as K,L as ht,ac as q,o as g,d as l,f as ut,l as ft,j as _t,h as G,t as p,k as U}from"./app-ce10a2cd.js";import{B as pt}from"./Authenticated-ded627f0.js";import{B as F}from"./Button-557db638.js";import{r as vt}from"./PencilIcon-5e4b1dba.js";import{r as Q}from"./SearchIcon-d0792436.js";import{r as yt}from"./TrashIcon-fa6f32f4.js";import{C as mt}from"./ConfirmationModal-96796442.js";import{P as tt}from"./Pagination-b0101d71.js";import{h as z}from"./moment-fbc5633a.js";import{s as gt}from"./multiselect-062f2457.js";import{M as et}from"./Modal-c01b40eb.js";import"./auto-47003362.js";import{m as P,t as xt,e as f,f as bt,g as wt,v as kt,h as rt,i as I,A as Mt,P as Ct,c as At,j as It,k as Tt,C as X}from"./chart-df6387c1.js";import"./ApplicationLogo-344d520b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XIcon-876d70b9.js";import"./default.css_vue_type_style_index_0_src_true_lang-2af1d7b9.js";import"./transition-fc05968a.js";import"./VueFinalModal.esm-4aece0ba.js";/* empty css                                                              *//*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Z=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),T={toTextLines:function(t){var a=[],r;for(t=[].concat(t);t.length;)r=t.pop(),typeof r=="string"?a.unshift.apply(a,r.split(`
`)):Array.isArray(r)?t.push.apply(t,r):I(t)||a.unshift(""+r);return a},textSize:function(t,a,r){var e=[].concat(a),s=e.length,i=t.font,o=0,n;for(t.font=r.string,n=0;n<s;++n)o=Math.max(t.measureText(e[n]).width,o);return t.font=i,{height:s*r.lineHeight,width:o}},bound:function(t,a,r){return Math.max(t,Math.min(a,r))},arrayDiff:function(t,a){var r=t.slice(),e=[],s,i,o,n;for(s=0,o=a.length;s<o;++s)n=a[s],i=r.indexOf(n),i===-1?e.push([n,1]):r.splice(i,1);for(s=0,o=r.length;s<o;++s)e.push([r[s],-1]);return e},rasterize:function(t){return Math.round(t*Z)/Z}};function V(t,a){var r=a.x,e=a.y;if(r===null)return{x:0,y:-1};if(e===null)return{x:1,y:0};var s=t.x-r,i=t.y-e,o=Math.sqrt(s*s+i*i);return{x:o?s/o:0,y:o?i/o:-1}}function St(t,a,r,e,s){switch(s){case"center":r=e=0;break;case"bottom":r=0,e=1;break;case"right":r=1,e=0;break;case"left":r=-1,e=0;break;case"top":r=0,e=-1;break;case"start":r=-r,e=-e;break;case"end":break;default:s*=Math.PI/180,r=Math.cos(s),e=Math.sin(s);break}return{x:t,y:a,vx:r,vy:e}}var Pt=0,at=1,st=2,it=4,ot=8;function $(t,a,r){var e=Pt;return t<r.left?e|=at:t>r.right&&(e|=st),a<r.top?e|=ot:a>r.bottom&&(e|=it),e}function Et(t,a){for(var r=t.x0,e=t.y0,s=t.x1,i=t.y1,o=$(r,e,a),n=$(s,i,a),d,c,h;!(!(o|n)||o&n);)d=o||n,d&ot?(c=r+(s-r)*(a.top-e)/(i-e),h=a.top):d&it?(c=r+(s-r)*(a.bottom-e)/(i-e),h=a.bottom):d&st?(h=e+(i-e)*(a.right-r)/(s-r),c=a.right):d&at&&(h=e+(i-e)*(a.left-r)/(s-r),c=a.left),d===o?(r=c,e=h,o=$(r,e,a)):(s=c,i=h,n=$(s,i,a));return{x0:r,x1:s,y0:e,y1:i}}function j(t,a){var r=a.anchor,e=t,s,i;return a.clamp&&(e=Et(e,a.area)),r==="start"?(s=e.x0,i=e.y0):r==="end"?(s=e.x1,i=e.y1):(s=(e.x0+e.x1)/2,i=(e.y0+e.y1)/2),St(s,i,t.vx,t.vy,a.align)}var R={arc:function(t,a){var r=(t.startAngle+t.endAngle)/2,e=Math.cos(r),s=Math.sin(r),i=t.innerRadius,o=t.outerRadius;return j({x0:t.x+e*i,y0:t.y+s*i,x1:t.x+e*o,y1:t.y+s*o,vx:e,vy:s},a)},point:function(t,a){var r=V(t,a.origin),e=r.x*t.options.radius,s=r.y*t.options.radius;return j({x0:t.x-e,y0:t.y-s,x1:t.x+e,y1:t.y+s,vx:r.x,vy:r.y},a)},bar:function(t,a){var r=V(t,a.origin),e=t.x,s=t.y,i=0,o=0;return t.horizontal?(e=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(s=Math.min(t.y,t.base),o=Math.abs(t.base-t.y)),j({x0:e,y0:s+o,x1:e+i,y1:s,vx:r.x,vy:r.y},a)},fallback:function(t,a){var r=V(t,a.origin);return j({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:r.x,vy:r.y},a)}},b=T.rasterize;function Bt(t){var a=t.borderWidth||0,r=t.padding,e=t.size.height,s=t.size.width,i=-s/2,o=-e/2;return{frame:{x:i-r.left-a,y:o-r.top-a,w:s+r.width+a*2,h:e+r.height+a*2},text:{x:i,y:o,w:s,h:e}}}function $t(t,a){var r=a.chart.getDatasetMeta(a.datasetIndex).vScale;if(!r)return null;if(r.xCenter!==void 0&&r.yCenter!==void 0)return{x:r.xCenter,y:r.yCenter};var e=r.getBasePixel();return t.horizontal?{x:e,y:null}:{x:null,y:e}}function jt(t){return t instanceof Mt?R.arc:t instanceof Ct?R.point:t instanceof At?R.bar:R.fallback}function Rt(t,a,r,e,s,i){var o=Math.PI/2;if(i){var n=Math.min(i,s/2,e/2),d=a+n,c=r+n,h=a+e-n,u=r+s-n;t.moveTo(a,c),d<h&&c<u?(t.arc(d,c,n,-Math.PI,-o),t.arc(h,c,n,-o,0),t.arc(h,u,n,0,o),t.arc(d,u,n,o,Math.PI)):d<h?(t.moveTo(d,r),t.arc(h,c,n,-o,o),t.arc(d,c,n,o,Math.PI+o)):c<u?(t.arc(d,c,n,-Math.PI,0),t.arc(d,u,n,0,Math.PI)):t.arc(d,c,n,-Math.PI,Math.PI),t.closePath(),t.moveTo(a,r)}else t.rect(a,r,e,s)}function Dt(t,a,r){var e=r.backgroundColor,s=r.borderColor,i=r.borderWidth;!e&&(!s||!i)||(t.beginPath(),Rt(t,b(a.x)+i/2,b(a.y)+i/2,b(a.w)-i,b(a.h)-i,r.borderRadius),t.closePath(),e&&(t.fillStyle=e,t.fill()),s&&i&&(t.strokeStyle=s,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}function zt(t,a,r){var e=r.lineHeight,s=t.w,i=t.x,o=t.y+e/2;return a==="center"?i+=s/2:(a==="end"||a==="right")&&(i+=s),{h:e,w:s,x:i,y:o}}function Lt(t,a,r){var e=t.shadowBlur,s=r.stroked,i=b(r.x),o=b(r.y),n=b(r.w);s&&t.strokeText(a,i,o,n),r.filled&&(e&&s&&(t.shadowBlur=0),t.fillText(a,i,o,n),e&&s&&(t.shadowBlur=e))}function Ot(t,a,r,e){var s=e.textAlign,i=e.color,o=!!i,n=e.font,d=a.length,c=e.textStrokeColor,h=e.textStrokeWidth,u=c&&h,v;if(!(!d||!o&&!u))for(r=zt(r,s,n),t.font=n.string,t.textAlign=s,t.textBaseline="middle",t.shadowBlur=e.textShadowBlur,t.shadowColor=e.textShadowColor,o&&(t.fillStyle=i),u&&(t.lineJoin="round",t.lineWidth=h,t.strokeStyle=c),v=0,d=a.length;v<d;++v)Lt(t,a[v],{stroked:u,filled:o,w:r.w,x:r.x,y:r.y+r.h*v})}var nt=function(t,a,r,e){var s=this;s._config=t,s._index=e,s._model=null,s._rects=null,s._ctx=a,s._el=r};P(nt.prototype,{_modelize:function(t,a,r,e){var s=this,i=s._index,o=xt(f([r.font,{}],e,i)),n=f([r.color,bt.color],e,i);return{align:f([r.align,"center"],e,i),anchor:f([r.anchor,"center"],e,i),area:e.chart.chartArea,backgroundColor:f([r.backgroundColor,null],e,i),borderColor:f([r.borderColor,null],e,i),borderRadius:f([r.borderRadius,0],e,i),borderWidth:f([r.borderWidth,0],e,i),clamp:f([r.clamp,!1],e,i),clip:f([r.clip,!1],e,i),color:n,display:t,font:o,lines:a,offset:f([r.offset,4],e,i),opacity:f([r.opacity,1],e,i),origin:$t(s._el,e),padding:wt(f([r.padding,4],e,i)),positioner:jt(s._el),rotation:f([r.rotation,0],e,i)*(Math.PI/180),size:T.textSize(s._ctx,a,o),textAlign:f([r.textAlign,"start"],e,i),textShadowBlur:f([r.textShadowBlur,0],e,i),textShadowColor:f([r.textShadowColor,n],e,i),textStrokeColor:f([r.textStrokeColor,n],e,i),textStrokeWidth:f([r.textStrokeWidth,0],e,i)}},update:function(t){var a=this,r=null,e=null,s=a._index,i=a._config,o,n,d,c=f([i.display,!0],t,s);c&&(o=t.dataset.data[s],n=kt(rt(i.formatter,[o,t]),o),d=I(n)?[]:T.toTextLines(n),d.length&&(r=a._modelize(c,d,i,t),e=Bt(r))),a._model=r,a._rects=e},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,a){var r=this,e=t.ctx,s=r._model,i=r._rects,o;this.visible()&&(e.save(),s.clip&&(o=s.area,e.beginPath(),e.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),e.clip()),e.globalAlpha=T.bound(0,s.opacity,1),e.translate(b(a.x),b(a.y)),e.rotate(s.rotation),Dt(e,i.frame,s),Ot(e,s.lines,i.text,s),e.restore())}});var Wt=Number.MIN_SAFE_INTEGER||-9007199254740991,Nt=Number.MAX_SAFE_INTEGER||9007199254740991;function A(t,a,r){var e=Math.cos(r),s=Math.sin(r),i=a.x,o=a.y;return{x:i+e*(t.x-i)-s*(t.y-o),y:o+s*(t.x-i)+e*(t.y-o)}}function J(t,a){var r=Nt,e=Wt,s=a.origin,i,o,n,d,c;for(i=0;i<t.length;++i)o=t[i],n=o.x-s.x,d=o.y-s.y,c=a.vx*n+a.vy*d,r=Math.min(r,c),e=Math.max(e,c);return{min:r,max:e}}function D(t,a){var r=a.x-t.x,e=a.y-t.y,s=Math.sqrt(r*r+e*e);return{vx:(a.x-t.x)/s,vy:(a.y-t.y)/s,origin:t,ln:s}}var lt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};P(lt.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,a,r){this._rotation=r,this._rect={x:a.x+t.x,y:a.y+t.y,w:a.w,h:a.h}},contains:function(t){var a=this,r=1,e=a._rect;return t=A(t,a.center(),-a._rotation),!(t.x<e.x-r||t.y<e.y-r||t.x>e.x+e.w+r*2||t.y>e.y+e.h+r*2)},intersects:function(t){var a=this._points(),r=t._points(),e=[D(a[0],a[1]),D(a[0],a[3])],s,i,o;for(this._rotation!==t._rotation&&e.push(D(r[0],r[1]),D(r[0],r[3])),s=0;s<e.length;++s)if(i=J(a,e[s]),o=J(r,e[s]),i.max<o.min||o.max<i.min)return!1;return!0},_points:function(){var t=this,a=t._rect,r=t._rotation,e=t.center();return[A({x:a.x,y:a.y},e,r),A({x:a.x+a.w,y:a.y},e,r),A({x:a.x+a.w,y:a.y+a.h},e,r),A({x:a.x,y:a.y+a.h},e,r)]}});function dt(t,a,r){var e=a.positioner(t,a),s=e.vx,i=e.vy;if(!s&&!i)return{x:e.x,y:e.y};var o=r.w,n=r.h,d=a.rotation,c=Math.abs(o/2*Math.cos(d))+Math.abs(n/2*Math.sin(d)),h=Math.abs(o/2*Math.sin(d))+Math.abs(n/2*Math.cos(d)),u=1/Math.max(Math.abs(s),Math.abs(i));return c*=s*u,h*=i*u,c+=a.offset*s,h+=a.offset*i,{x:e.x+c,y:e.y+h}}function Ft(t,a){var r,e,s,i;for(r=t.length-1;r>=0;--r)for(s=t[r].$layout,e=r-1;e>=0&&s._visible;--e)i=t[e].$layout,i._visible&&s._box.intersects(i._box)&&a(s,i);return t}function Vt(t){var a,r,e,s,i,o,n;for(a=0,r=t.length;a<r;++a)e=t[a],s=e.$layout,s._visible&&(n=new Proxy(e._el,{get:(d,c)=>d.getProps([c],!0)[c]}),i=e.geometry(),o=dt(n,e.model(),i),s._box.update(o,i,e.rotation()));return Ft(t,function(d,c){var h=d._hidable,u=c._hidable;h&&u||u?c._visible=!1:h&&(d._visible=!1)})}var S={prepare:function(t){var a=[],r,e,s,i,o;for(r=0,s=t.length;r<s;++r)for(e=0,i=t[r].length;e<i;++e)o=t[r][e],a.push(o),o.$layout={_box:new lt,_hidable:!1,_visible:!0,_set:r,_idx:o._index};return a.sort(function(n,d){var c=n.$layout,h=d.$layout;return c._idx===h._idx?h._set-c._set:h._idx-c._idx}),this.update(a),a},update:function(t){var a=!1,r,e,s,i,o;for(r=0,e=t.length;r<e;++r)s=t[r],i=s.model(),o=s.$layout,o._hidable=i&&i.display==="auto",o._visible=s.visible(),a|=o._hidable;a&&Vt(t)},lookup:function(t,a){var r,e;for(r=t.length-1;r>=0;--r)if(e=t[r].$layout,e&&e._visible&&e._box.contains(a))return t[r];return null},draw:function(t,a){var r,e,s,i,o,n;for(r=0,e=a.length;r<e;++r)s=a[r],i=s.$layout,i._visible&&(o=s.geometry(),n=dt(s._el,s.model(),o),i._box.update(n,o,s.rotation()),s.draw(t,n))}},Ht=function(t){if(I(t))return null;var a=t,r,e,s;if(Tt(t))if(!I(t.label))a=t.label;else if(!I(t.r))a=t.r;else for(a="",r=Object.keys(t),s=0,e=r.length;s<e;++s)a+=(s!==0?", ":"")+r[s]+": "+t[r[s]];return""+a},Yt={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Ht,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},_="$datalabels",ct="$default";function qt(t,a){var r=t.datalabels,e={},s=[],i,o;return r===!1?null:(r===!0&&(r={}),a=P({},[a,r]),i=a.labels||{},o=Object.keys(i),delete a.labels,o.length?o.forEach(function(n){i[n]&&s.push(P({},[a,i[n],{_key:n}]))}):s.push(a),e=s.reduce(function(n,d){return It(d.listeners||{},function(c,h){n[h]=n[h]||{},n[h][d._key||ct]=c}),delete d.listeners,n},{}),{labels:s,listeners:e})}function H(t,a,r,e){if(a){var s=r.$context,i=r.$groups,o;a[i._set]&&(o=a[i._set][i._key],o&&rt(o,[s,e])===!0&&(t[_]._dirty=!0,r.update(s)))}}function Gt(t,a,r,e,s){var i,o;!r&&!e||(r?e?r!==e&&(o=i=!0):o=!0:i=!0,o&&H(t,a.leave,r,s),i&&H(t,a.enter,e,s))}function Ut(t,a){var r=t[_],e=r._listeners,s,i;if(!(!e.enter&&!e.leave)){if(a.type==="mousemove")i=S.lookup(r._labels,a);else if(a.type!=="mouseout")return;s=r._hovered,r._hovered=i,Gt(t,e,s,i,a)}}function Xt(t,a){var r=t[_],e=r._listeners.click,s=e&&S.lookup(r._labels,a);s&&H(t,e,s,a)}var Zt={id:"datalabels",defaults:Yt,beforeInit:function(t){t[_]={_actives:[]}},beforeUpdate:function(t){var a=t[_];a._listened=!1,a._listeners={},a._datasets=[],a._labels=[]},afterDatasetUpdate:function(t,a,r){var e=a.index,s=t[_],i=s._datasets[e]=[],o=t.isDatasetVisible(e),n=t.data.datasets[e],d=qt(n,r),c=a.meta.data||[],h=t.ctx,u,v,L,O,E,W,x,y;for(h.save(),u=0,L=c.length;u<L;++u)if(x=c[u],x[_]=[],o&&x&&t.getDataVisibility(u)&&!x.skip)for(v=0,O=d.labels.length;v<O;++v)E=d.labels[v],W=E._key,y=new nt(E,h,x,u),y.$groups={_set:e,_key:W||ct},y.$context={active:!1,chart:t,dataIndex:u,dataset:n,datasetIndex:e},y.update(y.$context),x[_].push(y),i.push(y);h.restore(),P(s._listeners,d.listeners,{merger:function(M,B,Y){B[M]=B[M]||{},B[M][a.index]=Y[M],s._listened=!0}})},afterUpdate:function(t){t[_]._labels=S.prepare(t[_]._datasets)},afterDatasetsDraw:function(t){S.draw(t,t[_]._labels)},beforeEvent:function(t,a){if(t[_]._listened){var r=a.event;switch(r.type){case"mousemove":case"mouseout":Ut(t,r);break;case"click":Xt(t,r);break}}},afterEvent:function(t){var a=t[_],r=a._actives,e=a._actives=t.getActiveElements(),s=T.arrayDiff(r,e),i,o,n,d,c,h,u;for(i=0,o=s.length;i<o;++i)if(c=s[i],c[1])for(u=c[0].element[_]||[],n=0,d=u.length;n<d;++n)h=u[n],h.$context.active=c[1]===1,h.update(h.$context);(a._dirty||s.length)&&(S.update(a._labels),t.render()),delete a._dirty}};const Jt={class:"py-4 px-4"},Kt={class:"mx-auto"},Qt={class:"align-middle inline-block min-w-full"},te={class:"flex justify-between mb-4"},ee={class:"flex space-x-2"},re={class:"flex relative text-gray-400 focus-within:text-gray-600"},ae={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},se={class:"min-w-full divide-y divide-gray-200"},ie=l("thead",{class:"bg-gray-300"},[l("tr",null,[l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/14"},"#"),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-3/14"},"Level"),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Result"),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Date Taken"),l("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Action")])],-1),oe={class:"bg-white divide-y divide-gray-200"},ne={key:0},le=l("td",{class:"text-center",colspan:"10"},[l("div",{class:"p-3"}," No Record Found! ")],-1),de=[le],ce={class:"px-6 py-4 whitespace-nowrap"},he={class:"text-sm font-medium text-gray-700"},ue={class:"px-6 py-4 whitespace-nowrap"},fe={class:"text-sm font-medium text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap"},pe={class:"text-sm font-medium text-gray-900"},ve={class:"px-6 py-4 whitespace-nowrap"},ye={class:"text-sm font-medium text-gray-900"},me={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},ge={class:"flex justify-center space-x-2"},xe={key:0,class:"flex items-center space-x-2"},be=l("svg",{class:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",viewBox:"0 0 24 24"},null,-1),we=l("span",null,"Generating...",-1),ke=[be,we],Me={key:1},Ce=l("h3",{class:"text-gray-900 text-xl font-semibold"}," Diagnostic Test Report ",-1),Ae={class:"h-[297mm] overflow-y-auto no-scrollbar",id:"report"},Ie={class:"flex flex-col justify-between space-y-2"},Te={class:"grid grid-rows-1"},Se={class:"flex justify-center"},Pe={class:"font-bold text-slate-800 text-2xl py-4 uppercase"},Ee={class:"grid grid-rows-1"},Be={class:"grid grid-cols-2 px-4 space-x-4"},$e=l("div",{class:"flex items-center justify-center border-2 p-6 rounded-lg h-[300px]"},[l("div",{id:"chart_image"}),l("canvas",{id:"scatter-chart",class:"hidden m-0"}),l("canvas",{id:"bar-chart",class:"hidden m-0"})],-1),je={class:"border-2 p-6 rounded-lg"},Re={class:"mt-2 divide-y divide-gray-300"},De={class:"py-3 flex justify-between text-sm font-medium"},ze=l("dt",{class:"text-gray-500 min-w-[70px]"},"Name : ",-1),Le={class:"text-gray-900 break-word"},Oe={class:"py-3 flex justify-between text-sm font-medium"},We=l("dt",{class:"text-gray-500"},"Age :",-1),Ne={class:"text-gray-900"},Fe={class:"py-3 flex justify-between text-sm font-medium"},Ve=l("dt",{class:"text-gray-500"},"Result :",-1),He={class:"text-gray-900"},Ye={class:"py-3 flex justify-between text-sm font-medium"},qe=l("dt",{class:"text-gray-500"},"Date :",-1),Ge={class:"text-gray-900"},Ue={class:"py-3 flex justify-between text-sm font-medium"},Xe=l("dt",{class:"text-gray-500"},"Time :",-1),Ze={class:"text-gray-900"},Je={class:"grid grid-rows-1"},Ke={class:"grid grid-cols-1"},Qe={class:"flex justify-center px-4"},tr={class:"w-full"},er=l("thead",{class:"text-xs font-semibold uppercase text-gray-400 bg-indigo-100"},[l("tr",null,[l("th",{class:"p-2 whitespace-nowrap border-2 rounded-tr",width:"3"},[l("div",{class:"flex justify-center font-semibold text-left text-gray-700"},"#")]),l("th",{class:"p-2 whitespace-nowrap border-2"},[l("div",{class:"flex font-semibold justify-center text-gray-700"},"Question")]),l("th",{class:"p-2 whitespace-nowrap border-2 w-8"},[l("div",{class:"flex justify-center font-semibold text-left text-gray-700"},"Result")])])],-1),rr={class:"text-sm divide-y divide-gray-100"},ar={class:"p-2 whitespace-nowrap border-2 text-center align-middle"},sr={class:"p-2 whitespace-nowrap border-2 align-middle"},ir={class:"flex flex-wrap"},or={class:"whitespace-normal font-semibold"},nr={class:"p-2 whitespace-nowrap border-2 text-center align-middle"},lr={class:"flex justify-center"},dr={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-check-circle-fill text-green-500",viewBox:"0 0 16 16"},cr=l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},null,-1),hr=[cr],ur={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-x-circle-fill text-red-500",viewBox:"0 0 16 16"},fr=l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"},null,-1),_r=[fr],pr={class:"flex justify-between space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},vr={name:"_blank",specs:[],styles:["http://127.0.0.1:8000/css/app.css"],timeout:1e3,autoClose:!0,windowTitle:window.document.title},yr={components:{SearchIcon:Q,TrashIcon:yt,PencilIcon:vt,ConfirmationModal:mt,Head:K,Link:ht,Multiselect:gt,Modal:et,Pagination:tt},props:{filter:Object},data(){return{current_chart_type:"",processing:!1,processing_item:[],bar_chart:"",scatter_chart:"",show_report:!1,report:{title:"",name:"",age:"",result:"",datetime:""},params:{search:this.filter.search?this.filter.search:""},chart_data:{categories:{label:[],data:[]},total_answers:4},answer_data:[]}},watch:{params:{handler(){this.params&&this.$inertia.get(this.route("diagnostic_test.saved_result.details"),this.params,{replace:!0,preserveState:!0})},deep:!0}},methods:{async waitTwoSeconds(){await new Promise(t=>setTimeout(t,2e3))},print(){this.current_chart_type==1?(document.getElementById("bar-chart").style.display="none",document.getElementById("chart_image").style.display="block"):(document.getElementById("scatter-chart").style.display="none",document.getElementById("chart_image").style.display="block"),this.waitTwoSeconds(),this.$htmlToPaper("report",vr,()=>{this.current_chart_type==1?(document.getElementById("bar-chart").style.display="block",document.getElementById("chart_image").style.display="none"):(document.getElementById("scatter-chart").style.display="block",document.getElementById("chart_image").style.display="none")})},viewReport(t,a,r,e){this.current_chart_type=e,this.processing=!0,this.processing_item[t].process=!0,this.chart_data.total_answers=r,this.bar_chart&&this.bar_chart.destroy(),this.scatter_chart&&this.scatter_chart.destroy(),this.displayChart(t,a,e)},displayChart(t,a,r){q.get(route("diagnostic_test.get_dt_categories"),{params:{dt_id:a,chart_type:r}}).then(e=>{this.chart_data.categories.label=e.data.label,this.chart_data.categories.data=e.data.data,this.chart_data.categories.data=this.splitResultByCategory(t),this.initChart(r),this.initAnswers(t),this.initInfos(t)}).catch(e=>{console.error(e)})},initChart(t){if(t==1){let r=document.getElementById("bar-chart").getContext("2d");const e=new X(r,{type:"bar",data:{labels:this.chart_data.categories.label,datasets:[{data:this.chart_data.categories.data,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{onComplete:function(){document.getElementById("chart_image").innerHTML='<img src="'+this.toBase64Image()+'">'}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",color:"#000000",font:{size:14},formatter:function(s,i){return s}}},scales:{y:{min:0,max:this.chart_data.total_answers,stepSize:1,ticks:{beginAtZero:!0}},x:{min:0,max:this.chart_data.total_answers,stepSize:1,ticks:{beginAtZero:!0}}},ticks:{precision:0}},plugins:[Zt]});this.bar_chart=e}if(t==2){const a=this.chart_data.total_answers,r={id:"scatterArbitraryLine",beforeDatasetDraw(n,d,c){const{ctx:h,chartArea:{top:u,bottom:v,left:L,right:O,width:E,height:W},scales:{x,y}}=n;M();function M(B,Y,mr,gr){h.save(),h.beginPath(),h.strokeStyle="rgba(170, 170, 170, 1)",h.lineWidth=3,h.moveTo(x.getPixelForValue(0),y.getPixelForValue(0)),h.lineTo(x.getPixelForValue(a),y.getPixelForValue(a)),h.stroke(),h.restore()}}},e={id:"scatterAnnotationLine",beforeDraw:n=>{if(n.tooltip._active&&n.tooltip._active.length){const d=n.ctx;d.save();const c=n.tooltip._active[0];d.beginPath(),d.moveTo(c.element.x,n.chartArea.top),d.lineTo(c.element.x,c.element.y),d.lineWidth=2,d.strokeStyle="white",d.stroke(),d.restore(),d.beginPath(),d.moveTo(c.element.x,c.element.y),d.lineTo(c.element.x,n.chartArea.bottom),d.lineWidth=2,d.strokeStyle="red",d.stroke(),d.restore(),d.beginPath(),d.moveTo(n.chartArea.left,c.element.y),d.lineTo(c.element.x,c.element.y),d.lineWidth=2,d.strokeStyle="red",d.stroke(),d.restore()}}};let i=document.getElementById("scatter-chart").getContext("2d");const o=new X(i,{type:"scatter",data:{labels:this.chart_data.total_answers,datasets:[{data:[{x:this.chart_data.categories.data[0],y:this.chart_data.categories.data[1]}],borderColor:"rgba(255, 8, 0, 1)",pointStyle:"crossRot",radius:6,hoverRadius:10,fill:!1}]},options:{animation:{onComplete:function(){document.getElementById("chart_image").innerHTML='<img src="'+this.toBase64Image()+'">'}},plugins:{legend:{display:!1}},scales:{y:{min:0,max:this.chart_data.total_answers,stepSize:1,ticks:{beginAtZero:!0},title:{display:!0,text:"Operations"}},x:{min:0,max:this.chart_data.total_answers,stepSize:1,ticks:{beginAtZero:!0},title:{display:!0,text:"Numbers"}}},ticks:{precision:0}},plugins:[r,e]});this.scatter_chart=o}},splitResultByCategory(t){const r=this.$page.props.answer_record.data[t].answer_record.filter(s=>s.correct).reduce((s,i)=>(i.correct&&(s[i.question_category_id]?s[i.question_category_id]++:s[i.question_category_id]=1),s),{}),e={};return Object.keys(r).forEach((s,i)=>{e[i]=r[s]}),Object.values(e)},initAnswers(t){this.answer_data=this.$page.props.answer_record.data[t].answer_record},initInfos(t){q.get(route("diagnostic_test.get_saved_result_info"),{params:{result_id:this.$page.props.result_id}}).then(a=>{this.report.title=this.$page.props.answer_record.data[t].dt_name,this.report.name=a.data.child_name,this.report.age=a.data.child_age,this.report.result=this.$page.props.answer_record.data[t].total_correct_answers+"/"+this.$page.props.answer_record.data[t].total_answers,this.report.datetime=z(a.data.created_at).format("DD/MM/YYYY, hh:mm A"),this.show_report=!0,this.processing=!1,this.processing_item[t].process=!1}).catch(a=>{console.error(a)})}},created(){this.$page.props.answer_record.data.map(()=>{this.processing_item.push({process:!1})})}},Wr=Object.assign(yr,{__name:"Details",setup(t){return(a,r)=>(g(),m(N,null,[w(C(K),{title:"Diagnostic Test"}),w(pt,null,{header:k(()=>[]),default:k(()=>[l("div",Jt,[l("div",Kt,[l("div",Qt,[l("div",te,[l("div",ee,[l("div",re,[w(C(Q),{class:"text-gray-600 h-4 w-4 fill-current pointer-events-none absolute top-1/4 left-3",style:"top:30%"}),ut(l("input",{class:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg focus:ring-0 focus:border-gray-300 appearance-none block pl-10",type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>a.params.search=e),placeholder:"Search"},null,512),[[ft,a.params.search]])])])]),l("div",ae,[l("table",se,[ie,l("tbody",oe,[a.$page.props.answer_record.data.length?_t("",!0):(g(),m("tr",ne,de)),(g(!0),m(N,null,G(a.$page.props.answer_record.data,(e,s)=>(g(),m("tr",{class:"hover:bg-gray-200",key:e.id},[l("td",ce,[l("div",he,p(s+1),1)]),l("td",ue,[l("div",fe,p(e.dt_name),1)]),l("td",_e,[l("div",pe,p(e.total_correct_answers+"/"+e.total_answers),1)]),l("td",ve,[l("div",ye,p(C(z)(e.created_at).format("DD/MM/YYYY")),1)]),l("td",me,[l("div",ge,[w(F,{buttonType:"blue",class:"py-1 px-2",onClick:i=>!a.processing_item[s].process&&!a.processing?a.viewReport(s,e.dt_id,e.total_answers,e.chart_type):""},{default:k(()=>[a.processing_item[s].process&&a.processing?(g(),m("div",xe,ke)):(g(),m("span",Me,"View Report"))]),_:2},1032,["onClick"])])])]))),128))])]),w(tt,{page_data:a.$page.props.answer_record,params:"&result_id="+a.$page.props.result_id},null,8,["page_data","params"]),w(et,{showModal:a.show_report,onHideModal:r[2]||(r[2]=e=>a.show_report=!1)},{header:k(()=>[Ce]),content:k(()=>[l("div",Ae,[l("div",Ie,[l("div",Te,[l("div",Se,[l("h1",Pe,"Diagnostic Test "+p(a.report.title),1)])]),l("div",Ee,[l("div",Be,[$e,l("div",je,[l("dl",Re,[l("div",De,[ze,l("dd",Le,p(a.report.name),1)]),l("div",Oe,[We,l("dd",Ne,p(a.report.age),1)]),l("div",Fe,[Ve,l("dd",He,p(a.report.result),1)]),l("div",Ye,[qe,l("dd",Ge,p(C(z)(a.report.datetime).format("DD/MM/Y")),1)]),l("div",Ue,[Xe,l("dd",Ze,p(C(z)(a.report.datetime).format("h:mm A")),1)])])])])]),l("div",Je,[l("div",Ke,[l("div",Qe,[l("table",tr,[er,l("tbody",rr,[(g(!0),m(N,null,G(a.answer_data,(e,s)=>(g(),m("tr",null,[l("td",ar,p(++s),1),l("td",sr,[l("div",ir,[l("p",or,p(e.question),1)])]),l("td",nr,[l("div",lr,[e.correct?(g(),m("svg",dr,hr)):(g(),m("svg",ur,_r))])])]))),256))])])])])])])])]),footer:k(()=>[l("div",pr,[w(F,{buttonType:"info",onClick:a.print},{default:k(()=>[U("Print")]),_:1},8,["onClick"]),w(F,{buttonType:"gray",onClick:r[1]||(r[1]=e=>a.show_report=!1)},{default:k(()=>[U("Close")]),_:1})])]),_:1},8,["showModal"])])])])])]),_:1})],64))}});export{Wr as default};
