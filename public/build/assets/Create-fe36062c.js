import{B as b}from"./Authenticated-862af612.js";import{H as w,L as k}from"./@inertiajs-2b766590.js";import{_ as f}from"./Card-e1e522a8.js";import{a as V,_ as C}from"./index-00245fcf.js";import{_ as q}from"./AlertTitle-0b250229.js";import $ from"./SingleChoice-c385627a.js";import R from"./MultipleChoices-4b76d7be.js";import U from"./MatrixSorting-f5ce04cb.js";import{e as B}from"./@radix-icons-9ff33614.js";import{x as g,v as r,u as m,O as a,F as D,b7 as c,q as d,U as l,y as t,t as h,B as p}from"./@vue-39dc9ff3.js";import"./ApplicationLogo-5cf6e77e.js";import"./radix-vue-a603168c.js";import"./@floating-ui-c05b1c1f.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-31ea0dbe.js";import"./axios-1779699b.js";import"./pusher-js-68b5c933.js";import"./@vueform-8fb84cf1.js";import"./@vuepic-a83e4355.js";import"./@babel-1b80a44a.js";import"./cropperjs-042b647f.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-e9930861.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-c14271ca.js";import"./lodash.isequal-0acc53e7.js";import"./vue-46d666fa.js";import"./lodash.clonedeep-12c784b4.js";import"./qs-45a3326f.js";import"./side-channel-401220dd.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-ac0241aa.js";import"./deepmerge-89e33937.js";import"./nprogress-87ee1729.js";import"./lucide-vue-next-7b48dc26.js";import"./index-137b05ab.js";const I={class:"grid grid-cols-1 xl:grid-cols-3 gap-4"},L=t("span",{class:"text-red-500"},"*",-1),S=t("span",{class:"text-red-500"},"*",-1),T=t("span",{class:"text-red-500"},"*",-1),F={class:"flex flex-col space-y-2"},M=t("br",null,null,-1),N={class:"grid grid-cols-1 gap-4"},A=t("span",{class:"text-red-500"},"*",-1),E=t("span",{class:"text-red-500"},"*",-1),P=t("span",{class:"text-red-500"},"*",-1),j=t("span",{class:"text-red-500"},"*",-1),H={class:"space-y-1 text-center"},O=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),G={class:"flex text-sm text-gray-600"},Q={class:"browse text-indigo-400 hover:text-indigo-800 cursor-pointer font-bold"},Y={ref:"inside_image",id:"file",class:"sr-only",type:"file",accept:"image/*"},z=t("p",{class:"pl-1"},"or drag and drop an image",-1),J=t("p",{class:"text-xs text-gray-500"},"Image Format : PNG, JPG",-1),W={key:1,class:"w-1/4 relative group mt-2"},X={class:"absolute w-full h-full hover:bg-black hover:opacity-75 hidden group-hover:block"},x=t("div",{class:"pl-[0.65rem]"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),K=t("span",{class:"text-white"},"Remove",-1),Z=[x,K],ee=["src"],y=window.URL||window.webkitURL,te=/^image\/\w+$/,oe={components:{Head:w,Link:k},data(){return{data:{type:Object,default:()=>({})},showUpload:!0,showImage:!1,question_types:[{id:1,name:"Single Choice"},{id:2,name:"Multiple Choices"},{id:4,name:"Fill in the Blank"}],form:{dt_id:this.$page.props.diagnostic_test_id||"",redirect_url:this.$page.props.redirect_url||"",category_id:"",redirect_yes:"",redirect_no:"",question_type:"",question:"",remarks:"",image_url:"",image_file:"",question_answer_data:[]}}},methods:{submit(){this.$inertia.post(route("dt.settings.details.store"),this.form,{preserveState:!0})},read(s,e){return new Promise((o,n)=>{if(!s){o();return}te.test(s.type)?y?o({loaded:!0,name:s.name,type:s.type,url:y.createObjectURL(s)}):n(new Error("Your browser is not supported.")):n(new Error("Please select a valid image file."))})},change({target:s}){const{files:e}=s;e&&e.length>0&&this.read(e[0],s).then(o=>{this.form.image_url=o.url,this.form.image_file=e,this.showUpload=!1,this.showImage=!0,this.update(o)}).catch(this.alert)},dragover(s){s.preventDefault()},drop(s){const{files:e}=s.dataTransfer;s.preventDefault(),e&&e.length>0&&this.read(e[0],s).then(o=>{this.form.image_url=o.url,this.form.image_file=e,this.showUpload=!1,this.showImage=!0,this.update(o)}).catch(this.alert)},alert(s){window.alert(s&&s.message?s.message:s)},update(s){Object.assign(this.data,s)},removeImage(){this.form.image_url="",this.showImage=!1,this.showUpload=!0},appendToForm(s){this.form.question_answer_data=s}}},Ze=Object.assign(oe,{__name:"Create",setup(s){return(e,o)=>{const n=c("Label"),u=c("ComboBox"),_=c("Textarea"),v=c("Button");return d(),g(D,null,[r(m(w),{title:"Diagnostic Test"}),r(b,null,{header:a(()=>[]),default:a(()=>[r(f,null,{title:a(()=>[l("Basic Information")]),content:a(()=>[t("div",I,[t("div",null,[r(n,null,{default:a(()=>[l("Category"),L]),_:1}),r(u,{items:e.$page.props.diagnostic_test_categories,"label-property":"name","value-property":"id",error:e.$page.props.errors.category_id,modelValue:e.form.category_id,"onUpdate:modelValue":o[0]||(o[0]=i=>e.form.category_id=i),"select-placeholder":"Select Category","search-placeholder":"Search category..."},null,8,["items","error","modelValue"])]),t("div",null,[r(n,null,{default:a(()=>[l("Redirection (Correct)"),S]),_:1}),r(u,{items:e.$page.props.diagnostic_test_list,"label-property":"question","value-property":"id",error:e.$page.props.errors.redirect_yes,modelValue:e.form.redirect_yes,"onUpdate:modelValue":o[1]||(o[1]=i=>e.form.redirect_yes=i),"select-placeholder":"Default (No Redirection)","search-placeholder":"Search redirection..."},null,8,["items","error","modelValue"])]),t("div",null,[r(n,null,{default:a(()=>[l("Redirection (Wrong)"),T]),_:1}),r(u,{items:e.$page.props.diagnostic_test_list,"label-property":"question","value-property":"id",error:e.$page.props.errors.redirect_no,modelValue:e.form.redirect_no,"onUpdate:modelValue":o[2]||(o[2]=i=>e.form.redirect_no=i),"select-placeholder":"Default (No Redirection)","search-placeholder":"Search redirection..."},null,8,["items","error","modelValue"])])])]),_:1}),r(f,null,{title:a(()=>[l("Question Details")]),content:a(()=>[e.form.question_type==4?(d(),h(m(C),{key:0,class:"bg-sky-200 text-slate-900 mb-3"},{default:a(()=>[r(m(B),{class:"h-4 w-4"}),r(m(q),{class:"font-bold mb-3 underline"},{default:a(()=>[l("Notes")]),_:1}),r(m(V),null,{default:a(()=>[t("div",F,[r(n,null,{default:a(()=>[l("Please wrap the answer with [ ] for the system to automatically replace it with blank spaces, but only in the question field.")]),_:1}),r(n,{class:"font-semibold text-sky-900"},{default:a(()=>[l("ALFA like to [play] football.")]),_:1}),M,r(n,null,{default:a(()=>[l("Use | to set multiple correct answers.")]),_:1}),r(n,{class:"font-semibold text-sky-900"},{default:a(()=>[l("ALFA like to [eat|drink|sleep].")]),_:1})])]),_:1})]),_:1})):p("",!0),t("div",N,[t("div",null,[r(n,null,{default:a(()=>[l("Type"),A]),_:1}),r(u,{items:e.question_types,"label-property":"name","value-property":"id",error:e.$page.props.errors.question_type,modelValue:e.form.question_type,"onUpdate:modelValue":o[3]||(o[3]=i=>e.form.question_type=i),"select-placeholder":"Select Type","search-placeholder":"Search type..."},null,8,["items","error","modelValue"])]),t("div",null,[r(n,null,{default:a(()=>[l("Question"),E]),_:1}),r(_,{rows:"3",error:e.$page.props.errors.question,modelValue:e.form.question,"onUpdate:modelValue":o[4]||(o[4]=i=>e.form.question=i)},null,8,["error","modelValue"])]),t("div",null,[r(n,null,{default:a(()=>[l("Remarks / Additional Notes"),P]),_:1}),r(_,{rows:"3",error:e.$page.props.errors.remarks,modelValue:e.form.remarks,"onUpdate:modelValue":o[5]||(o[5]=i=>e.form.remarks=i)},null,8,["error","modelValue"])]),t("div",null,[r(n,null,{default:a(()=>[l("Question Image"),j]),_:1}),e.showUpload?(d(),g("div",{key:0,class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",onChange:o[6]||(o[6]=(...i)=>e.change&&e.change(...i)),onDragover:o[7]||(o[7]=(...i)=>e.dragover&&e.dragover(...i)),onDrop:o[8]||(o[8]=(...i)=>e.drop&&e.drop(...i))},[t("div",H,[O,t("div",G,[t("label",Q,[l("Click here "),t("input",Y,null,512)]),z]),J])],32)):p("",!0),e.showImage?(d(),g("div",W,[t("div",X,[t("div",{class:"absolute cursor-pointer top-1/2 left-1/2 -translate-y-2/4 -translate-x-2/4 h-16 w-16 hover:text-red-500 text-red-600 transition ease-in-out hover:-translate-1 hover:scale-110 duration-100",alt:"Remove Image",onClick:o[9]||(o[9]=(...i)=>e.removeImage&&e.removeImage(...i))},Z)]),t("img",{class:"rounded w-full",src:e.form.image_url,alt:""},null,8,ee)])):p("",!0)])])]),_:1}),e.form.question_type==1?(d(),h($,{key:0,onReceivedData:e.appendToForm,prop_answers:[],action:"create"},null,8,["onReceivedData"])):p("",!0),e.form.question_type==2?(d(),h(R,{key:1,onReceivedData:e.appendToForm,prop_answers:[],action:"create"},null,8,["onReceivedData"])):p("",!0),e.form.question_type==3?(d(),h(U,{key:2,onReceivedData:e.appendToForm,prop_answers:[],action:"create"},null,8,["onReceivedData"])):p("",!0),r(f,null,{footer:a(()=>[r(v,{variant:"outline",onClick:o[10]||(o[10]=i=>e.$inertia.get(e.$page.props.redirect_url))},{default:a(()=>[l("Cancel")]),_:1}),r(v,{onClick:e.submit},{default:a(()=>[l("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})],64)}}});export{Ze as default};
