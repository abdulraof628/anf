import{o as f,c as m,d as n,E as je,G as De,f as k,l as E,b as j,w as W,F as x,h as D,n as Ve,t as H,j as B,k as U}from"./app-ce10a2cd.js";import{B as z}from"./Button-557db638.js";import{_ as Se}from"./_plugin-vue_export-helper-c27b6911.js";import{C as Fe}from"./ConfirmationModal-96796442.js";const Ie=t=>(je("data-v-e1956572"),t=t(),De(),t),Pe={class:"relative"},Le={key:0,class:"flex justify-center items-center relative w-24 h-24 border border-gray-400 cursor-pointer"},Me=["src"],We={key:1,class:"w-24 h-24 border-2 border-dashed border-gray-400 flex items-center justify-center cursor-pointer"},He=Ie(()=>n("p",{class:"text-gray-400"},"+",-1)),ze=[He],$e={methods:{resetInput(t){t.target.value=null}}},Ne=Object.assign($e,{__name:"UploadPreview",props:{previewUrl:{required:!0}},emits:["update:value"],setup(t,{emit:e}){return(a,i)=>(f(),m("div",null,[n("div",Pe,[t.previewUrl?(f(),m("div",Le,[n("img",{src:t.previewUrl,alt:"Preview",class:"object-fill w-full h-full",style:{margin:"0px"}},null,8,Me)])):(f(),m("div",We,ze)),n("input",{type:"file",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onInput:i[0]||(i[0]=r=>e("update:value",r.target.files[0])),onClick:i[1]||(i[1]=(...r)=>a.resetInput&&a.resetInput(...r))},null,32)])]))}}),Ge=Se(Ne,[["__scopeId","data-v-e1956572"]]);/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function ye(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,i)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ye(Object(a),!0).forEach(function(i){Ke(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Ue(i.key),i)}}function Ye(t,e,a){return e&&_e(t.prototype,e),a&&_e(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ke(t,e,a){return e=Ue(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},N.apply(this,arguments)}function qe(t,e){if(typeof t!="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var i=a.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ue(t){var e=qe(t,"string");return typeof e=="symbol"?e:String(e)}var Te={exports:{}};(function(t){typeof window>"u"||function(e){var a=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),r=i&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(i||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(d){var c,h,p,_,v,s,w,b,O;if(c=d.match(u),!c)throw new Error("invalid data URI");for(h=c[2]?c[1]:"text/plain"+(c[3]||";charset=US-ASCII"),p=!!c[4],_=d.slice(c[0].length),p?v=atob(_):v=decodeURIComponent(_),s=new ArrayBuffer(v.length),w=new Uint8Array(s),b=0;b<v.length;b+=1)w[b]=v.charCodeAt(b);return i?new Blob([r?w:s],{type:h}):(O=new o,O.append(s),O.getBlob(h))};e.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(d,c,h){var p=this;setTimeout(function(){h&&a.toDataURL&&l?d(l(p.toDataURL(c,h))):d(p.mozGetAsFile("blob",c))})}:a.toDataURL&&l&&(a.msToBlob?a.toBlob=function(d,c,h){var p=this;setTimeout(function(){(c&&c!=="image/png"||h)&&a.toDataURL&&l?d(l(p.toDataURL(c,h))):d(p.msToBlob(c))})}:a.toBlob=function(d,c,h){var p=this;setTimeout(function(){d(l(p.toDataURL(c,h)))})})),t.exports?t.exports=l:e.dataURLtoBlob=l}(window)})(Te);var we=Te.exports,Je=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},xe={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Qe=typeof window<"u"&&typeof window.document<"u",T=Qe?window:{},G=function(e){return e>0&&e<1/0},Ze=Array.prototype.slice;function ee(t){return Array.from?Array.from(t):Ze.call(t)}var et=/^image\/.+$/;function Z(t){return et.test(t)}function tt(t){var e=Z(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var Be=String.fromCharCode;function it(t,e,a){var i="",r;for(a+=e,r=e;r<a;r+=1)i+=Be(t.getUint8(r));return i}var at=T.btoa;function ke(t,e){for(var a=[],i=8192,r=new Uint8Array(t);r.length>0;)a.push(Be.apply(null,ee(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(e,";base64,").concat(at(a.join("")))}function ot(t){var e=new DataView(t),a;try{var i,r,o;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var u=e.byteLength,l=2;l+1<u;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){r=l;break}l+=1}if(r){var d=r+4,c=r+10;if(it(e,d,4)==="Exif"){var h=e.getUint16(c);if(i=h===18761,(i||h===19789)&&e.getUint16(c+2,i)===42){var p=e.getUint32(c+4,i);p>=8&&(o=c+p)}}}if(o){var _=e.getUint16(o,i),v,s;for(s=0;s<_;s+=1)if(v=o+s*12+2,e.getUint16(v,i)===274){v+=8,a=e.getUint16(v,i),e.setUint16(v,1,i);break}}}catch{a=1}return a}function rt(t){var e=0,a=1,i=1;switch(t){case 2:a=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:a,scaleY:i}}var nt=/\.\d*(?:0|9){12}\d*$/;function Ee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return nt.test(t)?Math.round(t*e)/e:t}function M(t){var e=t.aspectRatio,a=t.height,i=t.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",o=G(i),u=G(a);if(o&&u){var l=a*e;(r==="contain"||r==="none")&&l>i||r==="cover"&&l<i?a=i/e:i=a*e}else o?a=i/e:u&&(i=a*e);return{width:i,height:a}}function st(t){for(var e=ee(new Uint8Array(t)),a=e.length,i=[],r=0;r+3<a;){var o=e[r],u=e[r+1];if(o===255&&u===218)break;if(o===255&&u===216)r+=2;else{var l=e[r+2]*256+e[r+3],d=r+l+2,c=e.slice(r,d);i.push(c),r=d}}return i.reduce(function(h,p){return p[0]===255&&p[1]===225?h.concat(p):h},[])}function lt(t,e){var a=ee(new Uint8Array(t));if(a[2]!==255||a[3]!==224)return t;var i=a[4]*256+a[5],r=[255,216].concat(e,a.slice(4+i));return new Uint8Array(r)}var dt=T.ArrayBuffer,Q=T.FileReader,R=T.URL||T.webkitURL,ct=/\.\w+$/,ut=T.Compressor,ft=function(){function t(e,a){Xe(this,t),this.file=e,this.exif=[],this.image=new Image,this.options=$($({},xe),a),this.aborted=!1,this.result=null,this.init()}return Ye(t,[{key:"init",value:function(){var a=this,i=this.file,r=this.options;if(!Je(i)){this.fail(new Error("The first argument must be a File or Blob object."));return}var o=i.type;if(!Z(o)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!R||!Q){this.fail(new Error("The current browser does not support image compression."));return}dt||(r.checkOrientation=!1,r.retainExif=!1);var u=o==="image/jpeg",l=u&&r.checkOrientation,d=u&&r.retainExif;if(R&&!l&&!d)this.load({url:R.createObjectURL(i)});else{var c=new Q;this.reader=c,c.onload=function(h){var p=h.target,_=p.result,v={},s=1;l&&(s=ot(_),s>1&&N(v,rt(s))),d&&(a.exif=st(_)),l||d?!R||s>1?v.url=ke(_,o):v.url=R.createObjectURL(i):v.url=_,a.load(v)},c.onabort=function(){a.fail(new Error("Aborted to read the image with FileReader."))},c.onerror=function(){a.fail(new Error("Failed to read the image with FileReader."))},c.onloadend=function(){a.reader=null},l||d?c.readAsArrayBuffer(i):c.readAsDataURL(i)}}},{key:"load",value:function(a){var i=this,r=this.file,o=this.image;o.onload=function(){i.draw($($({},a),{},{naturalWidth:o.naturalWidth,naturalHeight:o.naturalHeight}))},o.onabort=function(){i.fail(new Error("Aborted to load the image."))},o.onerror=function(){i.fail(new Error("Failed to load the image."))},T.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(T.navigator.userAgent)&&(o.crossOrigin="anonymous"),o.alt=r.name,o.src=a.url}},{key:"draw",value:function(a){var i=this,r=a.naturalWidth,o=a.naturalHeight,u=a.rotate,l=u===void 0?0:u,d=a.scaleX,c=d===void 0?1:d,h=a.scaleY,p=h===void 0?1:h,_=this.file,v=this.image,s=this.options,w=document.createElement("canvas"),b=w.getContext("2d"),O=Math.abs(l)%180===90,X=(s.resize==="contain"||s.resize==="cover")&&G(s.width)&&G(s.height),V=Math.max(s.maxWidth,0)||1/0,S=Math.max(s.maxHeight,0)||1/0,F=Math.max(s.minWidth,0)||0,I=Math.max(s.minHeight,0)||0,A=r/o,g=s.width,y=s.height;if(O){var te=[S,V];V=te[0],S=te[1];var ie=[I,F];F=ie[0],I=ie[1];var ae=[y,g];g=ae[0],y=ae[1]}X&&(A=g/y);var oe=M({aspectRatio:A,width:V,height:S},"contain");V=oe.width,S=oe.height;var re=M({aspectRatio:A,width:F,height:I},"cover");if(F=re.width,I=re.height,X){var ne=M({aspectRatio:A,width:g,height:y},s.resize);g=ne.width,y=ne.height}else{var se=M({aspectRatio:A,width:g,height:y}),le=se.width;g=le===void 0?r:le;var de=se.height;y=de===void 0?o:de}g=Math.floor(Ee(Math.min(Math.max(g,F),V))),y=Math.floor(Ee(Math.min(Math.max(y,I),S)));var Re=-g/2,Oe=-y/2,Ae=g,Ce=y,Y=[];if(X){var ce=0,ue=0,K=r,q=o,fe=M({aspectRatio:A,width:r,height:o},{contain:"cover",cover:"contain"}[s.resize]);K=fe.width,q=fe.height,ce=(r-K)/2,ue=(o-q)/2,Y.push(ce,ue,K,q)}if(Y.push(Re,Oe,Ae,Ce),O){var me=[y,g];g=me[0],y=me[1]}w.width=g,w.height=y,Z(s.mimeType)||(s.mimeType=_.type);var he="transparent";_.size>s.convertSize&&s.convertTypes.indexOf(s.mimeType)>=0&&(s.mimeType="image/jpeg");var pe=s.mimeType==="image/jpeg";if(pe&&(he="#fff"),b.fillStyle=he,b.fillRect(0,0,g,y),s.beforeDraw&&s.beforeDraw.call(this,b,w),!this.aborted&&(b.save(),b.translate(g/2,y/2),b.rotate(l*Math.PI/180),b.scale(c,p),b.drawImage.apply(b,[v].concat(Y)),b.restore(),s.drew&&s.drew.call(this,b,w),!this.aborted)){var ve=function(P){if(!i.aborted){var be=function(L){return i.done({naturalWidth:r,naturalHeight:o,result:L})};if(P&&pe&&s.retainExif&&i.exif&&i.exif.length>0){var ge=function(L){return be(we(ke(lt(L,i.exif),s.mimeType)))};if(P.arrayBuffer)P.arrayBuffer().then(ge).catch(function(){i.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var C=new Q;i.reader=C,C.onload=function(J){var L=J.target;ge(L.result)},C.onabort=function(){i.fail(new Error("Aborted to read the compressed image with FileReader."))},C.onerror=function(){i.fail(new Error("Failed to read the compressed image with FileReader."))},C.onloadend=function(){i.reader=null},C.readAsArrayBuffer(P)}}else be(P)}};w.toBlob?w.toBlob(ve,s.mimeType,s.quality):ve(we(w.toDataURL(s.mimeType,s.quality)))}}},{key:"done",value:function(a){var i=a.naturalWidth,r=a.naturalHeight,o=a.result,u=this.file,l=this.image,d=this.options;if(R&&l.src.indexOf("blob:")===0&&R.revokeObjectURL(l.src),o)if(d.strict&&!d.retainExif&&o.size>u.size&&d.mimeType===u.type&&!(d.width>i||d.height>r||d.minWidth>i||d.minHeight>r||d.maxWidth<i||d.maxHeight<r))o=u;else{var c=new Date;o.lastModified=c.getTime(),o.lastModifiedDate=c,o.name=u.name,o.name&&o.type!==u.type&&(o.name=o.name.replace(ct,tt(o.type)))}else o=u;this.result=o,d.success&&d.success.call(this,o)}},{key:"fail",value:function(a){var i=this.options;if(i.error)i.error.call(this,a);else throw a}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=ut,t}},{key:"setDefaults",value:function(a){N(xe,a)}}]),t}();const mt={class:"w-full"},ht={class:"flex flex-col mb-10"},pt=n("div",{class:"mb-3"},[n("label",{class:"block text-sm text-gray-700 font-bold"}," Main Variation ")],-1),vt={class:"w-full bg-white shadow-md shadow-gray-400 border border-gray-400 rounded-md overflow-hidden"},bt={class:"border-b border-gray-200 px-8 py-6"},gt={class:"mb-4"},yt=n("label",{for:"variation_name",class:"block text-sm text-gray-700 font-bold"},[U(" Name "),n("span",{class:"text-red-500"},"*")],-1),_t={class:"mt-1 flex rounded-md shadow-sm"},wt={class:"mb-4"},xt={class:"flex items-center justify-between py-2"},kt=n("label",{class:"block text-sm text-gray-700 font-bold"},[U(" Options "),n("span",{class:"text-red-500"},"*")],-1),Et=["onUpdate:modelValue"],Ut=n("div",{class:"mb-3"},[n("label",{class:"block text-sm text-gray-700 font-bold"}," Sub Variation ")],-1),Tt={class:"w-full bg-white shadow-md shadow-gray-500 border border-gray-400 rounded-md overflow-hidden"},Bt={class:"border-b border-gray-200 px-8 py-6"},Rt={class:"mb-4"},Ot=n("label",{for:"sub_variation_name",class:"block text-sm text-gray-700 font-bold"},[U(" Name "),n("span",{class:"text-red-500"},"*")],-1),At={class:"mt-1 flex rounded-md shadow-sm"},Ct={class:"mb-4"},jt={class:"flex items-center justify-between py-2"},Dt=n("label",{class:"block text-sm text-gray-700 font-bold"},[U(" Options "),n("span",{class:"text-red-500"},"*")],-1),Vt=["onUpdate:modelValue"],St={key:0,class:"flex flex-col mb-3"},Ft={class:"overflow-auto"},It={class:"min-w-full divide-y divide-gray-200"},Pt={class:"bg-gray-300"},Lt={scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},Mt={key:0,scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},Wt=n("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Price",-1),Ht=n("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Stock",-1),zt={class:"bg-white divide-y divide-gray-200"},$t={key:0,class:""},Nt={class:"px-6 py-4 whitespace-nowrap"},Gt={class:"flex flex-col items-center p-2 m-2"},Xt=["for"],Yt={key:0,class:"px-6 py-4 whitespace-nowrap"},Kt={class:"flex flex-col items-center space-y-2"},qt=["for"],Jt={class:"px-6 py-4 whitespace-nowrap"},Qt={class:"flex flex-col justify-center items-center space-y-2"},Zt=["onUpdate:modelValue"],ei={class:"px-6 py-4 whitespace-nowrap"},ti={class:"flex flex-col justify-center items-center space-y-2"},ii=["onUpdate:modelValue"],ai={class:"px-6 py-4 whitespace-nowrap"},oi={class:"flex flex-col justify-center items-center space-y-2"},ri=["onUpdate:modelValue"],ni={class:"px-6 py-4 whitespace-nowrap"},si={class:"flex flex-col justify-center items-center space-y-2"},li=["onUpdate:modelValue"];function di(t,e){return new File([t],e,{type:t.type})}const ci={props:{detailed_info:Object,sub_variation_prop:Object},data(){return{sub_variations:this.sub_variation_prop?this.sub_variation_prop:{options:[{name:""}]},confirmation_modal:{is_open:!1,alert:"",title:"",text:"",button:"",method:"",route:"",data:"",preserveScroll:!0}}},watch:{sub_variations:{handler(){this.detailed_info.has_sub_variation==!0&&this.constructTable()},deep:!0},"detailed_info.variations.options":{handler(){this.detailed_info.variations.options.forEach(t=>{t.price||(t.price=0),t.stock||(t.stock=0),t.sub_variations.options.forEach(e=>{e.price||(e.price=0),e.stock||(e.stock=0)})})},deep:!0}},methods:{constructTable(){this.detailed_info.variations.options.forEach((t,e)=>{t.sub_variations.options.forEach((a,i)=>{a.name=this.sub_variations.options[i]?this.sub_variations.options[i].name:""})})},addVariation(){if(!this.sub_variations.options.some(e=>e.name!==""))this.detailed_info.variations.options.push({id:"",name:"",images:{file:null,value:null},price:0,stock:0,sub_variations:{options:[{id:"",name:"",price:0,stock:0}]}});else{const e={id:"",name:"",images:{file:null,value:null},price:0,stock:0,sub_variations:{options:[]}};this.detailed_info.variations.options.push(e);const a=this.detailed_info.variations.options.indexOf(e);this.sub_variations.options.forEach(i=>{this.detailed_info.variations.options[a].sub_variations.options.push({id:"",name:i.name,price:0,stock:0})})}},addSubVariation(){this.sub_variations.options.push({name:""}),this.detailed_info.variations.options.forEach((t,e)=>{t.sub_variations.options.push({id:"",name:"",price:0,stock:0})})},removeVariation(t,e){e?(this.confirmation_modal.is_open=!0,this.confirmation_modal.alert="danger",this.confirmation_modal.title="Are you sure?",this.confirmation_modal.text='This will delete the variation along with the sub variations. This action will be executed once you click the DELETE button. This action is <span class="text-red-600">IRREVERSIBLE</span>. Are you confirm?',this.confirmation_modal.button="DELETE",this.confirmation_modal.method="delete",this.confirmation_modal.route="products.delete_variation",this.confirmation_modal.data=e):this.detailed_info.variations.options.splice(t,1)},removeSubVariation(t){const e=[];this.detailed_info.variations.options.forEach(a=>{a.sub_variations.options[t].id&&e.push(a.sub_variations.options[t].id)}),e.length?(this.confirmation_modal.is_open=!0,this.confirmation_modal.alert="danger",this.confirmation_modal.title="Are you sure?",this.confirmation_modal.text="This will delete this sub variation for all variation in this product. This action will be executed once you click the DELETE button. This action is IRREVERSIBLE. Are you confirm?",this.confirmation_modal.button="DELETE",this.confirmation_modal.method="delete",this.confirmation_modal.route="products.delete_sub_variation",this.confirmation_modal.data={to_delete:e}):(this.detailed_info.variations.options.forEach(a=>{a.sub_variations.options.splice(t,1)}),this.sub_variations.options.splice(t,1))},handleFileChange(t,e){t&&this.compress(t,e)},compress(t,e){const a=this.detailed_info;new ft(t,{quality:.2,maxWidth:400,maxHeight:400,success(i){const r=URL.createObjectURL(i),o=di(i,Date.now()+".jpg");a.variations.options[e].images.file=o,a.variations.options[e].images.value=r}})},deleteImage(t){this.detailed_info.variations.options[t].images.file=null,this.detailed_info.variations.options[t].images.value=null},blobToFile(t,e){return new File([t],e,{type:t.type})},numbersOnly(t,e){t=t||window.event;var a=t.which?t.which:t.keyCode;if(a>31&&(a<48||a>57)&&a!==46)t.preventDefault();else{let i=t.target.value.trim();return i===""?i="0":i!=="0"&&i.startsWith("0")&&(i=i.replace(/^0+/,"")),t.target.value=i!==""?i:"0",!0}}}},ui=Object.assign(ci,{__name:"Variation",setup(t){return(e,a)=>(f(),m(x,null,[n("div",mt,[n("div",ht,[pt,n("div",vt,[n("div",bt,[n("div",gt,[yt,n("div",_t,[k(n("input",{type:"text",placeholder:"E.g. Level, ",id:"variation_name","onUpdate:modelValue":a[0]||(a[0]=i=>t.detailed_info.main_variation_name=i),class:"focus:ring-0 border-gray-300 focus:border-gray-400 flex-1 block w-full rounded-md sm:text-sm"},null,512),[[E,t.detailed_info.main_variation_name]])])]),n("div",wt,[n("div",null,[n("div",xt,[kt,j(z,{onClick:e.addVariation,buttonType:"info",class:"text-sm py-2 px-3"},{default:W(()=>[U("Add more option")]),_:1},8,["onClick"])]),(f(!0),m(x,null,D(t.detailed_info.variations.options,(i,r)=>(f(),m("div",{key:r,class:"mt-1 flex rounded-md shadow-sm"},[k(n("input",{type:"text",placeholder:"E.g. Level 1",class:"focus:ring-0 border-gray-300 focus:border-gray-400 flex-1 block rounded-tl-md rounded-bl-md sm:text-sm","onUpdate:modelValue":o=>i.name=o,autocomplete:"off"},null,8,Et),[[E,i.name]]),j(z,{buttonType:"danger",class:"h-full px-4 rounded-r rounded-l-none",onClick:o=>e.removeVariation(r,i.id)},{default:W(()=>[U("Remove")]),_:2},1032,["onClick"])]))),128))])])])])]),n("div",{class:Ve(["flex flex-col mb-10",{hidden:!t.detailed_info.has_sub_variation}])},[Ut,n("div",Tt,[n("div",Bt,[n("div",Rt,[Ot,n("div",At,[k(n("input",{type:"text",id:"sub_variation_name","onUpdate:modelValue":a[1]||(a[1]=i=>t.detailed_info.sub_variation_name=i),class:"focus:ring-0 border-gray-300 focus:border-gray-400 flex-1 block w-full rounded-md sm:text-sm"},null,512),[[E,t.detailed_info.sub_variation_name]])])]),n("div",Ct,[n("div",null,[n("div",jt,[Dt,j(z,{onClick:e.addSubVariation,buttonType:"info",class:"text-sm py-2 px-3"},{default:W(()=>[U("Add more option")]),_:1},8,["onClick"])]),(f(!0),m(x,null,D(e.sub_variations.options,(i,r)=>(f(),m("div",{key:r,class:"mt-1 flex rounded-md shadow-sm"},[k(n("input",{type:"text",placeholder:"option",class:"focus:ring-0 border-gray-300 focus:border-gray-400 flex-1 block rounded-tl-md rounded-bl-md sm:text-sm","onUpdate:modelValue":o=>i.name=o,autocomplete:"off"},null,8,Vt),[[E,i.name]]),j(z,{buttonType:"danger",class:"h-full px-4 rounded-r rounded-l-none",onClick:o=>e.removeSubVariation(r)},{default:W(()=>[U("Remove")]),_:2},1032,["onClick"])]))),128))])])])])],2),t.detailed_info.main_variation_name?(f(),m("div",St,[n("div",Ft,[n("table",It,[n("thead",Pt,[n("tr",null,[n("th",Lt,H(t.detailed_info.main_variation_name),1),t.detailed_info.has_sub_variation&&t.detailed_info.sub_variation_name&&e.sub_variations.options.some(i=>i.name!=="")?(f(),m("th",Mt,H(e.sub_variations.name),1)):B("",!0),Wt,Ht])]),n("tbody",zt,[(f(!0),m(x,null,D(t.detailed_info.variations.options,(i,r)=>(f(),m(x,null,[i.name.trim()!==""?(f(),m("tr",$t,[n("td",Nt,[n("div",Gt,[j(Ge,{previewUrl:i.images.value,"onUpdate:value":o=>e.handleFileChange(o,r)},null,8,["previewUrl","onUpdate:value"]),n("label",{for:i.name,class:"text-sm text-gray-500 text-center"},H(i.name),9,Xt)])]),t.detailed_info.has_sub_variation&&t.detailed_info.sub_variation_name&&e.sub_variations.options.some(o=>o.name!=="")?(f(),m("td",Yt,[(f(!0),m(x,null,D(i.sub_variations.options,(o,u)=>(f(),m("div",Kt,[o.name?(f(),m("label",{key:0,for:o.name,class:"py-3 text-sm text-gray-500 text-center"},H(o.name),9,qt)):B("",!0)]))),256))])):B("",!0),t.detailed_info.has_sub_variation&&t.detailed_info.sub_variation_name&&e.sub_variations.options.some(o=>o.name!=="")?(f(),m(x,{key:1},[n("td",Jt,[n("div",Qt,[(f(!0),m(x,null,D(i.sub_variations.options,(o,u)=>(f(),m(x,null,[o.name?k((f(),m("input",{key:0,type:"number",min:"0",onInput:a[2]||(a[2]=l=>e.numbersOnly(l)),class:"focus:ring-0 border-gray-300 focus:border-gray-400 rounded-md flex-1 block sm:text-sm","onUpdate:modelValue":l=>o.price=l,autocomplete:"off"},null,40,Zt)),[[E,o.price]]):B("",!0)],64))),256))])]),n("td",ei,[n("div",ti,[(f(!0),m(x,null,D(i.sub_variations.options,(o,u)=>(f(),m(x,null,[o.name?k((f(),m("input",{key:0,type:"number",min:"0",onInput:a[3]||(a[3]=l=>e.numbersOnly(l)),class:"focus:ring-0 border-gray-300 focus:border-gray-400 rounded-md flex-1 block sm:text-sm","onUpdate:modelValue":l=>o.stock=l,autocomplete:"off"},null,40,ii)),[[E,o.stock]]):B("",!0)],64))),256))])])],64)):(f(),m(x,{key:2},[n("td",ai,[n("div",oi,[k(n("input",{type:"number",min:"0",onInput:a[4]||(a[4]=o=>e.numbersOnly(o)),class:"focus:ring-0 border-gray-300 focus:border-gray-400 rounded-md flex-1 block sm:text-sm","onUpdate:modelValue":o=>i.price=o,autocomplete:"off"},null,40,ri),[[E,i.price]])])]),n("td",ni,[n("div",si,[k(n("input",{type:"number",min:"0",onInput:a[5]||(a[5]=o=>e.numbersOnly(o)),class:"focus:ring-0 border-gray-300 focus:border-gray-400 rounded-md flex-1 block sm:text-sm","onUpdate:modelValue":o=>i.stock=o,autocomplete:"off"},null,40,li),[[E,i.stock]])])])],64))])):B("",!0)],64))),256))])])])])):B("",!0)]),j(Fe,{show:e.confirmation_modal.is_open,onClose:a[6]||(a[6]=i=>e.confirmation_modal.is_open=!1),confirmationAlert:e.confirmation_modal.alert,confirmationTitle:e.confirmation_modal.title,confirmationText:e.confirmation_modal.text,confirmationButton:e.confirmation_modal.button,confirmationMethod:e.confirmation_modal.method,confirmationRoute:e.confirmation_modal.route,confirmationData:e.confirmation_modal.data,preserveScroll:e.confirmation_modal.preserveScroll,preserveState:e.confirmation_modal.preserveState},null,8,["show","confirmationAlert","confirmationTitle","confirmationText","confirmationButton","confirmationMethod","confirmationRoute","confirmationData","preserveScroll","preserveState"])],64))}}),bi=Object.freeze(Object.defineProperty({__proto__:null,default:ui},Symbol.toStringTag,{value:"Module"}));export{ft as C,Ge as U,bi as V,ui as _};
