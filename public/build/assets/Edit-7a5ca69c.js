import{r as z,o as i,c as a,a as d,u as h,w as c,F as y,H as T,L,d as t,l as E,q as l,n as p,t as u,h as m,v as g,e as x,m as k,i as $,g as n,s as C}from"./app-5e15892a.js";import{B as U}from"./Authenticated-68815c3a.js";import{B as f}from"./Button-fd124d2b.js";import{r as P}from"./PencilIcon-591e5a03.js";import{r as M}from"./SearchIcon-68a8f7d3.js";import{r as j}from"./TrashIcon-142cb07c.js";import{s as w}from"./multiselect-235355ab.js";import{C as V}from"./ConfirmationModal-369c600a.js";import{Z as S}from"./vue-datepicker-e535a6e1.js";import{h as B}from"./moment-55cb88ed.js";import{V as D}from"./VueFinalModal.esm-bdd17d2c.js";import"./ApplicationLogo-aa48633c.js";import"./XIcon-a5d69647.js";import"./perfect-scrollbar.esm-5c3761bd.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TimeAgo-cdef3f24.js";import"./transition-a46032cc.js";import"./keyboard-a6261cf8.js";const O={class:"md:grid md:grid-cols-2"},R={class:"md:mt-0 md:col-span-2"},F={class:"px-4 py-5 bg-indigo-50 space-y-6 sm:p-6"},A={class:"grid grid-rows-1 grid-cols-1 gap-4"},I={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},N=t("div",{class:"mb-5"},[t("h1",{class:"text-indigo-800 font-bold"},"User Information"),t("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),G={class:"grid grid-cols-2 gap-0 sm:gap-4"},H={class:"mb-4"},W={class:"flex justify-between"},Z=t("label",{for:"email",class:"block text-sm text-gray-700 font-bold"},[n(" Email "),t("span",{class:"text-red-500"},"*")],-1),q={key:0,for:"",class:"font-medium text-sm text-indigo-600"},K={key:1,for:"",class:"font-medium text-sm text-red-600"},Y={class:"mt-1 flex rounded-md shadow-sm"},J={class:"mb-4"},Q={class:"flex justify-between"},X=t("label",{for:"username",class:"block text-sm text-gray-700 font-bold"},[n(" Username "),t("span",{class:"text-red-500"},"*")],-1),ee={key:0,for:"",class:"font-medium text-sm text-indigo-600"},te={class:"mt-1 flex rounded-md shadow-sm"},oe={class:"grid grid-cols-1 sm:grid-cols-1 gap-0 sm:gap-4"},se={class:"mb-4"},re=t("label",{for:"full_name",class:"block text-sm text-gray-700 font-bold"},[n(" Full Name "),t("span",{class:"text-red-500"},"*")],-1),ie={class:"mt-1 flex rounded-md shadow-sm"},ae={class:"grid grid-cols-1 sm:grid-cols-2 gap-0 sm:gap-4"},ne={class:"mb-4"},le=t("label",{for:"country",class:"block text-sm text-gray-700 font-bold"},[n(" Country "),t("span",{class:"text-red-500"},"*")],-1),de={class:"mt-1 flex rounded-md shadow-sm"},pe={class:"mb-4"},ce=t("label",{for:"contact_number",class:"block text-sm text-gray-700 font-bold"},[n(" Contact Number "),t("span",{class:"text-red-500"},"*")],-1),me={class:"mt-1 flex rounded-md shadow-sm"},ue={class:"grid grid-cols-1 sm:grid-cols-2 gap-0 sm:gap-4"},ge={class:"mb-4"},fe=t("label",{for:"state",class:"block text-sm text-gray-700 font-bold"},[n(" State "),t("span",{class:"text-red-500"},"*")],-1),he={class:"mt-1 flex rounded-md shadow-sm"},be={class:"grid grid-cols-1 gap-4"},ye={class:"mb-4"},_e=t("label",{for:"address",class:"block text-sm text-gray-700 font-bold"},[n(" Address "),t("span",{class:"text-red-500"},"*")],-1),xe={class:"mt-1"},ve={key:0,class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},we=t("div",{class:"mb-5"},[t("h1",{class:"text-indigo-800 font-bold"},"User Roles"),t("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),ke={class:"grid grid-cols-1 sm:grid-cols-1 gap-0 sm:gap-4"},$e={class:"mb-4"},Ce={key:0,class:"flex py-1"},Se={class:"text-sm text-red-500"},Te={key:0,class:"mt-2"},Ve={class:"mb-2"},De=["for"],ze=["id","value","checked","onClick"],Le={class:"ml-2"},Ee={key:0,class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},Ue={key:0,class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},Pe=t("div",{class:"mb-5"},[t("h1",{class:"text-indigo-800 font-bold"},"Children Information"),t("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),Me={class:"grid grid-cols-1 sm:grid-cols-4 gap-0 sm:gap-4"},je={class:"mb-4"},Be=t("label",{for:"child_name",class:"block text-sm text-gray-700 font-bold"},[n(" Name "),t("span",{class:"text-red-500"},"*")],-1),Oe={class:"mt-1 flex rounded-md shadow-sm"},Re={class:"mb-4"},Fe=t("label",{for:"gender",class:"block text-sm font-bold text-gray-700"},[n(" Gender "),t("span",{class:"text-red-500"},"*")],-1),Ae={class:"mt-1 flex rounded-md shadow-sm"},Ie=t("option",{value:""},"-- Select Gender --",-1),Ne=["value"],Ge={class:"mb-4"},He=t("label",{for:"end_time",class:"block text-sm font-bold text-gray-700"},[n(" Date of Birth "),t("span",{class:"text-red-500"},"*")],-1),We={class:"mb-4 self-end"},Ze={class:"grid grid-cols-1 gap-0 sm:gap-4"},qe={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Ke={class:"min-w-full divide-y divide-gray-200"},Ye={class:"bg-gray-300"},Je=t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name",-1),Qe=t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Gender",-1),Xe=t("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date of Birth",-1),et={key:0,scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},tt={class:"bg-white divide-y divide-gray-200"},ot={key:0},st=t("td",{class:"text-center",colspan:"10"},[t("div",{class:"p-3"}," No Record Found! ")],-1),rt=[st],it={class:"hover:bg-gray-200"},at={class:"px-6 py-4 whitespace-nowrap text-sm"},nt={class:"px-6 py-4 whitespace-nowrap text-sm"},lt={class:"px-6 py-4 whitespace-nowrap text-center text-sm"},dt={key:0,class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},pt={class:"flex justify-center space-x-2"},ct={key:1,class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},mt={class:"sm:row-span-3"},ut={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},gt={class:"flex flex-row-reverse items-center justify-between"},ft={class:"flex space-x-2"},ht={class:"flex"},bt={id:"default-modal","data-modal-show":"true","aria-hidden":"true",class:"overflow-x-hidden overflow-y-auto h-modal md:h-full top-4 left-0 right-0 md:inset-0 z-50 justify-center items-center"},yt={class:"absolute top-[10%] inset-x-[20%]"},_t={class:"bg-white rounded-lg shadow relative"},xt={class:"flex items-center justify-between py-3 px-6 border-b rounded-t"},vt=t("span",{class:"text-lg font-semibold text-gray-700"},"Edit Child Details",-1),wt=t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),kt=[wt],$t={class:"p-6 space-y-2 overflow-y-auto",style:{"max-height":"calc(100vh - 350px)"}},Ct={class:"grid grid-cols-1 sm:grid-cols-3 gap-0 sm:gap-4"},St={class:"mb-4"},Tt=t("label",{for:"first_name",class:"block text-sm text-gray-700 font-bold"},[n(" Name "),t("span",{class:"text-red-500"},"*")],-1),Vt={class:"mt-1 flex rounded-md shadow-sm"},Dt={class:"mb-4"},zt=t("label",{for:"gender",class:"block text-sm font-bold text-gray-700"},[n(" Gender "),t("span",{class:"text-red-500"},"*")],-1),Lt={class:"mt-1 flex rounded-md shadow-sm"},Et=t("option",{value:""},"-- Select Gender --",-1),Ut=["value"],Pt={class:"mb-4"},Mt=t("label",{for:"end_time",class:"block text-sm font-bold text-gray-700"},[n(" Date of Birth "),t("span",{class:"text-red-500"},"*")],-1),jt=t("hr",{class:"pb-2"},null,-1),Bt={class:"grid grid-cols-1 sm:grid-cols-1 gap-0 sm:gap-4"},Ot={class:"flex justify-end space-x-2"},Rt={components:{SearchIcon:M,TrashIcon:j,PencilIcon:P,Head:T,Link:L,Multiselect:w,ConfirmationModal:V,VueFinalModal:D},created(){var r=this.selected_roles;Object.keys(this.$page.props.user_roles).forEach(function(e){r.push(parseInt(e))})},data(){return{processing:!1,showEdit:!1,isOpen:!1,confirmationAlert:"",confirmationTitle:"",confirmationText:"",confirmationButton:"",confirmationMethod:"",confirmationRoute:"",confirmationData:"",email_exist:!1,email_valid:!1,checking_email:!1,username_exist:!1,checking_username:!1,selected_roles:[],state_list:[],form:{email:this.$page.props.user_info?this.$page.props.user_info.user_email:"",username:this.$page.props.user_info?this.$page.props.user_info.user_login:"",full_name:this.$page.props.user_info?this.$page.props.user_info.display_name:"",calling_code:this.$page.props.user_info?this.$page.props.user_info.calling_code:"",contact_number:this.$page.props.user_info?this.$page.props.user_info.user_contact:"",address:this.$page.props.user_info?this.$page.props.user_info.user_address:"",country_id:this.$page.props.user_info?this.$page.props.user_info.user_country_id:"",country_state:this.$page.props.user_info?this.$page.props.user_info.user_state:"",country_code:this.$page.props.user_info?this.$page.props.user_info.country_code:"",children:this.$page.props.children?this.$page.props.children:[],valid:{email:!0,username:!0}},child_form:{parent_id:"",name:"",gender:"",dob:""},editForm:{edit_child_id:"",edit_name:"",edit_gender:"",edit_dob:""},loading:{country:!1,state:!1}}},watch:{"form.country_id":{handler(){this.form.country_id&&this.setCountryData(this.form.country_id)},immediate:!0}},methods:{submit(){this.$inertia.post(this.route("users.update"),{user_id:this.$page.props.user_info.user_id,selected_roles:this.selected_roles,form:this.form})},checkEmail(){this.form.email&&(this.isValidEmail(),this.email_valid?this.checking_email=!0:this.checking_email=!1)},checkUsername(){this.form.username?this.checking_username=!0:this.checking_username=!1},isValidEmail(){const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.email_valid=r.test(this.form.email),this.form.valid.email=r.test(this.form.email)},checkEmailExist(){axios.get("/api/find-email/"+this.form.email).then(r=>{r.data.length!=0&&this.form.email!=this.$page.props.user_info.user_email?(this.email_exist=!0,this.form.valid.email=!1):(this.email_exist=!1,this.form.valid.email=!0),this.checking_email=!1})},checkUsernameExist(){axios.get("/api/find-username/"+this.form.username).then(r=>{r.data.length!=0&&this.form.username!=this.$page.props.user_info.user_login?(this.username_exist=!0,this.form.valid.username=!1):(this.username_exist=!1,this.form.valid.username=!0),this.checking_username=!1})},resetPassword(r){this.confirmationAlert="danger",this.confirmationTitle="Warning",this.confirmationText="This user's password will be reset and new password will be sent to their email, are you sure want to proceed?",this.confirmationButton="Reset Password",this.confirmationMethod="post",this.confirmationRoute="users.reset_user_password",this.confirmationData=r,this.isOpen=!0},setCountryData(r){this.loading.state=!0,axios.get(route("countries.find",r)).then(e=>{this.setStateList(e.data.country_code),this.form.calling_code=e.data.calling_code,this.form.country_name=e.data.name,this.form.country_code=e.data.country_code}).catch(e=>{this.errored=!0})},setStateList(r){var e=this.state_list;e.splice(0),axios({method:"post",url:"https://countriesnow.space/api/v0.1/countries/states",headers:{"Content-Type":"application/json"},data:{iso2:r}}).then(s=>{s.data.data.states.forEach(function(_){e.push(_.name)}),this.loading.state=!1})},clearState(){this.form.country_state=""},selectRole(r,e){r.target.checked?this.selected_roles.push(e):this.selected_roles=this.selected_roles.filter(s=>s!==e)},addChild(){this.child_form.parent_id=this.$page.props.user_info.user_id,this.$inertia.post(route("children.store"),this.child_form,{preserveScroll:!0,preserveState:!1})},updateChild(){this.$inertia.post(route("children.update"),this.editForm,{preserveScroll:!0,preserveState:!1,onSuccess:r=>{this.showEdit=!1}})},deleteChild(r){this.confirmationAlert="danger",this.confirmationTitle="Warning",this.confirmationText="This child will be deleted permanently, are you sure want to proceed?",this.confirmationButton="Delete",this.confirmationMethod="delete",this.confirmationRoute="children.destroy",this.confirmationData=r,this.isOpen=!0},editChild(r){this.processing=!0,axios.get(route("children.edit"),{params:{child_id:r}}).then(e=>{this.editForm.edit_child_id=r,this.editForm.edit_name=e.data.name,this.editForm.edit_gender=e.data.gender_id,this.editForm.edit_dob=e.data.date_of_birth,this.showEdit=!0,this.processing=!1})},hasPermission(r){return this.$page.props.can.hasOwnProperty(r)&&this.$page.props.can[r]}}},ro=Object.assign(Rt,{__name:"Edit",setup(r){return(e,s)=>{const _=z("debounce");return i(),a(y,null,[d(h(T),{title:"Users"}),d(U,null,{header:c(()=>[]),default:c(()=>[t("div",O,[t("div",R,[t("form",{onSubmit:s[15]||(s[15]=E((...o)=>e.submit&&e.submit(...o),["prevent"]))},[t("div",F,[t("div",A,[t("div",I,[N,t("div",G,[t("div",H,[t("div",W,[Z,e.form.email!=e.$page.props.user_info.user_email&&e.checking_email?(i(),a("label",q," Checking Email...")):l("",!0),e.form.email!=e.$page.props.user_info.user_email&&e.form.email!=""&!e.email_valid?(i(),a("label",K," Invalid Email ")):l("",!0),e.form.email!=e.$page.props.user_info.user_email&&!e.checking_email&&e.form.email!=""&e.email_valid?(i(),a("label",{key:2,for:"",class:p(["font-medium text-sm",e.email_exist?"text-red-700":"text-green-700"])},u(e.email_exist?"Email address has been used.":"Email address is available."),3)):l("",!0)]),t("div",Y,[m(t("input",{type:"email",name:"username",id:"username",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md",e.email_exist||e.$page.props.errors.email?"border-red-300":"border-gray-300"]),onKeyup:s[0]||(s[0]=o=>e.checkEmail()),"onUpdate:modelValue":s[1]||(s[1]=o=>e.form.email=o),autocomplete:"none"},null,34),[[_,e.checkEmailExist,"1s"],[g,e.form.email,void 0,{lazy:!0}]])])]),t("div",J,[t("div",Q,[X,e.form.username!=e.$page.props.user_info.user_login&&e.checking_username?(i(),a("label",ee," Checking Username...")):l("",!0),e.form.username!=e.$page.props.user_info.user_login&&!e.checking_username&&e.form.username!=""?(i(),a("label",{key:1,for:"",class:p(["font-medium text-sm",e.username_exist?"text-red-700":"text-green-700"])},u(e.username_exist?"Username has been taken.":"Username is available."),3)):l("",!0)]),t("div",te,[m(t("input",{type:"text",name:"username",id:"username",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md",e.username_exist||e.$page.props.errors.email?"border-red-300":"border-gray-300"]),onKeyup:s[2]||(s[2]=o=>e.checkUsername()),"onUpdate:modelValue":s[3]||(s[3]=o=>e.form.username=o),autocomplete:"none"},null,34),[[_,e.checkUsernameExist,"1s"],[g,e.form.username,void 0,{lazy:!0}]])])])]),t("div",oe,[t("div",se,[re,t("div",ie,[m(t("input",{type:"text",name:"full_name",id:"full_name",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md",e.$page.props.errors.full_name?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[4]||(s[4]=o=>e.form.full_name=o),autocomplete:"none"},null,2),[[g,e.form.full_name,void 0,{lazy:!0}]])])])]),t("div",ae,[t("div",ne,[le,t("div",de,[d(h(w),{autocomplete:"off",onChange:e.clearState,placeholder:e.$page.props.user_info.name,canDeselect:!1,modelValue:e.form.country_id,"onUpdate:modelValue":s[5]||(s[5]=o=>e.form.country_id=o),modelModifiers:{lazy:!0},loading:e.loading.country,"min-chars":1,delay:1,searchable:!0,noOptionsText:"Please enter at least 1 character",options:e.$page.props.countries,trackBy:"name",label:"name",valueProp:"id",classes:{container:e.$page.props.errors.country?"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-red-300 rounded bg-white text-base leading-snug outline-none":"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-300 rounded bg-white text-base leading-snug outline-none",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-indigo-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-0 text-base font-sans bg-white rounded pl-3.5",tags:"flex-grow flex-shrink flex flex-wrap items-center mt-1 pl-2",tag:"bg-green-500 text-white text-sm font-semibold py-0.5 pl-2 rounded mr-1 mb-1 flex items-center whitespace-nowrap",tagDisabled:"pr-2 opacity-50",tagRemove:"flex items-center justify-center p-1 mx-0.5 rounded-sm hover:bg-black hover:bg-opacity-10 group",tagRemoveIcon:"bg-multiselect-remove bg-center bg-no-repeat opacity-30 inline-block w-3 h-3 group-hover:opacity-60",tagsSearchWrapper:"inline-block relative mx-1 mb-1 flex-grow flex-shrink h-full",tagsSearch:"absolute inset-0 border-0 outline-none focus:ring-0 appearance-none p-0 text-base font-sans box-border w-full",tagsSearchCopy:"invisible whitespace-pre-wrap inline-block h-px",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3",caret:"bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 py-px box-content mr-3.5 relative z-10 opacity-40 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin flex-shrink-0 flex-grow-0",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-1 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-gray-700",groupLabelSelected:"bg-green-600 text-white",groupLabelDisabled:"bg-gray-100 text-gray-300 cursor-not-allowed",groupLabelSelectedPointed:"bg-green-600 text-white opacity-90",groupLabelSelectedDisabled:"text-green-100 bg-green-600 bg-opacity-50 cursor-not-allowed",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"}},null,8,["onChange","placeholder","modelValue","loading","options","classes"]),m(t("input",{type:"hidden","onUpdate:modelValue":s[6]||(s[6]=o=>e.form.country=o)},null,512),[[g,e.form.country,void 0,{lazy:!0}]])])]),t("div",pe,[ce,t("div",me,[m(t("input",{class:"text-center inline-flex items-center px-2 rounded-l-md border border-r-0 border-gray-300 bg-gray-100 text-gray-500","onUpdate:modelValue":s[7]||(s[7]=o=>e.form.calling_code=o),size:"5",disabled:""},null,512),[[g,e.form.calling_code,void 0,{lazy:!0}]]),m(t("input",{type:"number",name:"contact_number",id:"contact_number",class:p(["py-1.5 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-none rounded-r-md",e.$page.props.errors.contact_number?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[8]||(s[8]=o=>e.form.contact_number=o),autocomplete:"none"},null,2),[[g,e.form.contact_number,void 0,{lazy:!0}]])])])]),t("div",ue,[t("div",ge,[fe,t("div",he,[d(h(w),{autocomplete:"off","min-chars":1,delay:1,searchable:!0,loading:e.loading.state,modelValue:e.form.country_state,"onUpdate:modelValue":s[9]||(s[9]=o=>e.form.country_state=o),modelModifiers:{lazy:!0},placeholder:e.form.country_state,noOptionsText:"Please select a state",options:e.state_list,canDeselect:!1,classes:{container:e.$page.props.errors.country?"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-red-300 rounded bg-white text-base leading-snug outline-none":"relative mx-auto w-full flex items-center justify-end box-border cursor-pointer border border-gray-300 rounded bg-white text-base leading-snug outline-none",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"border border-indigo-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",search:"w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-0 text-base font-sans bg-white rounded pl-3.5",tags:"flex-grow flex-shrink flex flex-wrap items-center mt-1 pl-2",tag:"bg-green-500 text-white text-sm font-semibold py-0.5 pl-2 rounded mr-1 mb-1 flex items-center whitespace-nowrap",tagDisabled:"pr-2 opacity-50",tagRemove:"flex items-center justify-center p-1 mx-0.5 rounded-sm hover:bg-black hover:bg-opacity-10 group",tagRemoveIcon:"bg-multiselect-remove bg-center bg-no-repeat opacity-30 inline-block w-3 h-3 group-hover:opacity-60",tagsSearchWrapper:"inline-block relative mx-1 mb-1 flex-grow flex-shrink h-full",tagsSearch:"absolute inset-0 border-0 outline-none focus:ring-0 appearance-none p-0 text-base font-sans box-border w-full",tagsSearchCopy:"invisible whitespace-pre-wrap inline-block h-px",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5",caret:"bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 py-px box-content mr-3.5 relative z-10 opacity-40 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin flex-shrink-0 flex-grow-0",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",optionsTop:"flex-col-reverse",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-1 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-gray-700",groupLabelSelected:"bg-green-600 text-white",groupLabelDisabled:"bg-gray-100 text-gray-300 cursor-not-allowed",groupLabelSelectedPointed:"bg-green-600 text-white opacity-90",groupLabelSelectedDisabled:"text-green-100 bg-green-600 bg-opacity-50 cursor-not-allowed",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"}},null,8,["loading","modelValue","placeholder","options","classes"])])])]),t("div",be,[t("div",ye,[_e,t("div",xe,[m(t("textarea",{id:"address",name:"address",rows:"3",class:p(["shadow-sm focus:ring-0 focus:border-indigo-300 mt-1 block w-full border rounded-md",e.$page.props.errors.address?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[10]||(s[10]=o=>e.form.address=o),autocomplete:"none"},null,2),[[g,e.form.address,void 0,{lazy:!0}]])])])])]),e.$page.props.can.view_user_roles?(i(),a("div",ve,[we,t("div",ke,[t("div",$e,[e.$page.props.errors.selected_roles?(i(),a("div",Ce,[t("span",Se,u(e.$page.props.errors.selected_roles),1)])):l("",!0),(i(!0),a(y,null,x(e.$page.props.roles,o=>(i(),a("div",{class:"block",key:o.id},[e.hasPermission(o.permission)?(i(),a("div",Te,[t("div",Ve,[t("label",{class:"inline-flex items-center text-gray-800 select-none text-md cursor-pointer",for:o.id},[t("input",{type:"checkbox",class:"h-5 w-5 border border-gray-300 rounded-sm bg-white focus:ring-offset-0 focus:ring-0 checked:bg-gray focus:bg-white transition duration-200 align-top bg-no-repeat bg-center bg-contain float-left cursor-pointer",id:o.id,value:o.id,checked:e.selected_roles.includes(o.id),onClick:b=>e.selectRole(b,o.id)},null,8,ze),t("span",Le,u(o.display_name),1)],8,De)])])):l("",!0)]))),128))])])])):l("",!0)]),e.$page.props.can.view_child?(i(),a("div",Ee,[e.$page.props.can.create_child?(i(),a("div",Ue,[Pe,t("div",Me,[t("div",je,[Be,t("div",Oe,[m(t("input",{type:"text",name:"child_name",id:"child_name",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",e.$page.props.errors.name?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[11]||(s[11]=o=>e.child_form.name=o),autocomplete:"none"},null,2),[[g,e.child_form.name,void 0,{lazy:!0}]])])]),t("div",Re,[Fe,t("div",Ae,[m(t("select",{name:"gender",id:"gender",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",e.$page.props.errors.gender?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[12]||(s[12]=o=>e.child_form.gender=o),autocomplete:"none"},[Ie,(i(!0),a(y,null,x(e.$page.props.gender_list,(o,b)=>(i(),a("option",{value:o.id,key:b},u(o.name),9,Ne))),128))],2),[[k,e.child_form.gender,void 0,{lazy:!0}]])])]),t("div",Ge,[He,d(h(S),{class:p("mt-1 rounded-md shadow-sm"),style:$(e.$page.props.errors.dob?"--dp-border-color: #fa9e9e":""),modelValue:e.child_form.dob,"onUpdate:modelValue":s[13]||(s[13]=o=>e.child_form.dob=o),modelModifiers:{lazy:!0},enableTimePicker:!1,noToday:!0,autoApply:!0,format:"dd/MM/yyyy"},null,8,["style","modelValue"])]),t("div",We,[d(f,{class:"py-2.5 px-4",onClick:e.addChild},{default:c(()=>[n("Add Child")]),_:1},8,["onClick"])])]),t("div",Ze,[t("div",qe,[t("table",Ke,[t("thead",Ye,[t("tr",null,[Je,Qe,Xe,e.$page.props.can.edit_child||e.$page.props.can.delete_child?(i(),a("th",et,"Action")):l("",!0)])]),t("tbody",tt,[e.form.children.length?l("",!0):(i(),a("tr",ot,rt)),(i(!0),a(y,null,x(e.form.children,(o,b)=>(i(),a("tr",it,[t("td",at,u(o.name),1),t("td",nt,u(e.$page.props.gender_list.find(v=>v.id==o.gender_id).name),1),t("td",lt,u(h(B)(o.date_of_birth).format("DD/MM/Y")),1),e.$page.props.can.edit_child||e.$page.props.can.delete_child?(i(),a("td",dt,[t("div",pt,[e.$page.props.can.edit_child?(i(),C(f,{key:0,buttonType:"warning",onClick:v=>e.processing?"":e.editChild(o.id)},{default:c(()=>[n("Edit")]),_:2},1032,["onClick"])):l("",!0),e.$page.props.can.delete_child?(i(),C(f,{key:1,buttonType:"danger",onClick:v=>e.processing?"":e.deleteChild(o.id)},{default:c(()=>[n("Delete")]),_:2},1032,["onClick"])):l("",!0)])])):l("",!0)]))),256))])])])])])):l("",!0)])):l("",!0),e.$page.props.can.reset_password?(i(),a("div",ct,[t("div",mt,[t("div",ut,[t("div",gt,[t("div",ft,[d(f,{buttonType:"gray",route:e.route("users")},{default:c(()=>[n("Cancel")]),_:1},8,["route"]),d(f,{type:"submit"},{default:c(()=>[n("Save")]),_:1})]),t("div",ht,[d(f,{buttonType:"danger",class:"py-2 px-4",onClick:s[14]||(s[14]=o=>e.resetPassword(e.$page.props.user_info.user_id))},{default:c(()=>[n("Reset Password")]),_:1})])])])])])):l("",!0)])],32)])]),d(V,{show:e.isOpen,onClose:s[16]||(s[16]=o=>e.isOpen=!1),confirmationAlert:e.confirmationAlert,confirmationTitle:e.confirmationTitle,confirmationText:e.confirmationText,confirmationButton:e.confirmationButton,confirmationMethod:e.confirmationMethod,confirmationRoute:e.confirmationRoute,confirmationData:e.confirmationData},null,8,["show","confirmationAlert","confirmationTitle","confirmationText","confirmationButton","confirmationMethod","confirmationRoute","confirmationData"]),d(h(D),{modelValue:e.showEdit,"onUpdate:modelValue":s[22]||(s[22]=o=>e.showEdit=o),modelModifiers:{lazy:!0},"lock-scroll":!0,"click-to-close":!1},{default:c(()=>[t("div",bt,[t("div",yt,[t("div",_t,[t("div",xt,[vt,t("button",{onClick:s[17]||(s[17]=o=>e.showEdit=!1),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"default-modal"},kt)]),t("div",$t,[t("div",Ct,[t("div",St,[Tt,t("div",Vt,[m(t("input",{type:"text",name:"first_name",id:"first_name",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",e.$page.props.errors.edit_name?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[18]||(s[18]=o=>e.editForm.edit_name=o),autocomplete:"off"},null,2),[[g,e.editForm.edit_name,void 0,{lazy:!0}]])])]),t("div",Dt,[zt,t("div",Lt,[m(t("select",{name:"gender",id:"gender",class:p(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",e.$page.props.errors.edit_gender?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[19]||(s[19]=o=>e.editForm.edit_gender=o),autocomplete:"off"},[Et,(i(!0),a(y,null,x(e.$page.props.gender_list,(o,b)=>(i(),a("option",{value:o.id,key:b},u(o.name),9,Ut))),128))],2),[[k,e.editForm.edit_gender,void 0,{lazy:!0}]])])]),t("div",Pt,[Mt,d(h(S),{class:p("mt-1 rounded-md shadow-sm"),style:$(e.$page.props.errors.edit_dob?"--dp-border-color: #fa9e9e":""),modelValue:e.editForm.edit_dob,"onUpdate:modelValue":s[20]||(s[20]=o=>e.editForm.edit_dob=o),modelModifiers:{lazy:!0},enableTimePicker:!1,noToday:!0,autoApply:!0,format:"dd/mm/yyyy"},null,8,["style","modelValue"])])]),jt,t("div",Bt,[t("div",Ot,[d(f,{buttonType:"gray",onClick:s[21]||(s[21]=o=>e.showEdit=!1)},{default:c(()=>[n("Cancel")]),_:1}),d(f,{onClick:e.updateChild},{default:c(()=>[n("Save")]),_:1},8,["onClick"])])])])])])])]),_:1},8,["modelValue"])]),_:1})],64)}}});export{ro as default};
