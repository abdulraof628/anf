import{B as m}from"./Authenticated-862af612.js";import{L as f,H as h}from"./@inertiajs-2b766590.js";import"./moment-a9aaa855.js";import{T as u}from"./TimeAgo-d51fbb71.js";import{g,h as _,i as v,j as b,k as x,l as w,m as y,e as $,n as k,d as N,o as I,p as S}from"./@heroicons-fd1e1a44.js";import{Y as C,_ as M,g as A,a as j,b as B,M as D,h as L,S as R}from"./@headlessui-3f5736f6.js";import{x as r,v as l,u as U,O as d,F as c,r as T,q as n,y as e,m as a,I as F,J as p,A as O}from"./@vue-39dc9ff3.js";import"./ApplicationLogo-5cf6e77e.js";import"./radix-vue-a603168c.js";import"./@floating-ui-c05b1c1f.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-31ea0dbe.js";import"./axios-1779699b.js";import"./pusher-js-68b5c933.js";import"./@vueform-8fb84cf1.js";import"./@vuepic-a83e4355.js";import"./@babel-1b80a44a.js";import"./cropperjs-042b647f.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-e9930861.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-c14271ca.js";import"./@radix-icons-9ff33614.js";import"./lodash.isequal-0acc53e7.js";import"./vue-46d666fa.js";import"./lodash.clonedeep-12c784b4.js";import"./qs-45a3326f.js";import"./side-channel-401220dd.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-ac0241aa.js";import"./deepmerge-89e33937.js";import"./nprogress-87ee1729.js";import"./lucide-vue-next-7b48dc26.js";import"./javascript-time-ago-55ed0321.js";import"./relative-time-format-ec7ee7be.js";const V={class:"py-4 px-4"},z={class:"overflow-x-auto"},H={class:"mx-auto"},Y={class:"align-middle inline-block min-w-full"},q={class:"h-full flex flex-col"},E={class:"min-h-0 flex-1 flex overflow-hidden"},J={class:"h-full relative flex flex-col border-r border-gray-200 bg-gray-100 w-1/3"},P=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-16 px-6 flex flex-col justify-center bg-indigo-200"},[e("div",{class:"flex items-baseline space-x-3"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Notifications")])])],-1),X={class:"h-[74vh]"},G={class:"flex flex-row space-x-2 border-t border-b border-gray-200 bg-indigo-50 px-4 py-2 text-sm font-medium text-gray-500"},K={key:0,class:"bg-indigo-100 h-[70vh] overflow-hidden overflow-y-auto scrollbar"},Q=e("div",{"aria-label":"Message list",class:"h-full text-center pt-6"},[e("span",{class:"text-sm text-gray-500 font-semibold"},"No notification")],-1),W=[Q],Z={"aria-label":"Message list",class:"h-full"},ee={role:"list",class:"border-b border-gray-200 divide-y divide-gray-200"},te=["onClick"],oe={class:"flex justify-between space-x-3"},ie={class:"min-w-0 flex-1"},se=["href"],re=e("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),ne={class:"text-sm font-medium text-gray-900 truncate"},ae={class:"mt-1"},le={class:"line-clamp-2 text-sm text-gray-600"},de={class:"flex flex-col grow w-full"},ce=e("div",{class:"flex h-16 items-center justify-end bg-indigo-200"},null,-1),pe={class:"flex flex-col"},ue={key:0,class:"flex h-[74vh] justify-center items-center bg-white"},me=e("img",{src:"/images/no_notification_yet.png",class:"h-1/3 w-1/5",alt:""},null,-1),fe=[me],he={key:1,class:"flex justify-center h-[74vh] overflow-y-auto scrollbar"},ge={components:{Dialog:C,DialogOverlay:M,Menu:A,MenuButton:j,MenuItem:B,MenuItems:D,TransitionChild:L,TransitionRoot:R,Link:f,TimeAgo:u,ArchiveIconSolid:g,BellIcon:_,ChevronDownIcon:v,ChevronUpIcon:b,DotsVerticalIcon:x,FolderDownloadIcon:w,MenuIcon:y,PencilIcon:$,ReplyIcon:k,SearchIcon:N,UserAddIcon:I,XIcon:S},setup(){const s=T(!1);return{user,navigation,sidebarNavigation,userNavigation,messages,open:s}},data(){return{current_data_count:10}},methods:{viewNotification(s){this.$inertia.get(route("view_notification"),{id:s,data_count:this.current_data_count},{preserveScroll:!0,preserveState:!0})},deleteNotification(s){this.$inertia.delete(route("delete_notification",s))},showAllNotifications(){this.$inertia.get(route("notifications"))},showUnreadNotifications(){this.$inertia.get(route("notifications"),{filter:"read"},{preserveScroll:!0})},showReadNotifications(){this.$inertia.get(route("notifications"),{filter:"unread"},{preserveScroll:!0})},onScroll({target:{scrollTop:s,clientHeight:t,scrollHeight:i}}){s+t>=i&&axios.get(route("show_more_notifications"),{params:{data_count:this.current_data_count+=10}}).then(o=>{this.$page.props.notifications=o.data})}}},mt=Object.assign(ge,{__name:"Layout",setup(s){return(t,i)=>(n(),r(c,null,[l(U(h),{title:"Notifications"}),l(m,null,{header:d(()=>[]),default:d(()=>[e("div",V,[e("div",z,[e("div",H,[e("div",Y,[e("div",q,[e("div",E,[e("div",J,[P,e("div",X,[e("div",G,[e("button",{class:a(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"unread"})||t.route().current("notifications",{filter:"read"})?"bg-indigo-400 px-2 py-1":"bg-indigo-700 py-1 px-2"]),onClick:i[0]||(i[0]=o=>t.showAllNotifications())},"All",2),e("button",{class:a(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"unread"})?"bg-indigo-700 px-2 py-1":"bg-indigo-400 py-1 px-2"]),onClick:i[1]||(i[1]=o=>t.showReadNotifications())},"Unread",2),e("button",{class:a(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"read"})?"bg-indigo-700 px-2 py-1":"bg-indigo-400 py-1 px-2"]),onClick:i[2]||(i[2]=o=>t.showUnreadNotifications())},"Read",2)]),t.$page.props.notifications.length?(n(),r("div",{key:1,class:"bg-white h-[70vh] overflow-hidden hover:overflow-y-auto scrollbar w-full",onScroll:i[3]||(i[3]=(...o)=>t.onScroll&&t.onScroll(...o))},[e("div",Z,[e("ul",ee,[(n(!0),r(c,null,F(t.$page.props.notifications,o=>(n(),r("li",{key:o.id,class:a([[t.route().current("view_notification",{id:o.id})?"bg-indigo-50":"",o.seen?"":"bg-indigo-200"],"relative cursor-pointer bg-white py-5 px-6 hover:bg-indigo-50"]),onClick:_e=>t.viewNotification(o.id)},[e("div",oe,[e("div",ie,[e("a",{href:o.href,class:"block focus:outline-none"},[re,e("p",ne,p(o.sender),1)],8,se)]),l(u,{class:"flex-shrink-0 whitespace-nowrap text-sm text-gray-500",datetime:o.created_at},null,8,["datetime"])]),e("div",ae,[e("p",le,p(o.message),1)])],10,te))),128))])])],32)):(n(),r("div",K,W))])]),e("div",de,[ce,e("div",pe,[t.$page.props.user_notifications.length?(n(),r("div",he,[O(t.$slots,"default")])):(n(),r("div",ue,fe))])])])])])])])])]),_:3})],64))}});export{mt as default};
