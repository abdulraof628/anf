import{o as n,c as l,d as e,D as B,E as C,q as k,F as f,h as _,j as b,t as x,k as V,f as m,l as v,b as y,w as P,e as D}from"./app-2d0f07b3.js";import{B as N}from"./Button-48eae06c.js";import O from"./VariationOption-d891f44a.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";const F=u=>(B("data-v-ce9c3a7c"),u=u(),C(),u),T={class:"relative"},E={key:0,class:"relative w-24 h-24"},M=["src"],R={key:1,class:"w-24 h-24 border-2 border-dashed border-gray-400 flex items-center justify-center"},q=F(()=>e("p",{class:"text-gray-400"},"+",-1)),z=[q],L={__name:"UploadPreview",props:{previewUrl:{required:!0}},emits:["update:value"],setup(u,{emit:i}){return(o,h)=>(n(),l("div",null,[e("div",T,[e("input",{type:"file",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onInput:h[0]||(h[0]=g=>i("update:value",g.target.files[0]))},null,32),u.previewUrl?(n(),l("div",E,[e("img",{src:u.previewUrl,alt:"Preview",class:"object-cover w-full h-full"},null,8,M)])):(n(),l("div",R,z))])]))}},I=A(L,[["__scopeId","data-v-ce9c3a7c"]]),K={class:"w-full"},G={class:"flex"},H={class:"w-full bg-white shadow-md rounded-md overflow-hidden"},J={class:"mb-4"},Q=["for"],W=e("span",{class:"text-red-500"},"*",-1),X={class:"mt-1 flex rounded-md shadow-sm"},Y=["name","id","onUpdate:modelValue"],Z={class:"mb-4"},ee=e("hr",{class:"bg-gray-500 mx-auto my-4"},null,-1),te={class:"flex items-center justify-end py-2"},oe={class:"flex items-center justify-center my-10"},se=e("span",{class:"text-center"},"Add variation",-1),ae=[se],ne={class:"min-w-full divide-y divide-gray-200"},le={class:"bg-gray-300"},ie={scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-3/12"},ce={key:0,scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-3/12"},re=e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Price",-1),de=e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Stock",-1),pe=e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"SKU",-1),ue={class:"bg-white divide-y divide-gray-200"},me={class:"px-6 py-4 whitespace-nowrap"},ve={class:"flex flex-col items-center p-2 m-2"},fe=["for"],_e={key:0,class:"px-6 py-4 whitespace-nowrap"},he=["for"],xe={class:"px-6 py-4 whitespace-nowrap"},ye=["onInput","name","id","onUpdate:modelValue"],ge={key:1,class:"text-sm font-medium text-gray-900"},ke=["onInput","name","id","onUpdate:modelValue"],be={class:"px-6 py-4 whitespace-nowrap"},we=["onInput","name","id","onUpdate:modelValue"],Ue={key:1,class:"text-sm font-medium text-gray-900"},Ve=["onInput","name","id","onUpdate:modelValue"],Ie={class:"px-6 py-4 whitespace-nowrap"},$e=["onInput","name","id","onUpdate:modelValue"],Se={key:1,class:"text-sm font-medium text-gray-900"},je=["onInput","name","id","onUpdate:modelValue"],Be={__name:"Variation",emits:["update:variation","delete:variation"],setup(u,{emit:i}){const o=k([{name:"variation 1",options:[{name:"",price:"",stock:"",sku:""}]}]);k([{label:"",name:"variation_1_image",value:null}]),k([{label:"",name:"variation_2_image",value:null}]);const h=()=>{o.value.push({name:"variation 2",options:[{name:"",price:"",stock:"",sku:"",image:""}]}),i("update:variation",o.value)},g=c=>{o.value.splice(c,1),i("update:variation",o.value),o.value.length==0&&i("delete:variation")},$=c=>{o.value[c].options.push({name:"",price:"",stock:"",sku:"",image:""}),i("update:variation",o.value)},S=(c,r)=>{o.value[c].options.splice(r,1),i("update:variation",o.value)},j=(c,r)=>{o.value[c].options.splice(r,1,{name:"",options:[{name:"",price:"",stock:"",sku:""}]}),i("update:variation",o.value)},w=(c,r,s)=>{if(c){const a=new FileReader;a.onload=()=>{U(r,a.result,s)},a.readAsDataURL(c)}else U(r,null,s);console.log(o.value[s])},U=(c,r,s)=>{o.value[s].options.forEach(a=>{a.name===c&&(a.image=r)})};return(c,r)=>(n(),l("div",K,[e("div",G,[e("div",H,[(n(!0),l(f,null,_(o.value,(s,a)=>(n(),l("div",{key:a,class:"border-b border-gray-200 px-4 py-6"},[e("div",J,[e("label",{for:"variation_"+a,class:"block text-sm text-gray-700 font-bold"},[V(" Name "),W],8,Q),e("div",X,[m(e("input",{onInput:r[0]||(r[0]=t=>i("update:variation",o.value)),type:"text",name:"variation_"+a,id:"variation_"+a,class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":t=>s.name=t,autocomplete:"off"},null,40,Y),[[v,s.name]])])]),e("div",Z,[y(O,{options:s.options,variationIndex:a,"onAdd:option":$,"onRemove:option":S,"onAdd:variation":j,"onUpdate:variation":r[1]||(r[1]=t=>i("update:variation",o.value))},null,8,["options","variationIndex"])]),ee,e("div",te,[y(N,{onClick:D(t=>g(a),["stop"]),buttonType:"danger"},{default:P(()=>[V("Delete")]),_:2},1032,["onClick"])])]))),128))])]),e("div",oe,[o.value.length<2?(n(),l("div",{key:0,onClick:h,class:"w-full text-center border border-solid border-black hover:bg-gray-100 cursor-pointer px-6 py-4"},ae)):b("",!0)]),e("table",ne,[e("thead",le,[e("tr",null,[e("th",ie,x(o.value[0].name),1),o.value[1]?(n(),l("th",ce,x(o.value[1].name),1)):b("",!0),re,de,pe])]),e("tbody",ue,[(n(!0),l(f,null,_(o.value[0].options,(s,a)=>(n(),l("tr",{class:"hover:bg-gray-200",key:a},[e("td",me,[e("div",ve,[y(I,{previewUrl:s.image,"onUpdate:value":t=>w(t,s.name,a)},null,8,["previewUrl","onUpdate:value"]),e("label",{for:s.name,class:"text-sm text-gray-500 text-center"},x(s.name),9,fe)])]),o.value[1]?(n(),l("td",_e,[(n(!0),l(f,null,_(o.value[1].options,(t,d)=>(n(),l("div",{key:d,class:"flex flex-col items-center p-2 m-2"},[y(I,{previewUrl:t.image,"onUpdate:value":p=>w(p,t.name,a)},null,8,["previewUrl","onUpdate:value"]),e("label",{for:t.name,class:"text-sm text-gray-500 text-center"},x(t.name),9,he)]))),128))])):b("",!0),e("td",xe,[o.value[1]?(n(!0),l(f,{key:0},_(o.value[1].options,(t,d)=>(n(),l("div",{key:d,class:"text-sm font-medium text-gray-900"},[m(e("input",{onInput:p=>i("update:variation",t),type:"text",placeholder:"input",name:"variation_option_price"+d,id:"variation_option_price"+d,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm mb-6","onUpdate:modelValue":p=>t.price=p,autocomplete:"off"},null,40,ye),[[v,t.price]])]))),128)):(n(),l("div",ge,[m(e("input",{onInput:t=>i("update:variation",s),type:"text",placeholder:"input",name:"variation_option_price"+a,id:"variation_option_price"+a,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm","onUpdate:modelValue":t=>s.price=t,autocomplete:"off"},null,40,ke),[[v,s.price]])]))]),e("td",be,[o.value[1]?(n(!0),l(f,{key:0},_(o.value[1].options,(t,d)=>(n(),l("div",{key:d,class:"text-sm font-medium text-gray-900"},[m(e("input",{onInput:p=>i("update:variation",t),type:"text",placeholder:"0",name:"variation_option_stock"+d,id:"variation_option_stock"+d,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm mb-6","onUpdate:modelValue":p=>t.stock=p,autocomplete:"off"},null,40,we),[[v,t.stock]])]))),128)):(n(),l("div",Ue,[m(e("input",{onInput:t=>i("update:variation",s),type:"text",placeholder:"0",name:"variation_option_stock"+a,id:"variation_option_stock"+a,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm","onUpdate:modelValue":t=>s.stock=t,autocomplete:"off"},null,40,Ve),[[v,s.stock]])]))]),e("td",Ie,[o.value[1]?(n(!0),l(f,{key:0},_(o.value[1].options,(t,d)=>(n(),l("div",{key:d,class:"text-sm font-medium text-gray-900"},[m(e("input",{onInput:p=>i("update:variation",t),type:"text",placeholder:"input",name:"variation_option_sku"+d,id:"variation_option_sku"+d,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm mb-6","onUpdate:modelValue":p=>t.sku=p,autocomplete:"off"},null,40,$e),[[v,t.sku]])]))),128)):(n(),l("div",Se,[m(e("input",{onInput:t=>i("update:variation",s),type:"text",placeholder:"input",name:"variation_option_sku"+a,id:"variation_option_sku"+a,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm","onUpdate:modelValue":t=>s.sku=t,autocomplete:"off"},null,40,je),[[v,s.sku]])]))])]))),128))])])]))}},Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));export{I as U,Oe as V,Be as _};
