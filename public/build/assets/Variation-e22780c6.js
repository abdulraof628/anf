import{q as V,G as U,s as T,c as l,d as e,f as v,l as _,b as x,w as C,e as j,j as y,t as g,F as h,h as f,k as w,o as r}from"./app-9715bcc5.js";import{B}from"./Button-7ef8af17.js";import N from"./VariationOption-ec7457d9.js";import{U as M}from"./UploadPreview-c092c74a.js";/* empty css            */import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                      */const P={class:"w-full"},S={class:"flex"},$={class:"w-full bg-white shadow-md rounded-md overflow-hidden"},L={class:"border-b border-gray-200 px-4 py-6"},q={class:"mb-4"},z=e("label",{for:"variation_1",class:"block text-sm text-gray-700 font-bold"},[w(" Name "),e("span",{class:"text-red-500"},"*")],-1),G={class:"mt-1 flex rounded-md shadow-sm"},K={class:"mb-4"},H=e("hr",{class:"bg-gray-500 mx-auto my-4"},null,-1),J={class:"flex items-center justify-end py-2"},Q={key:0,class:"border-b border-gray-200 px-4 py-6"},W={class:"mb-4"},X=e("label",{for:"variation_2",class:"block text-sm text-gray-700 font-bold"},[w(" Name "),e("span",{class:"text-red-500"},"*")],-1),Y={class:"mt-1 flex rounded-md shadow-sm"},Z={class:"mb-4"},ee=e("hr",{class:"bg-gray-500 mx-auto my-4"},null,-1),te={class:"flex items-center justify-end py-2"},oe={class:"flex items-center justify-center my-10"},se=e("span",{class:"text-center"},"Add variation",-1),ae=[se],ne={class:"min-w-full divide-y divide-gray-200"},ie={class:"bg-gray-300"},le={scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-3/12"},re={key:0,scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-3/12"},de=e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Price",-1),ce=e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"Stock",-1),ue=e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/12"},"SKU",-1),pe={class:"bg-white divide-y divide-gray-200"},me={class:"px-6 py-4 whitespace-nowrap"},ve={class:"flex flex-col items-center p-2 m-2"},_e=["for"],xe={key:0,class:"px-6 py-4 whitespace-nowrap"},he=["for"],fe={class:"px-6 py-4 whitespace-nowrap"},ye=["name","id","onUpdate:modelValue"],ge={class:"px-6 py-4 whitespace-nowrap"},we=["name","id","onUpdate:modelValue"],be={class:"px-6 py-4 whitespace-nowrap"},ke=["name","id","onUpdate:modelValue"],Ee={__name:"Variation",props:{productVariations:{type:Object}},emits:["update:variation","delete:variation"],setup(D,{emit:c}){const u=D,t=V({name:"variation 1",options:[{name:"",image:"",url:"",rows:[{name:"",price:"",stock:"",sku:""}]}]}),o=V({show:!1,name:"variation 2",options:[{name:""}]}),E=()=>{o.value.show=!0,t.value.name2=o.value.name,t.value.options.forEach(a=>{a.rows[0].name=o.value.options[0]}),c("update:variation",t.value)},O=()=>{t.value={name:"variation 1",options:[{name:"",image:"",url:"",rows:[{name:"",price:"",stock:"",sku:""}]}]},c("delete:variation")},A=()=>{o.value={show:!1,name:"variation 2",options:[{name:""}]}},F=()=>{t.value.options.push({name:"",image:"",url:"",rows:[{name:"",price:"",stock:"",sku:""}]}),c("update:variation",t.value)},I=()=>{o.value.options.push({name:""}),console.log(o.value.options.length-1),t.value.options.forEach(a=>{a.rows.push({name:"",price:"",stock:"",sku:""}),a.rows[o.value.options.length-1].name=o.value.options[o.value.options.length-1]}),c("update:variation",t.value)},b=(a,s)=>{t.value[a].options.splice(s,1),c("update:variation",t.value)},R=(a,s)=>{if(a){const n=new FileReader;n.onload=()=>{k(s,n.result,a)},n.readAsDataURL(a)}else k(s,null,"")},k=(a,s,n)=>{t.value.options.forEach((p,i)=>{i===a&&(p.url=s,p.image=n)})};return U(t.value,(a,s)=>{console.log("variation 1 updated:",a)}),U(o.value,(a,s)=>{console.log("variation 2 updated:",a)}),T(()=>{u.productVariations&&(t.value={name:u.productVariations[0].variation1,options:[]},u.productVariations[0].variation2&&(o.value={show:!0,name:u.productVariations[0].variation2,options:[]}),Object(u.productVariations).forEach((a,s)=>{console.log(a),t.value.options.push({name:"",image:"",url:"",rows:[{name:"",price:"",stock:"",sku:""}]}),o.value.options.push({name:""}),console.log(t.value),console.log(t.value.options[s].rows[s])}))}),(a,s)=>(r(),l("div",P,[e("div",S,[e("div",$,[e("div",L,[e("div",q,[z,e("div",G,[v(e("input",{type:"text",name:"variation_1",id:"variation_1","onUpdate:modelValue":s[0]||(s[0]=n=>t.value.name=n),onInput:s[1]||(s[1]=n=>c("update:variation",t.value)),class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm"},null,544),[[_,t.value.name]])])]),e("div",K,[x(N,{options:t.value.options,variationIndex:1,"onAdd:option":F,"onRemove:option":b},null,8,["options"])]),H,e("div",J,[x(B,{onClick:j(O,["stop"]),buttonType:"danger"},{default:C(()=>[w("Delete")]),_:1},8,["onClick"])])]),o.value.show?(r(),l("div",Q,[e("div",W,[X,e("div",Y,[v(e("input",{type:"text",name:"variation_2",id:"variation_2","onUpdate:modelValue":s[2]||(s[2]=n=>o.value.name=n),onInput:s[3]||(s[3]=n=>c("update:variation",o.value)),class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm"},null,544),[[_,o.value.name]])])]),e("div",Z,[x(N,{options:o.value.options,variationIndex:2,"onAdd:option":I,"onRemove:option":b},null,8,["options"])]),ee,e("div",te,[x(B,{onClick:j(A,["stop"]),buttonType:"danger"},{default:C(()=>[w("Delete")]),_:1},8,["onClick"])])])):y("",!0)])]),e("div",oe,[o.value.show?y("",!0):(r(),l("div",{key:0,onClick:E,class:"w-full text-center border border-solid border-black hover:bg-gray-100 cursor-pointer px-6 py-4"},ae))]),e("table",ne,[e("thead",ie,[e("tr",null,[e("th",le,g(t.value.name),1),o.value.show?(r(),l("th",re,g(o.value.name),1)):y("",!0),de,ce,ue])]),e("tbody",pe,[(r(!0),l(h,null,f(t.value.options,(n,p)=>(r(),l("tr",{class:"hover:bg-gray-200",key:p},[e("td",me,[e("div",ve,[x(M,{previewUrl:n.url,"onUpdate:value":i=>R(i,p)},null,8,["previewUrl","onUpdate:value"]),e("label",{for:n.name,class:"text-sm text-gray-500 text-center"},g(n.name),9,_e)])]),o.value.show?(r(),l("td",xe,[(r(!0),l(h,null,f(n.rows,(i,d)=>(r(),l("div",{class:"flex flex-col items-center p-2 m-2",key:d},[e("label",{for:i.name,class:"text-sm text-gray-500 text-center"},g(i.name),9,he)]))),128))])):y("",!0),e("td",fe,[(r(!0),l(h,null,f(n.rows,(i,d)=>(r(),l("div",{key:d,class:"text-sm font-medium text-gray-900 mb-2"},[v(e("input",{type:"text",placeholder:"input",name:"variation_option_price"+d,id:"variation_option_price"+d,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm","onUpdate:modelValue":m=>i.price=m,autocomplete:"off"},null,8,ye),[[_,i.price]])]))),128))]),e("td",ge,[(r(!0),l(h,null,f(n.rows,(i,d)=>(r(),l("div",{key:d,class:"text-sm font-medium text-gray-900 mb-2"},[v(e("input",{type:"text",placeholder:"0",name:"variation_option_stock"+d,id:"variation_option_stock"+d,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm","onUpdate:modelValue":m=>i.stock=m,autocomplete:"off"},null,8,we),[[_,i.stock]])]))),128))]),e("td",be,[(r(!0),l(h,null,f(n.rows,(i,d)=>(r(),l("div",{key:d,class:"text-sm font-medium text-gray-900 mb-2"},[v(e("input",{type:"text",placeholder:"input",name:"variation_option_sku"+d,id:"variation_option_sku"+d,class:"focus:ring-0 focus:border-indigo-300 flex-1 block sm:text-sm","onUpdate:modelValue":m=>i.sku=m,autocomplete:"off"},null,8,ke),[[_,i.sku]])]))),128))])]))),128))])])]))}};export{Ee as default};
