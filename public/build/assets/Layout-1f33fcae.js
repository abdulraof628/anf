import{B as p}from"./Authenticated-0f758b79.js";import{o as r,q as a,a as n,c as l,u as v,w as c,F as u,L as w,y as g,H as _,d as e,n as d,e as m,t as h,x}from"./app-9214978e.js";import"./moment-fbc5633a.js";import{T as f}from"./toggle-366d3c67.js";import{r as b}from"./PencilIcon-0e99a748.js";import{r as y}from"./SearchIcon-d312a97b.js";import{M as k,R as M,y as $,h as C}from"./menu-cb764b36.js";import{U as B,Y as z,h as N,S as I}from"./transition-9cdaec46.js";import"./ApplicationLogo-3d0cb1ad.js";import"./Button-c0c659d9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XIcon-cab15a59.js";import"./use-outside-click-5254b0e6.js";import"./use-resolve-button-type-bf667373.js";function S(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),n("path",{"fill-rule":"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z","clip-rule":"evenodd"})])}function L(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function H(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function j(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})])}function V(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1.586l-.293-.293a1 1 0 10-1.414 1.414l2 2 .002.002a.997.997 0 001.41 0l.002-.002 2-2a1 1 0 00-1.414-1.414l-.293.293V9z"})])}function A(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function R(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})])}function U(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}function D(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})])}function T(o,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const F={class:"py-4 px-4"},O={class:"overflow-x-auto"},Y={class:"mx-auto"},q={class:"align-middle inline-block min-w-full"},E={class:"h-full flex flex-col"},P={class:"min-h-0 flex-1 flex overflow-hidden"},X={class:"h-full relative flex flex-col border-r border-gray-200 bg-gray-100 w-1/3"},G=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-16 px-6 flex flex-col justify-center bg-blue-200"},[e("div",{class:"flex items-baseline space-x-3"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Notifications")])])],-1),J={class:"h-[74vh]"},K={class:"flex flex-row space-x-2 border-t border-b border-gray-200 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-500"},Q={key:0,class:"bg-blue-100 h-[70vh] overflow-hidden overflow-y-auto no-scrollbar"},W=e("div",{"aria-label":"Message list",class:"h-full text-center pt-6"},[e("span",{class:"text-md text-gray-500"},"Nothing to see here.")],-1),Z=[W],ee={"aria-label":"Message list",class:"h-full"},te={role:"list",class:"border-b border-gray-200 divide-y divide-gray-200"},oe=["onClick"],re={class:"flex justify-between space-x-3"},ie={class:"min-w-0 flex-1"},ne=["href"],se=e("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),ae={class:"text-sm font-medium text-gray-900 truncate"},le={class:"mt-1"},de={class:"line-clamp-2 text-sm text-gray-600"},ce={class:"flex flex-col grow w-full"},ue=e("div",{class:"flex h-16 items-center justify-end bg-blue-200"},null,-1),he={class:"flex flex-col"},fe={key:0,class:"flex h-[74vh] justify-center items-center bg-white"},pe=e("img",{src:"/images/no_notification_yet.png",class:"h-1/3 w-1/5",alt:""},null,-1),ve=[pe],we={key:1,class:"flex justify-center h-[74vh] overflow-y-auto no-scrollbar"},ge={components:{Dialog:B,DialogOverlay:z,Menu:k,MenuButton:M,MenuItem:$,MenuItems:C,TransitionChild:N,TransitionRoot:I,Link:w,TimeAgo:f,ArchiveIconSolid:S,BellIcon:U,ChevronDownIcon:L,ChevronUpIcon:H,DotsVerticalIcon:j,FolderDownloadIcon:V,MenuIcon:D,PencilIcon:b,ReplyIcon:A,SearchIcon:y,UserAddIcon:R,XIcon:T},setup(){const o=g(!1);return{user,navigation,sidebarNavigation,userNavigation,messages,open:o}},data(){return{current_data_count:10}},methods:{viewNotification(o){this.$inertia.get(route("view_notification"),{id:o,data_count:this.current_data_count},{preserveScroll:!0,preserveState:!0})},deleteNotification(o){this.$inertia.delete(route("delete_notification",o))},showAllNotifications(){this.$inertia.get(route("notifications"))},showUnreadNotifications(){this.$inertia.get(route("notifications"),{filter:"read"},{preserveScroll:!0})},showReadNotifications(){this.$inertia.get(route("notifications"),{filter:"unread"},{preserveScroll:!0})},onScroll({target:{scrollTop:o,clientHeight:t,scrollHeight:s}}){o+t>=s&&axios.get(route("show_more_notifications"),{params:{data_count:this.current_data_count+=10}}).then(i=>{this.$page.props.notifications=i.data})}}},He=Object.assign(ge,{__name:"Layout",setup(o){return(t,s)=>(r(),l(u,null,[n(v(_),{title:"Notifications"}),n(p,null,{header:c(()=>[]),default:c(()=>[e("div",F,[e("div",O,[e("div",Y,[e("div",q,[e("div",E,[e("div",P,[e("div",X,[G,e("div",J,[e("div",K,[e("button",{class:d(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"unread"})||t.route().current("notifications",{filter:"read"})?"bg-blue-400 px-2 py-1":"bg-blue-700 py-1 px-2"]),onClick:s[0]||(s[0]=i=>t.showAllNotifications())},"All",2),e("button",{class:d(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"unread"})?"bg-blue-700 px-2 py-1":"bg-blue-400 py-1 px-2"]),onClick:s[1]||(s[1]=i=>t.showReadNotifications())},"Unread",2),e("button",{class:d(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"read"})?"bg-blue-700 px-2 py-1":"bg-blue-400 py-1 px-2"]),onClick:s[2]||(s[2]=i=>t.showUnreadNotifications())},"Read",2)]),t.$page.props.notifications.length?(r(),l("div",{key:1,class:"bg-white h-[70vh] overflow-hidden hover:overflow-y-auto no-scrollbar w-full",onScroll:s[3]||(s[3]=(...i)=>t.onScroll&&t.onScroll(...i))},[e("div",ee,[e("ul",te,[(r(!0),l(u,null,m(t.$page.props.notifications,i=>(r(),l("li",{key:i.id,class:d([[t.route().current("view_notification",{id:i.id})?"bg-indigo-50":"",i.seen?"":"bg-blue-200"],"relative cursor-pointer bg-white py-5 px-6 hover:bg-indigo-50"]),onClick:_e=>t.viewNotification(i.id)},[e("div",re,[e("div",ie,[e("a",{href:i.href,class:"block focus:outline-none"},[se,e("p",ae,h(i.sender),1)],8,ne)]),n(f,{class:"flex-shrink-0 whitespace-nowrap text-sm text-gray-500",datetime:i.created_at},null,8,["datetime"])]),e("div",le,[e("p",de,h(i.message),1)])],10,oe))),128))])])],32)):(r(),l("div",Q,Z))])]),e("div",ce,[ue,e("div",he,[t.$page.props.user_notifications.length?(r(),l("div",we,[x(t.$slots,"default")])):(r(),l("div",fe,ve))])])])])])])])])]),_:3})],64))}});export{He as default};
