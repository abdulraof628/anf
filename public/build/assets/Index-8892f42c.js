import{o as i,m as x,b as p,B as A,C as w,c as r,d as e,n as I,t as h,F as _,h as C,D as T,j as g,E as z,G as D,u as y,w as m,H as $,L as N,f as P,l as X,k as b}from"./app-7a9e3d8f.js";import{B as E}from"./Authenticated-693fed02.js";import{B as v}from"./Button-53503c7b.js";import{r as O}from"./PencilIcon-d2f4c6e6.js";import{r as V}from"./SearchIcon-c1bfe626.js";import{r as R}from"./TrashIcon-d25f6348.js";import{C as k}from"./ConfirmationModal-9d13d15d.js";import{P as L}from"./Pagination-8ab7efe4.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-4a56f50b.js";import"./XIcon-3b6549e5.js";import"./default.css_vue_type_style_index_0_src_true_lang-3cd6ffa2.js";import"./moment-fbc5633a.js";import"./transition-37a364be.js";function H(s,t){return i(),x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[p("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})])}const F=A({name:"my-image-box",props:{imagesListClass:{type:String,default:""},images:{type:Array,default:()=>[]},openLightbox:Boolean},created(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption},watch:{images:{handler(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption}}},setup(s){const t=w({show:!1,isChanging:!1,selectedIndex:0,selectedImgPath:"",selectedCaption:""}),c=(n,B,M)=>{t.selectedIndex=n,t.selectedImgPath=B,t.selectedCaption=M,t.show=!0},o=()=>{if(t.selectedIndex==0)return!1;let n=t.selectedIndex-1;t.selectedIndex=n,t.selectedImgPath=s.images[n].src,t.selectedCaption=s.images[n].caption},f=()=>{if(t.selectedIndex==s.images.length-1)return!1;let n=t.selectedIndex+1;t.selectedIndex=n,t.selectedImgPath=s.images[n].src,t.selectedCaption=s.images[n].caption},d=w({startX:0});return{state:t,selected:c,prev:o,next:f,touchStart:n=>{d.startX=n.changedTouches[0].clientX},touchEnd:n=>{n.changedTouches[0].clientX>d.startX?o():f(),d.startX=0}}},methods:{closeImagebox(){this.$emit("closeImagebox",!0)}}}),u=s=>(z("data-v-d35edbb7"),s=s(),D(),s),J={key:0,class:"vue-lb-container",style:{"touch-action":"pan-y","user-select":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},Q={class:"vue-lb-content"},Y={class:"vue-lb-header"},G=u(()=>e("span",null,null,-1)),U=u(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})])],-1)),Z=[U],q={class:"vue-lb-figure"},K=["src"],W=["innerHTML"],ee={class:"vue-lb-footer"},te=u(()=>e("div",{class:"vue-lb-footer-info"},null,-1)),se={class:"vue-lb-footer-count"},oe={class:"vue-lb-thumbnail-wrapper"},ae={class:"vue-lb-thumbnail"},ne=u(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),ie=[ne],le=["aaa","bbb","onClick"],re=u(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),ce=[re],de=u(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),pe=[de],he=u(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),ue=[he];function me(s,t,c,o,f,d){return(s.state.show=s.openLightbox)?(i(),r("div",J,[e("div",Q,[e("div",Y,[G,e("button",{type:"button",title:"Close (Esc)",class:I("relative p-1 w-10"),onClick:t[0]||(t[0]=a=>s.closeImagebox())},Z)]),e("div",q,[e("img",{class:"vue-lb-modal-image",src:s.state.selectedImgPath,onTouchstart:t[1]||(t[1]=(...a)=>s.touchStart&&s.touchStart(...a)),onTouchend:t[2]||(t[2]=(...a)=>s.touchEnd&&s.touchEnd(...a))},null,40,K),e("div",{class:"vue-lb-info",innerHTML:s.state.selectedCaption},null,8,W),e("div",ee,[te,e("div",se,h(s.state.selectedIndex+1)+" / "+h(s.images.length),1)])])]),e("div",oe,[e("div",ae,[e("button",{type:"button",title:"Previous",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-left",onClick:t[3]||(t[3]=(...a)=>s.prev&&s.prev(...a))},ie),(i(!0),r(_,null,C(s.images,(a,l)=>(i(),r("div",{key:l,class:"vue-lb-modal-thumbnail",lazy:"loaded",aaa:l,bbb:s.state.selectedIndex,style:T({"background-image":"url('"+a.thumb+"')",display:l<5&&s.state.selectedIndex<3||s.state.selectedIndex>s.images.length-5&&s.images.length-l<=5&&l<=s.state.selectedIndex+2||l>=s.state.selectedIndex-2&&l<=s.state.selectedIndex+2?"":"none"}),onClick:n=>s.selected(l,a.src,a.caption)},null,12,le))),128)),e("button",{type:"button",title:"Next",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-right",onClick:t[4]||(t[4]=(...a)=>s.next&&s.next(...a))},ce)])]),e("button",{type:"button",title:"Previous",class:"vue-lb-arrow vue-lb-left",onClick:t[5]||(t[5]=(...a)=>s.prev&&s.prev(...a))},pe),e("button",{type:"button",title:"Next",class:"vue-lb-arrow vue-lb-right",onClick:t[6]||(t[6]=(...a)=>s.next&&s.next(...a))},ue)])):g("",!0)}const S=j(F,[["render",me],["__scopeId","data-v-d35edbb7"]]),ge={class:"py-4 px-4"},fe={class:"overflow-x-auto"},be={class:"mx-auto"},ve={class:"align-middle inline-block min-w-full"},xe={class:"flex justify-between pb-4 relative text-gray-400 focus-within:text-gray-600 items-center"},_e={class:"relative"},we=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-10 w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),ye={key:0,class:"flex"},Ie={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Ce={class:"min-w-full divide-y divide-gray-200"},$e=e("thead",{class:"bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"1%"},"#"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"5%"},"Name"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"7%"},"Address"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"5%"},"Country"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",width:"2%"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",width:"2%"},"Action")])],-1),ke={class:"bg-white divide-y divide-gray-200"},Le={key:0},Se=e("td",{class:"text-center",colspan:"10"},[e("div",{class:"p-3"}," No Record Found! ")],-1),Be=[Se],Me={class:"hover:bg-gray-200"},Ae={class:"px-6 py-3"},Te={class:"text-black text-sm font-semibold"},ze={class:"px-6 py-3"},De={class:"text-md font-bold text-indigo-900 uppercase mb-1"},Ne={class:"px-6 py-3 whitespace-nowrap"},Pe={class:"capitalize text-sm whitespace-pre-line font-semibold"},Xe={class:"px-6 py-3 whitespace-nowrap text-center"},Ee={class:"capitalize text-sm whitespace-pre-line font-semibold"},Oe={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},Re={class:"flex justify-center"},je={class:"flex mr-1"},He={class:"flex mr-1"},Fe={class:"flex"},Je={components:{SearchIcon:V,TrashIcon:R,PencilIcon:O,PhotographIcon:H,ImageBox:S,Pagination:L,ConfirmationModal:k,Head:$,Link:N},props:{filter:Object,centre_images:Object},created(){this.images.push({thumb:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",src:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",caption:"Not Available"})},data(){return{isOpen:!1,isOpenImagebox:!1,userID:"",confirmationTitle:"",confirmationText:"",confirmationAlert:"",confirmationButton:"",confirmationMethod:"",confirmationData:"",confirmationRoute:"",params:{search:this.filter.search?this.filter.search:""},images:[]}},watch:{params:{handler(){this.params&&this.$inertia.get(this.route("centres"),this.params,{replace:!0,preserveState:!0})},deep:!0}},methods:{deleteCentre(s){this.confirmationRoute="centres.destroy",this.confirmationData=s,this.isOpen=!0},editCentre(s){this.$inertia.get(route("centres.edit"),{centre_id:s},{preserveState:!0})},viewImages(s){axios.get(this.route("centres.get_images"),{params:{centre_id:s}}).then(t=>{this.images="",this.images=[],this.images=t.data,this.isOpenImagebox=!0,document.body.classList.add("overflow-hidden")})},closeImage(){this.isOpenImagebox=!1,document.body.classList.remove("overflow-hidden")}}},it=Object.assign(Je,{__name:"Index",setup(s){return(t,c)=>(i(),r(_,null,[p(y($),{title:"Centres"}),p(E,null,{header:m(()=>[]),default:m(()=>[e("div",ge,[e("div",fe,[e("div",be,[e("div",ve,[e("div",xe,[e("div",_e,[we,P(e("input",{type:"text",class:"h-10 border-2 border-gray-300 w-full appearance-none focus:ring-0 focus:border-gray-300 py-1 pl-10 pr-4 text-gray-700 bg-white border rounded-md",placeholder:"Search","onUpdate:modelValue":c[0]||(c[0]=o=>t.params.search=o)},null,512),[[X,t.params.search]])]),t.$page.props.can.create_centres?(i(),r("div",ye,[p(v,{route:t.route("centres.create")},{default:m(()=>[b("New Centre")]),_:1},8,["route"])])):g("",!0)]),e("div",Ie,[e("table",Ce,[$e,e("tbody",ke,[t.$page.props.centres.data.length?g("",!0):(i(),r("tr",Le,Be)),(i(!0),r(_,null,C(t.$page.props.centres.data,(o,f)=>(i(),r("tr",Me,[e("td",Ae,[e("span",Te,h(f+1),1)]),e("td",ze,[e("span",De,h(o.centre_name),1)]),e("td",Ne,[e("span",Pe,h(o.centre_address?o.centre_address:"Not Available"),1)]),e("td",Xe,[e("span",Ee,h(o.country_name?o.country_name:"Not Set"),1)]),e("td",Oe,[e("span",{class:I(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",o.centre_status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},h(o.centre_status?"Active":"Not Active"),3)]),e("td",Ve,[e("div",Re,[e("div",je,[t.$page.props.can.view_centres?(i(),x(v,{key:0,buttonType:"blue",title:"View Images",onClick:d=>t.viewImages(o.centre_id)},{default:m(()=>[b(" View Images ")]),_:2},1032,["onClick"])):g("",!0)]),e("div",He,[t.$page.props.can.edit_centres?(i(),x(v,{key:0,buttonType:"warning",title:"Edit School",onClick:d=>t.editCentre(o.centre_id)},{default:m(()=>[b(" Edit ")]),_:2},1032,["onClick"])):g("",!0)]),e("div",Fe,[t.$page.props.can.delete_centres?(i(),x(v,{key:0,buttonType:"danger",title:"Delete School",onClick:d=>t.deleteCentre(o.centre_id)},{default:m(()=>[b(" Delete ")]),_:2},1032,["onClick"])):g("",!0)])])])]))),256))])]),p(L,{page_data:t.$page.props.centres},null,8,["page_data"])])])])]),p(k,{show:t.isOpen,onClose:c[1]||(c[1]=o=>t.isOpen=!1),confirmationAlert:"danger",confirmationTitle:"Delete Centre",confirmationText:"Are you sure want to delete this centre?",confirmationButton:"Delete",confirmationMethod:"delete",confirmationRoute:t.confirmationRoute,confirmationData:t.confirmationData},null,8,["show","confirmationRoute","confirmationData"]),p(y(S),{onCloseImagebox:t.closeImage,images:t.images,openLightbox:t.isOpenImagebox},null,8,["onCloseImagebox","images","openLightbox"])])]),_:1})],64))}});export{it as default};
