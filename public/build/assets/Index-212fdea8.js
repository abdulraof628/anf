import{c as i,a as n,u as d,w as l,F as b,H as w,L as T,o as c,b as e,e as S,l as P,n as $,E as C,i as p,h as x,r as y,t as s}from"./app-e501deca.js";import{B}from"./Authenticated-e419867d.js";import{B as g}from"./Button-c51487b6.js";import{r as I}from"./PencilIcon-590e89ad.js";import{r as v}from"./SearchIcon-0cd5810b.js";import{r as L}from"./TrashIcon-d2223331.js";import{C as k}from"./ConfirmationModal-77b49e5a.js";import{P as O}from"./Pagination-53775274.js";import{h}from"./default.css_vue_type_style_index_0_src_true_lang-1fd6dac0.js";import{s as _}from"./multiselect-c45b26ca.js";import{Z as D}from"./main-faa4a77c.js";import{M}from"./Modal-1ddc74b4.js";import"./ApplicationLogo-c140f20f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./transition-23404d95.js";import"./VueFinalModal.esm-9bf5f26e.js";const V={class:"py-4 px-4"},j={class:"mx-auto"},z={class:"align-middle min-w-full px-2"},R={class:"flex justify-between gap-4 flex-col md:flex-row mb-4"},A={class:"flex flex-wrap gap-4 flex-col md:flex-row"},F={class:"flex"},N={class:"flex w-full relative text-gray-400"},H={class:"flex"},E={class:"flex"},J={class:"flex"},Y={class:"flex"},U={class:"overflow-x-auto"},Z={class:"table-auto min-w-full divide-y divide-gray-200"},K=e("thead",{class:"bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/14"},"#"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Name / invoice "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Date Issued"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Due Date"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Amount"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-2/14"},"Action")])],-1),q={class:"bg-white divide-y divide-gray-200"},G={key:0},Q=e("td",{class:"text-center",colspan:"10"},[e("div",{class:"p-3"}," No Record Found! ")],-1),W=[Q],X={class:"px-6 py-4 whitespace-nowrap"},ee={class:"text-sm font-medium text-gray-700"},te={class:"px-6 py-4 whitespace-nowrap"},oe={class:"flex items-center justify-between"},se={class:"text-sm font-medium text-indigo-600 truncate"},ae={class:"mt-2 sm:flex sm:justify-between"},ne={class:"flex items-center space-x-2"},re={class:"flex items-center text-sm text-gray-500"},le=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"h-1 w-1 text-gray-400",viewBox:"0 0 512 512"},[e("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"})],-1),ie={class:"flex items-center text-sm text-gray-500"},de={class:"text-sm font-medium text-gray-900"},ce={class:"px-6 py-4 whitespace-nowrap"},pe={class:"text-sm font-medium text-gray-900"},ue={class:"px-6 py-4 whitespace-nowrap"},me={class:"text-sm font-medium text-gray-900"},ge={class:"px-6 py-4 whitespace-nowrap"},fe={class:"text-sm font-medium text-gray-900"},xe=e("td",{class:"px-6 py-4 whitespace-nowrap"},[e("div",{class:"ml-2 flex-shrink-0 flex"},[e("p",{class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},s("Paid"))])],-1),he={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},be={class:"flex justify-center space-x-2"},_e=e("h3",{class:"text-gray-900 text-xl font-semibold"}," Invoice ",-1),ye={class:"h-[297mm] overflow-y-auto no-scrollbar",id:"invoice"},we={class:"flex flex-col justify-between divide-y p-8"},ve={class:""},ke=e("div",{class:"flex flex-row justify-between"},[e("div",{class:"flex self-center"},[e("img",{src:"/images/invoice_logo_alt.jpg",class:"w-48 h-28 block select-none",alt:""})]),e("div",{class:"text-right"},[e("span",{class:"mt-4 not-italic text-gray-800 text-md"},[e("span",{class:"font-bold text-lg"},"ALFA and Friends Sdn Bhd"),e("br"),p(" 36, Jalan BP 7/8, Bandar Bukit Puchong,"),e("br"),p(" 47120 Puchong, Selangor Darul Ehsan,"),e("br"),p(" Malaysia"),e("br")])])],-1),De=e("div",{class:"flex flex-row justify-between items-start"},[e("h3",{class:"mt-8 text-md font-semibold text-gray-800"},"To:")],-1),Me={class:"flex flex-row justify-between items-start space-y-0"},Te=e("span",{class:"not-italic text-gray-700 text-md"},[e("span",{class:"font-bold"},"Abdul Raof bin Mohd Iskandar"),e("br"),e("div",{class:"w-64"},[e("span",null,"36, Jalan BP 7/8, Bandar Bukit Puchong,47120 Puchong, Selangor Darul Ehsan,Malaysia")])],-1),Se={class:"space-y-2"},Pe={class:"grid grid-cols-1 gap-2"},$e={class:"grid grid-cols-5"},Ce=e("dt",{class:"col-span-3 font-semibold text-gray-800"},"Invoice Number:",-1),Be={class:"col-span-2 text-gray-500"},Ie={class:"grid grid-cols-5 gap-x-3"},Le=e("dt",{class:"col-span-3 font-semibold text-gray-800"},"Invoice Date:",-1),Oe={class:"col-span-2 text-gray-500"},Ve={class:"grid grid-cols-5 gap-x-3"},je=e("dt",{class:"col-span-3 font-semibold text-gray-800"},"Due Date:",-1),ze={class:"col-span-2 text-gray-500"},Re=e("div",{class:"mt-8 grid sm:grid-cols-2 gap-3"},[e("h4",{class:"text-md font-semibold text-gray-800"},"Student: Mr Raspberry PI")],-1),Ae={class:"mt-6"},Fe={class:"w-full"},Ne=e("thead",{class:"bg-gray-800"},[e("tr",null,[e("th",{class:"text-left py-2 px-4 text-xs font-medium text-gray-100 uppercase w-4/6"},"Item"),e("th",{class:"py-2 px-4 text-xs font-medium text-gray-100 uppercase w-1/6"},"Discount"),e("th",{class:"py-2 px-4 text-xs font-medium text-gray-100 uppercase w-1/6"},"Amount")])],-1),He={class:"border"},Ee={class:"py-2 px-4"},Je={class:"font-bold text-md text-gray-800 mb-1"},Ye={key:0,class:"font-normal text-md text-gray-800"},Ue={class:"font-normal text-md text-gray-800"},Ze={class:"text-center align-bottom py-2 px-4"},Ke={key:0,class:"font-normal text-md text-gray-800"},qe={class:"font-normal text-md text-gray-800"},Ge={class:"text-center align-bottom py-2 px-4"},Qe={key:0,class:"font-normal text-md text-gray-800"},We={class:"font-normal text-md text-gray-800"},Xe=e("td",{class:"pt-5 py-2 px-4"},null,-1),et=e("td",{class:"pt-5 py-2 px-4 text-center"},[e("p",{class:"font-medium text-lg text-gray-800"},"Total")],-1),tt={class:"pt-5 py-2 px-4 text-center"},ot={class:"font-medium text-lg text-gray-800"},st=e("div",{class:""},[e("div",{class:"mt-8"},[e("h4",{class:"text-md text-center font-semibold text-xl text-gray-800"},"Thank you!")])],-1),at={class:"flex justify-between space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},nt=e("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[e("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),e("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),rt=e("span",null,"Print",-1),lt={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["./css/app.css"],timeout:1e3,autoClose:!0,windowTitle:window.document.title},it={components:{SearchIcon:v,TrashIcon:L,PencilIcon:I,Head:w,Link:T,ConfirmationModal:k,Multiselect:_,Datepicker:D,Modal:M},data(){return{printing:!1,loading_resource:!1,show_resource:!1,isOpen:!1,confirmationData:"",confirmationRoute:"",open_modal:!1,params:{search:this.$page.props.filter?this.$page.props.filter.search:"",programme_id:this.$page.props.filter?this.$page.props.filter.programme_id:""},invoice_data:{parent_name:"Abdul Raof bin Mohd Iskandar",parent_address:"No 27, Jalan Kap Empat, 17/17D, Seksyen 17, Shah Alam",invoice_number:"",invoice_items:[],date_issued:"",due_date:"",total_amount:""}}},watch:{params:{handler(){this.$inertia.get(route("invoices"),this.params)},deep:!0}},methods:{viewInvoice(r){this.invoice_data.invoice_number=this.$page.props.invoices.data[r].invoice_number,this.invoice_data.invoice_items=JSON.parse(this.$page.props.invoices.data[r].invoice_items),this.invoice_data.date_issued=this.$page.props.invoices.data[r].date_issued,this.invoice_data.due_date=this.$page.props.invoices.data[r].due_date,this.invoice_data.total_amount=this.calculateTotals(this.$page.props.invoices.data[r].invoice_items),this.open_modal=!0},editResource(r){this.$inertia.get(route("invoices"),{resource_id:r})},deleteResource(r){this.confirmationRoute="invoices.destroy",this.confirmationData=r,this.isOpen=!0},calculateTotals(r){const o=JSON.parse(r);let a=0,t=0,u=0,m=0;return o.forEach(f=>{a+=f.programme_fee,u+=f.programme_fee_discount,f.include_material_fee&&(t+=f.material_fee,m+=f.material_fee_discount)}),this.programmeFeeTotal=a,this.materialFeeTotal=t,this.programmeFeeDiscountTotal=u,this.materialFeeDiscountTotal=m,a-u+(t-m)},print(){this.printing=!0,this.$htmlToPaper("invoice",lt,()=>{this.printing=!1})}}},Tt=Object.assign(it,{__name:"Index",setup(r){return(o,a)=>(c(),i(b,null,[n(d(w),{title:"Teacher Resources"}),n(B,null,{header:l(()=>[]),default:l(()=>[e("div",V,[e("div",j,[e("div",z,[e("div",R,[e("div",A,[e("div",F,[e("div",N,[n(d(v),{class:"text-gray-600 h-4 w-4 fill-current pointer-events-none absolute top-1/4 left-3",style:"top:30%"}),S(e("input",{class:"w-full border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg focus:ring-0 text-base focus:border-gray-300 appearance-none block pl-10",type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.params.search=t),placeholder:"Search"},null,512),[[P,o.params.search]])])]),e("div",H,[n(d(_),{modelValue:o.params.programme_id,"onUpdate:modelValue":a[1]||(a[1]=t=>o.params.programme_id=t),valueProp:"id",appendNewOption:!1,searchable:!0,options:o.$page.props.programmes,clearOnSelect:!1,canClear:!0,canDeselect:!0,trackBy:"name",label:"name",placeholder:"Programme",classes:{container:"relative w-full md:w-64 lg:w-64 flex items-center justify-end box-border cursor-pointer border-2 border-gray-300 rounded-lg bg-white text-base leading-snug outline-none h-10",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerActive:"border-2 border-gray-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",search:"w-full mt-1 h-8 absolute inset-0 focus:border-none outline-none focus:ring-0 appearance-none border-2 border-transparent focus:border-gray-300 text-base font-sans bg-white rounded-lg",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-500",clear:"pr-10 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80 text-gray-800",clearIcon:"fa fa-heart bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin flex-shrink-0 flex-grow-0",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-2 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-black-700",groupLabelSelected:"bg-gray-100 text-black",groupLabelSelectedPointed:"bg-gray-100 text-black opacity-90",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent"}},null,8,["modelValue","options","classes"])]),e("div",E,[n(d(_),{modelValue:o.params.centre_id,"onUpdate:modelValue":a[2]||(a[2]=t=>o.params.centre_id=t),valueProp:"ID",appendNewOption:!1,searchable:!0,options:o.$page.props.allowed_centres,clearOnSelect:!1,canClear:!1,canDeselect:!0,trackBy:"label",label:"label",placeholder:"Centre",classes:{container:"relative w-full md:w-64 lg:w-64 flex items-center justify-end box-border cursor-pointer border-2 border-gray-300 rounded-lg bg-white text-base leading-snug outline-none h-10",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerActive:"border-2 border-gray-300",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",search:"w-full mt-1 h-8 absolute inset-0 focus:border-none outline-none focus:ring-0 appearance-none border-2 border-transparent focus:border-gray-300 text-base font-sans bg-white rounded-lg",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-500",caret:"bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 py-px box-content mr-3.5 relative z-10 opacity-40 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin flex-shrink-0 flex-grow-0",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto flex-col-reverse rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none w-full",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-2 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-black-700",groupLabelSelected:"bg-gray-100 text-black",groupLabelSelectedPointed:"bg-gray-100 text-black opacity-90",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-green-100 bg-green-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent"}},null,8,["modelValue","options","classes"])]),e("div",J,[n(d(D),{class:$("w-full md:w-64 lg:w-64 rounded-lg shadow-sm"),style:C(o.$page.props.errors.end_time?"--dp-border-color: #fa9e9e":""),"input-class-name":"date-picker",modelValue:o.params.date,"onUpdate:modelValue":a[3]||(a[3]=t=>o.params.date=t),"month-picker":!0,"auto-apply":!0,placeholder:"Month / Year"},null,8,["style","modelValue"])])]),e("div",Y,[n(g,{route:o.route("invoices")},{default:l(()=>[p("New invoice")]),_:1},8,["route"])])]),e("div",U,[e("table",Z,[K,e("tbody",q,[o.$page.props.invoices.data.length?x("",!0):(c(),i("tr",G,W)),(c(!0),i(b,null,y(o.$page.props.invoices.data,(t,u)=>(c(),i("tr",{class:"",key:t.id},[e("td",X,[e("div",ee,s(u+1),1)]),e("td",te,[e("div",oe,[e("p",se,s(t.name),1)]),e("div",ae,[e("div",ne,[e("p",re,s(t.invoice_number),1),le,e("p",ie,s(t.invoice_number),1)])]),e("div",de,s(t.title),1)]),e("td",ce,[e("div",pe,s(d(h)(t.date_issued).format("DD MMM Y")),1)]),e("td",ue,[e("div",me,s(d(h)(t.due_date).format("DD MMM Y")),1)]),e("td",ge,[e("div",fe,s(o.calculateTotals(t.invoice_items)),1)]),xe,e("td",he,[e("div",be,[n(g,{buttonType:"blue",onClick:m=>o.viewInvoice(u)},{default:l(()=>[p("View / Print")]),_:2},1032,["onClick"]),n(g,{buttonType:"warning",onClick:m=>o.editResource(t.id)},{default:l(()=>[p("Edit")]),_:2},1032,["onClick"]),n(g,{buttonType:"danger",onClick:m=>o.deleteResource(t.id)},{default:l(()=>[p("Delete")]),_:2},1032,["onClick"])])])]))),128))])]),n(O,{page_data:o.$page.props.invoices},null,8,["page_data"])])])])]),n(k,{show:o.isOpen,onClose:a[4]||(a[4]=t=>o.isOpen=!1),confirmationAlert:"danger",confirmationTitle:"Delete Resource",confirmationText:"Are you sure want to delete this resource?",confirmationButton:"Delete",confirmationMethod:"delete",confirmationRoute:o.confirmationRoute,confirmationData:o.confirmationData},null,8,["show","confirmationRoute","confirmationData"]),n(M,{showModal:o.open_modal,modalType:"md",onHideModal:a[6]||(a[6]=t=>o.open_modal=!1)},{header:l(()=>[_e]),content:l(()=>[e("div",ye,[e("div",we,[e("div",ve,[ke,De,e("div",Me,[Te,e("div",Se,[e("div",Pe,[e("dl",$e,[Ce,e("dd",Be,s(o.invoice_data.invoice_number),1)]),e("dl",Ie,[Le,e("dd",Oe,s(d(h)(o.invoice_data.date_issued).format("DD MMM Y")),1)]),e("dl",Ve,[je,e("dd",ze,s(d(h)(o.invoice_data.due_date).format("DD MMM Y")),1)])])])]),Re,e("div",Ae,[e("table",Fe,[Ne,e("tbody",null,[(c(!0),i(b,null,y(o.invoice_data.invoice_items,t=>(c(),i("tr",He,[e("td",Ee,[e("p",Je,s(t.programme)+" ( Level "+s(t.programme_level)+" ) - June 2023",1),t.include_material_fee?(c(),i("p",Ye,"- Material Fee")):x("",!0),e("p",Ue,"- "+s(t.programme_type),1)]),e("td",Ze,[t.include_material_fee?(c(),i("p",Ke,s(t.material_fee_discount),1)):x("",!0),e("p",qe,s(t.programme_fee_discount),1)]),e("td",Ge,[t.include_material_fee?(c(),i("p",Qe,s(t.material_fee),1)):x("",!0),e("p",We,s(t.programme_fee),1)])]))),256))]),e("tfoot",null,[e("tr",null,[Xe,et,e("td",tt,[e("p",ot,s(this.invoice_data.total_amount),1)])])])])])]),st])])]),footer:l(()=>[e("div",at,[n(g,{buttonType:"blue",class:"px-4 py-2 space-x-2",onClick:o.print},{default:l(()=>[nt,rt]),_:1},8,["onClick"]),n(g,{buttonType:"gray",onClick:a[5]||(a[5]=t=>o.open_modal=!1)},{default:l(()=>[p("Close")]),_:1})])]),_:1},8,["showModal"])]),_:1})],64))}});export{Tt as default};
