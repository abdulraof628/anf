import{B as $}from"./Authenticated-d5536341.js";import{H as b,L as k}from"./@inertiajs-6e15fcc1.js";import{_}from"./Card-d08a29fb.js";import{_ as V}from"./index-e8d9219e.js";import{c as w}from"./lucide-vue-next-62ff5c75.js";import{y as n,x as o,u,Q as i,F as C,be as a,t as m,W as s,z as l,C as y,q as c,v as L,K as F}from"./@vue-2682a433.js";import"./ApplicationLogo-754713c8.js";import"./radix-vue-1c0958bf.js";import"./@floating-ui-46419ac1.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-268d443b.js";import"./axios-1779699b.js";import"./pusher-js-747fa3ad.js";import"./@vueform-93d31398.js";import"./@vuepic-72648ebd.js";import"./@babel-1b80a44a.js";import"./cropperjs-1d139b1c.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-ae9c59f1.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-bada8fb2.js";import"./@radix-icons-96330712.js";import"./lodash.isequal-aa94bca8.js";import"./vue-210fd32b.js";import"./lodash.clonedeep-15f95254.js";import"./qs-d67e8c34.js";import"./side-channel-51e4be2c.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-110a5121.js";import"./deepmerge-89e33937.js";import"./nprogress-47dccea4.js";const S={class:"grid grid-cols-1 gap-4 mb-3"},B={key:0},P={key:1},T={key:0,class:"mt-1 block focus:ring-0 focus:border-gray-300"},U={class:"flex justify-end"},N={class:"flex space-x-2"},W={components:{Head:b,Link:k},data(){return{list:{levels:[]},show_upload_file:!1,form:{id:this.$page.props.resource_info.id?this.$page.props.resource_info.id:"",title:this.$page.props.resource_info.title?this.$page.props.resource_info.title:"",programme_id:this.$page.props.resource_info.programme_id?this.$page.props.resource_info.programme_id:"",level_id:this.$page.props.resource_info.level?this.$page.props.resource_info.level:"",language_id:this.$page.props.resource_info.language_id?this.$page.props.resource_info.language_id:"",media_type_id:this.$page.props.resource_info.media_type?this.$page.props.resource_info.media_type:"",embed_link:this.$page.props.resource_info.content?this.$page.props.resource_info.content:"",embed_file:"",delete_previous_file:!1}}},watch:{"form.media_type_id":{handler(){this.form.embed_link="",this.form.embed_file="",this.form.delete_previous_file=!0,(this.form.media_type_id==2||this.form.media_type_id==3)&&(this.show_upload_file=!0)}}},methods:{submit(){this.$inertia.post(route("teacher_resources.update"),this.form,{preserveState:!0})},uploadFile(f){const e=f.target.files[0];this.form.media_type_id==2&&(e.type=="application/pdf"||e.name.toLowerCase().endsWith(".pdf")?this.form.embed_file=e:(alert("Only PDF File allowed!"),this.$refs.file_input.value="",this.form.embed_file="")),this.form.media_type_id==3&&(e.type==="application/vnd.ms-powerpoint"||e.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||e.name.toLowerCase().endsWith(".ppt")||e.name.toLowerCase().endsWith(".pptx")?this.form.embed_file=e:(alert("Only PowerPoint Sildeshow File allowed!"),this.$refs.file_input.value="",this.form.embed_file=""))},deletePreviousFile(){this.form.embed_link="",this.form.delete_previous_file=!0,this.show_upload_file=!0}}},Le=Object.assign(W,{__name:"Edit",setup(f){return(e,r)=>{const p=a("Label"),v=a("Input"),d=a("ComboBox"),h=a("Textarea"),g=a("Button");return m(),n(C,null,[o(u(b),{title:"Teacher Resources"}),o($,null,{header:i(()=>r[8]||(r[8]=[])),default:i(()=>[o(_,null,{title:i(()=>r[9]||(r[9]=[s("Resource Information")])),content:i(()=>[l("div",S,[l("div",null,[o(p,null,{default:i(()=>r[10]||(r[10]=[s("Title"),l("span",{class:"text-red-500"},"*",-1)])),_:1}),o(v,{type:"text",error:e.$page.props.errors.title,modelValue:e.form.title,"onUpdate:modelValue":r[0]||(r[0]=t=>e.form.title=t)},null,8,["error","modelValue"])]),l("div",null,[o(p,null,{default:i(()=>r[11]||(r[11]=[s("Programme"),l("span",{class:"text-red-500"},"*",-1)])),_:1}),o(d,{items:e.$page.props.programmes,"label-property":"name","value-property":"id",error:e.$page.props.errors.programme_id,modelValue:e.form.programme_id,"onUpdate:modelValue":r[1]||(r[1]=t=>e.form.programme_id=t),"select-placeholder":"Select Programme","search-placeholder":"Search programme..."},null,8,["items","error","modelValue"])]),l("div",null,[o(p,null,{default:i(()=>r[12]||(r[12]=[s("Level"),l("span",{class:"text-red-500"},"*",-1)])),_:1}),o(d,{items:e.$page.props.levels,"label-property":"name","value-property":"id",error:e.$page.props.errors.level_id,modelValue:e.form.level_id,"onUpdate:modelValue":r[2]||(r[2]=t=>e.form.level_id=t),"select-placeholder":"Select Level","search-placeholder":"Search level..."},null,8,["items","error","modelValue"])]),l("div",null,[o(p,null,{default:i(()=>r[13]||(r[13]=[s("Language"),l("span",{class:"text-red-500"},"*",-1)])),_:1}),o(d,{items:e.$page.props.languages,"label-property":"name","value-property":"id",error:e.$page.props.errors.language_id,modelValue:e.form.language_id,"onUpdate:modelValue":r[3]||(r[3]=t=>e.form.language_id=t),"select-placeholder":"Select Language","search-placeholder":"Search language..."},null,8,["items","error","modelValue"])]),l("div",null,[o(p,null,{default:i(()=>r[14]||(r[14]=[s("Media Type"),l("span",{class:"text-red-500"},"*",-1)])),_:1}),o(d,{items:e.$page.props.media_types,"label-property":"name","value-property":"id",error:e.$page.props.errors.media_type_id,modelValue:e.form.media_type_id,"onUpdate:modelValue":r[4]||(r[4]=t=>e.form.media_type_id=t),"select-placeholder":"Select Media Type","search-placeholder":"Search media type..."},null,8,["items","error","modelValue"])]),e.form.media_type_id==1?(m(),n("div",B,[o(p,null,{default:i(()=>r[15]||(r[15]=[s("Embed Link"),l("span",{class:"text-red-500"},"*",-1)])),_:1}),o(h,{rows:"3",error:e.$page.props.errors.embed_link,modelValue:e.form.embed_link,"onUpdate:modelValue":r[5]||(r[5]=t=>e.form.embed_link=t)},null,8,["error","modelValue"])])):y("",!0),e.form.media_type_id==2||e.form.media_type_id==3?(m(),n("div",P,[r[17]||(r[17]=l("label",{for:"",class:"block text-sm font-bold text-gray-700"},[s(" File "),l("span",{class:"text-red-500"},"*")],-1)),e.show_upload_file?(m(),n("label",T,[r[16]||(r[16]=l("span",{class:"sr-only"},"Browse File",-1)),l("input",{type:"file",ref:"file_input",class:c(["focus:ring-0 border rounded-md block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-gray-200 file:text-gray-700 focus:outline-none",e.$page.props.errors.embed_file?"border-red-300":"border-gray-300"]),onChange:r[6]||(r[6]=(...t)=>e.uploadFile&&e.uploadFile(...t))},null,34)])):(m(),L(u(V),{key:1,class:"space-x-1"},{default:i(()=>[l("span",null,F(e.form.embed_link),1),o(u(w),{class:"h-4 w-4 text-red-500 cursor-pointer",onClick:e.deletePreviousFile},null,8,["onClick"])]),_:1}))])):y("",!0)])]),_:1}),o(_,null,{content:i(()=>[l("div",U,[l("div",N,[o(g,{variant:"outline",onClick:r[7]||(r[7]=t=>e.$inertia.get(e.route("teacher_resources")))},{default:i(()=>r[18]||(r[18]=[s("Cancel")])),_:1}),o(g,{onClick:e.submit},{default:i(()=>r[19]||(r[19]=[s("Save")])),_:1},8,["onClick"])])])]),_:1})]),_:1})],64)}}});export{Le as default};
