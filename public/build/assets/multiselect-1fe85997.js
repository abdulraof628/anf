import{o as N,h as K,d as G,i as w,O as Ne,f as Ke,n as E,F as be,q as Le,m as Q,X as $e,e as Ll,t as ce,M as Z,a7 as ke,r as z,j as h,J as x,Q as Ce,g as _e}from"./app-9e209d6c.js";function ae(e){return[null,void 0].indexOf(e)!==-1}function kl(e,r,a){const{object:o,valueProp:s,mode:y}=Z(e),t=ke().proxy,d=a.iv,L=(O,I=!0)=>{d.value=c(O);const S=b(O);r.emit("change",S,t),I&&(r.emit("input",S),r.emit("update:modelValue",S))},b=O=>o.value||ae(O)?O:Array.isArray(O)?O.map(I=>I[s.value]):O[s.value],c=O=>ae(O)?y.value==="single"?{}:[]:O;return{update:L}}function wl(e,r){const{value:a,modelValue:o,mode:s,valueProp:y}=Z(e),t=z(s.value!=="single"?[]:{}),d=o&&o.value!==void 0?o:a,L=h(()=>s.value==="single"?t.value[y.value]:t.value.map(c=>c[y.value])),b=h(()=>s.value!=="single"?t.value.map(c=>c[y.value]).join(","):t.value[y.value]);return{iv:t,internalValue:t,ev:d,externalValue:d,textValue:b,plainValue:L}}function Pl(e,r,a){const{regex:o}=Z(e),s=ke().proxy,y=a.isOpen,t=a.open,d=z(null),L=z(null),b=()=>{d.value=""},c=S=>{d.value=S.target.value},O=S=>{if(o&&o.value){let P=o.value;typeof P=="string"&&(P=new RegExp(P)),S.key.match(P)||S.preventDefault()}},I=S=>{if(o&&o.value){let A=(S.clipboardData||window.clipboardData).getData("Text"),D=o.value;typeof D=="string"&&(D=new RegExp(D)),A.split("").every(g=>!!g.match(D))||S.preventDefault()}r.emit("paste",S,s)};return x(d,S=>{!y.value&&S&&t(),r.emit("search-change",S,s)}),{search:d,input:L,clearSearch:b,handleSearchInput:c,handleKeypress:O,handlePaste:I}}function Tl(e,r,a){const{groupSelect:o,mode:s,groups:y,disabledProp:t}=Z(e),d=z(null),L=c=>{c===void 0||c!==null&&c[t.value]||y.value&&c&&c.group&&(s.value==="single"||!o.value)||(d.value=c)};return{pointer:d,setPointer:L,clearPointer:()=>{L(null)}}}function Fe(e,r=!0){return r?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function ql(e){return Object.prototype.toString.call(e)==="[object Object]"}function El(e,r){const a=r.slice().sort();return e.length===r.length&&e.slice().sort().every(function(o,s){return o===a[s]})}function Cl(e,r,a){const{options:o,mode:s,trackBy:y,limit:t,hideSelected:d,createTag:L,createOption:b,label:c,appendNewTag:O,appendNewOption:I,multipleLabel:S,object:P,loading:A,delay:D,resolveOnLoad:g,minChars:i,filterResults:C,clearOnSearch:M,clearOnSelect:H,valueProp:p,allowAbsent:F,groupLabel:W,canDeselect:j,max:X,strict:$,closeOnSelect:v,closeOnDeselect:k,groups:_,reverse:te,infinite:ge,groupOptions:U,groupHideEmpty:we,groupSelect:T,onCreate:B,disabledProp:R,searchStart:ie,searchFilter:me}=Z(e),J=ke().proxy,q=a.iv,n=a.ev,f=a.search,Y=a.clearSearch,ne=a.update,el=a.pointer,de=a.clearPointer,ll=a.focus,al=a.deactivate,ve=a.close,tl=a.localize,ye=z([]),re=z([]),ee=z(!1),Ie=z(null),De=z(ge.value&&t.value===-1?10:t.value),ze=h(()=>L.value||b.value||!1),nl=h(()=>O.value!==void 0?O.value:I.value!==void 0?I.value:!0),oe=h(()=>{if(_.value){let l=Pe.value||[],u=[];return l.forEach(m=>{Ge(m[U.value]).forEach(V=>{u.push(Object.assign({},V,m[R.value]?{[R.value]:!0}:{}))})}),u}else{let l=Ge(re.value||[]);return ye.value.length&&(l=l.concat(ye.value)),l}}),He=h(()=>{let l=oe.value;return te.value&&(l=l.reverse()),fe.value.length&&(l=fe.value.concat(l)),Me(l)}),Oe=h(()=>{let l=He.value;return De.value>0&&(l=l.slice(0,De.value)),l}),Pe=h(()=>{if(!_.value)return[];let l=[],u=re.value||[];return ye.value.length&&l.push({[W.value]:" ",[U.value]:[...ye.value],__CREATE__:!0}),l.concat(u)}),ul=h(()=>{var u;let l=[...Pe.value].map(m=>({...m}));return fe.value.length&&((u=l[0])!=null&&u.__CREATE__?l[0][U.value]=[...fe.value,...l[0][U.value]]:l=[{[W.value]:" ",[U.value]:[...fe.value],__CREATE__:!0}].concat(l)),l}),We=h(()=>{if(!_.value)return[];let l=ul.value;return Ol((l||[]).map((u,m)=>{const V=Ge(u[U.value]);return{...u,index:m,group:!0,[U.value]:Me(V,!1).map(Se=>Object.assign({},Se,u[R.value]?{[R.value]:!0}:{})),__VISIBLE__:Me(V).map(Se=>Object.assign({},Se,u[R.value]?{[R.value]:!0}:{}))}}))}),Be=h(()=>{switch(s.value){case"single":return!ae(q.value[p.value]);case"multiple":case"tags":return!ae(q.value)&&q.value.length>0}}),sl=h(()=>S!==void 0&&S.value!==void 0?S.value(q.value,J):q.value&&q.value.length>1?`${q.value.length} options selected`:"1 option selected"),il=h(()=>!oe.value.length&&!ee.value&&!fe.value.length),rl=h(()=>oe.value.length>0&&Oe.value.length==0&&(f.value&&_.value||!_.value)),fe=h(()=>ze.value===!1||!f.value?[]:gl(f.value)!==-1?[]:[{[p.value]:f.value,[le.value]:f.value,[c.value]:f.value,__CREATE__:!0}]),le=h(()=>y.value||c.value),ol=h(()=>{switch(s.value){case"single":return null;case"multiple":case"tags":return[]}}),cl=h(()=>A.value||ee.value),pe=l=>{switch(typeof l!="object"&&(l=se(l)),s.value){case"single":ne(l);break;case"multiple":case"tags":ne(q.value.concat(l));break}r.emit("select",Ue(l),l,J)},he=l=>{switch(typeof l!="object"&&(l=se(l)),s.value){case"single":Qe();break;case"tags":case"multiple":ne(Array.isArray(l)?q.value.filter(u=>l.map(m=>m[p.value]).indexOf(u[p.value])===-1):q.value.filter(u=>u[p.value]!=l[p.value]));break}r.emit("deselect",Ue(l),l,J)},Ue=l=>P.value?l:l[p.value],Je=l=>{he(l)},dl=(l,u)=>{if(u.button!==0){u.preventDefault();return}Je(l)},Qe=()=>{r.emit("clear",J),ne(ol.value)},ue=l=>{if(l.group!==void 0)return s.value==="single"?!1:bl(l[U.value])&&l[U.value].length;switch(s.value){case"single":return!ae(q.value)&&q.value[p.value]==l[p.value];case"tags":case"multiple":return!ae(q.value)&&q.value.map(u=>u[p.value]).indexOf(l[p.value])!==-1}},Ae=l=>l[R.value]===!0,Re=()=>X===void 0||X.value===-1||!Be.value&&X.value>0?!1:q.value.length>=X.value,vl=l=>{if(!Ae(l)){if(B&&B.value&&!ue(l)&&l.__CREATE__&&(l={...l},delete l.__CREATE__,l=B.value(l,J),l instanceof Promise)){ee.value=!0,l.then(u=>{ee.value=!1,Xe(u)});return}Xe(l)}},Xe=l=>{switch(l.__CREATE__&&(l={...l},delete l.__CREATE__),s.value){case"single":if(l&&ue(l)){j.value&&he(l),k.value&&(de(),ve());return}l&&je(l),H.value&&Y(),v.value&&(de(),ve()),l&&pe(l);break;case"multiple":if(l&&ue(l)){he(l),k.value&&(de(),ve());return}if(Re()){r.emit("max",J);return}l&&(je(l),pe(l)),H.value&&Y(),d.value&&de(),v.value&&ve();break;case"tags":if(l&&ue(l)){he(l),k.value&&(de(),ve());return}if(Re()){r.emit("max",J);return}l&&je(l),H.value&&Y(),l&&pe(l),d.value&&de(),v.value&&ve();break}v.value||ll()},fl=l=>{if(!(Ae(l)||s.value==="single"||!T.value)){switch(s.value){case"multiple":case"tags":hl(l[U.value])?he(l[U.value]):pe(l[U.value].filter(u=>q.value.map(m=>m[p.value]).indexOf(u[p.value])===-1).filter(u=>!u[R.value]).filter((u,m)=>q.value.length+1+m<=X.value||X.value===-1));break}v.value&&al()}},je=l=>{se(l[p.value])===void 0&&ze.value&&(r.emit("tag",l[p.value],J),r.emit("option",l[p.value],J),r.emit("create",l[p.value],J),nl.value&&yl(l),Y())},pl=()=>{s.value!=="single"&&pe(Oe.value.filter(l=>!l.disabled&&!ue(l)))},hl=l=>l.find(u=>!ue(u)&&!u[R.value])===void 0,bl=l=>l.find(u=>!ue(u))===void 0,se=l=>oe.value[oe.value.map(u=>String(u[p.value])).indexOf(String(l))],gl=(l,u=!0)=>oe.value.map(m=>parseInt(m[le.value])==m[le.value]?parseInt(m[le.value]):m[le.value]).indexOf(parseInt(l)==l?parseInt(l):l),ml=l=>["tags","multiple"].indexOf(s.value)!==-1&&d.value&&ue(l),yl=l=>{ye.value.push(l)},Ol=l=>we.value?l.filter(u=>f.value?u.__VISIBLE__.length:u[U.value].length):l.filter(u=>f.value?u.__VISIBLE__.length:!0),Me=(l,u=!0)=>{let m=l;if(f.value&&C.value){let V=me.value;V||(V=(Se,sa)=>{let Ze=Fe(tl(Se[le.value]),$.value);return ie.value?Ze.startsWith(Fe(f.value,$.value)):Ze.indexOf(Fe(f.value,$.value))!==-1}),m=m.filter(V)}return d.value&&u&&(m=m.filter(V=>!ml(V))),m},Ge=l=>{let u=l;return ql(u)&&(u=Object.keys(u).map(m=>{let V=u[m];return{[p.value]:m,[le.value]:V,[c.value]:V}})),u=u.map(m=>typeof m=="object"?m:{[p.value]:m,[le.value]:m,[c.value]:m}),u},Te=()=>{ae(n.value)||(q.value=Ee(n.value))},qe=l=>(ee.value=!0,new Promise((u,m)=>{o.value(f.value,J).then(V=>{re.value=V||[],typeof l=="function"&&l(V),ee.value=!1}).catch(V=>{console.error(V),re.value=[],ee.value=!1}).finally(()=>{u()})})),Ve=()=>{if(Be.value)if(s.value==="single"){let l=se(q.value[p.value]);if(l!==void 0){let u=l[c.value];q.value[c.value]=u,P.value&&(n.value[c.value]=u)}}else q.value.forEach((l,u)=>{let m=se(q.value[u][p.value]);if(m!==void 0){let V=m[c.value];q.value[u][c.value]=V,P.value&&(n.value[u][c.value]=V)}})},Sl=l=>{qe(l)},Ee=l=>ae(l)?s.value==="single"?{}:[]:P.value?l:s.value==="single"?se(l)||(F.value?{[c.value]:l,[p.value]:l,[le.value]:l}:{}):l.filter(u=>!!se(u)||F.value).map(u=>se(u)||{[c.value]:u,[p.value]:u,[le.value]:u}),Ye=()=>{Ie.value=x(f,l=>{l.length<i.value||!l&&i.value!==0||(ee.value=!0,M.value&&(re.value=[]),setTimeout(()=>{l==f.value&&o.value(f.value,J).then(u=>{(l==f.value||!f.value)&&(re.value=u,el.value=Oe.value.filter(m=>m[R.value]!==!0)[0]||null,ee.value=!1)}).catch(u=>{console.error(u)})},D.value))},{flush:"sync"})};if(s.value!=="single"&&!ae(n.value)&&!Array.isArray(n.value))throw new Error(`v-model must be an array when using "${s.value}" mode`);return o&&typeof o.value=="function"?g.value?qe(Te):P.value==!0&&Te():(re.value=o.value,Te()),D.value>-1&&Ye(),x(D,(l,u)=>{Ie.value&&Ie.value(),l>=0&&Ye()}),x(n,l=>{if(ae(l)){ne(Ee(l),!1);return}switch(s.value){case"single":(P.value?l[p.value]!=q.value[p.value]:l!=q.value[p.value])&&ne(Ee(l),!1);break;case"multiple":case"tags":El(P.value?l.map(u=>u[p.value]):l,q.value.map(u=>u[p.value]))||ne(Ee(l),!1);break}},{deep:!0}),x(o,(l,u)=>{typeof e.options=="function"?g.value&&(!u||l&&l.toString()!==u.toString())&&qe():(re.value=e.options,Object.keys(q.value).length||Te(),Ve())}),x(c,Ve),{pfo:He,fo:Oe,filteredOptions:Oe,hasSelected:Be,multipleLabelText:sl,eo:oe,extendedOptions:oe,eg:Pe,extendedGroups:Pe,fg:We,filteredGroups:We,noOptions:il,noResults:rl,resolving:ee,busy:cl,offset:De,select:pe,deselect:he,remove:Je,selectAll:pl,clear:Qe,isSelected:ue,isDisabled:Ae,isMax:Re,getOption:se,handleOptionClick:vl,handleGroupClick:fl,handleTagRemove:dl,refreshOptions:Sl,resolveOptions:qe,refreshLabels:Ve}}function Il(e,r,a){const{valueProp:o,showOptions:s,searchable:y,groupLabel:t,groups:d,mode:L,groupSelect:b,disabledProp:c,groupOptions:O}=Z(e),I=a.fo,S=a.fg,P=a.handleOptionClick,A=a.handleGroupClick,D=a.search,g=a.pointer,i=a.setPointer,C=a.clearPointer,M=a.multiselect,H=a.isOpen,p=h(()=>I.value.filter(n=>!n[c.value])),F=h(()=>S.value.filter(n=>!n[c.value])),W=h(()=>L.value!=="single"&&b.value),j=h(()=>g.value&&g.value.group),X=h(()=>J(g.value)),$=h(()=>{const n=j.value?g.value:J(g.value),f=F.value.map(ne=>ne[t.value]).indexOf(n[t.value]);let Y=F.value[f-1];return Y===void 0&&(Y=k.value),Y}),v=h(()=>{let n=F.value.map(f=>f.label).indexOf(j.value?g.value[t.value]:J(g.value)[t.value])+1;return F.value.length<=n&&(n=0),F.value[n]}),k=h(()=>[...F.value].slice(-1)[0]),_=h(()=>g.value.__VISIBLE__.filter(n=>!n[c.value])[0]),te=h(()=>{const n=X.value.__VISIBLE__.filter(f=>!f[c.value]);return n[n.map(f=>f[o.value]).indexOf(g.value[o.value])-1]}),ge=h(()=>{const n=J(g.value).__VISIBLE__.filter(f=>!f[c.value]);return n[n.map(f=>f[o.value]).indexOf(g.value[o.value])+1]}),U=h(()=>[...$.value.__VISIBLE__.filter(n=>!n[c.value])].slice(-1)[0]),we=h(()=>[...k.value.__VISIBLE__.filter(n=>!n[c.value])].slice(-1)[0]),T=n=>g.value&&(!n.group&&g.value[o.value]===n[o.value]||n.group!==void 0&&g.value[t.value]===n[t.value])?!0:void 0,B=()=>{i(p.value[0]||null)},R=()=>{!g.value||g.value[c.value]===!0||(j.value?A(g.value):P(g.value))},ie=()=>{if(g.value===null)i((d.value&&W.value?F.value[0].__CREATE__?p.value[0]:F.value[0]:p.value[0])||null);else if(d.value&&W.value){let n=j.value?_.value:ge.value;n===void 0&&(n=v.value,n.__CREATE__&&(n=n[O.value][0])),i(n||null)}else{let n=p.value.map(f=>f[o.value]).indexOf(g.value[o.value])+1;p.value.length<=n&&(n=0),i(p.value[n]||null)}Ce(()=>{q()})},me=()=>{if(g.value===null){let n=p.value[p.value.length-1];d.value&&W.value&&(n=we.value,n===void 0&&(n=k.value)),i(n||null)}else if(d.value&&W.value){let n=j.value?U.value:te.value;n===void 0&&(n=j.value?$.value:X.value,n.__CREATE__&&(n=U.value,n===void 0&&(n=$.value))),i(n||null)}else{let n=p.value.map(f=>f[o.value]).indexOf(g.value[o.value])-1;n<0&&(n=p.value.length-1),i(p.value[n]||null)}Ce(()=>{q()})},J=n=>F.value.find(f=>f.__VISIBLE__.map(Y=>Y[o.value]).indexOf(n[o.value])!==-1),q=()=>{let n=M.value.querySelector("[data-pointed]");if(!n)return;let f=n.parentElement.parentElement;d.value&&(f=j.value?n.parentElement.parentElement.parentElement:n.parentElement.parentElement.parentElement.parentElement),n.offsetTop+n.offsetHeight>f.clientHeight+f.scrollTop&&(f.scrollTop=n.offsetTop+n.offsetHeight-f.clientHeight),n.offsetTop<f.scrollTop&&(f.scrollTop=n.offsetTop)};return x(D,n=>{y.value&&(n.length&&s.value?B():C())}),x(H,n=>{if(n){let f=M.value.querySelectorAll("[data-selected]")[0];if(!f)return;let Y=f.parentElement.parentElement;Ce(()=>{Y.scrollTop>0||(Y.scrollTop=f.offsetTop)})}}),{pointer:g,canPointGroups:W,isPointed:T,setPointerFirst:B,selectPointer:R,forwardPointer:ie,backwardPointer:me}}function Dl(e,r,a){const{disabled:o}=Z(e),s=ke().proxy,y=z(!1);return{isOpen:y,open:()=>{y.value||o.value||(y.value=!0,r.emit("open",s))},close:()=>{y.value&&(y.value=!1,r.emit("close",s))}}}function Bl(e,r,a){const{searchable:o,disabled:s,clearOnBlur:y}=Z(e),t=a.input,d=a.open,L=a.close,b=a.clearSearch,c=a.isOpen,O=z(null),I=z(null),S=z(null),P=z(!1),A=z(!1),D=h(()=>o.value||s.value?-1:0),g=()=>{o.value&&t.value.blur(),I.value.blur()},i=()=>{o.value&&!s.value&&t.value.focus()},C=(j=!0)=>{s.value||(P.value=!0,j&&d())},M=()=>{P.value=!1,setTimeout(()=>{P.value||(L(),y.value&&b())},1)};return{multiselect:O,wrapper:I,tags:S,tabindex:D,isActive:P,mouseClicked:A,blur:g,focus:i,activate:C,deactivate:M,handleFocusIn:j=>{j.target.closest("[data-tags]")&&j.target.nodeName!=="INPUT"||j.target.closest("[data-clear]")||C(A.value)},handleFocusOut:()=>{M()},handleCaretClick:()=>{M(),g()},handleMousedown:j=>{A.value=!0,c.value&&(j.target.isEqualNode(I.value)||j.target.isEqualNode(S.value))?setTimeout(()=>{M()},0):document.activeElement.isEqualNode(I.value)&&!c.value&&C(),setTimeout(()=>{A.value=!1},0)}}}function Al(e,r,a){const{mode:o,addTagOn:s,openDirection:y,searchable:t,showOptions:d,valueProp:L,groups:b,addOptionOn:c,createTag:O,createOption:I,reverse:S}=Z(e),P=ke().proxy,A=a.iv,D=a.update,g=a.search,i=a.setPointer,C=a.selectPointer,M=a.backwardPointer,H=a.forwardPointer,p=a.multiselect,F=a.wrapper,W=a.tags,j=a.isOpen,X=a.open,$=a.blur,v=a.fo,k=h(()=>O.value||I.value||!1),_=h(()=>s.value!==void 0?s.value:c.value!==void 0?c.value:["enter"]),te=()=>{o.value==="tags"&&!d.value&&k.value&&t.value&&!b.value&&i(v.value[v.value.map(T=>T[L.value]).indexOf(g.value)])},ge=T=>{let B=T.length-1;for(;B>=0&&(T[B].remove===!1||T[B].disabled);)B--;return B<0||T.splice(B,1),T};return{handleKeydown:T=>{r.emit("keydown",T,P);let B,R;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(T.key)!==-1&&o.value==="tags"&&(B=[...p.value.querySelectorAll("[data-tags] > *")].filter(ie=>ie!==W.value),R=B.findIndex(ie=>ie===document.activeElement)),T.key){case"Backspace":if(o.value==="single"||t.value&&[null,""].indexOf(g.value)===-1||A.value.length===0)return;D(ge([...A.value]));break;case"Enter":if(T.preventDefault(),T.keyCode===229)return;if(R!==-1&&R!==void 0){D([...A.value].filter((ie,me)=>me!==R)),R===B.length-1&&(B.length-1?B[B.length-2].focus():t.value?W.value.querySelector("input").focus():F.value.focus());return}if(_.value.indexOf("enter")===-1&&k.value)return;te(),C();break;case" ":if(!k.value&&!t.value){T.preventDefault(),te(),C();return}if(!k.value)return!1;if(_.value.indexOf("space")===-1&&k.value)return;T.preventDefault(),te(),C();break;case"Tab":case";":case",":if(_.value.indexOf(T.key.toLowerCase())===-1||!k.value)return;te(),C(),T.preventDefault();break;case"Escape":$();break;case"ArrowUp":if(T.preventDefault(),!d.value)return;j.value||X(),M();break;case"ArrowDown":if(T.preventDefault(),!d.value)return;j.value||X(),H();break;case"ArrowLeft":if(t.value&&W.value&&W.value.querySelector("input").selectionStart||T.shiftKey||o.value!=="tags"||!A.value||!A.value.length)return;T.preventDefault(),R===-1?B[B.length-1].focus():R>0&&B[R-1].focus();break;case"ArrowRight":if(R===-1||T.shiftKey||o.value!=="tags"||!A.value||!A.value.length)return;T.preventDefault(),B.length>R+1?B[R+1].focus():t.value?W.value.querySelector("input").focus():t.value||F.value.focus();break}},handleKeyup:T=>{r.emit("keyup",T,P)},preparePointer:te}}function Rl(e,r,a){const{classes:o,disabled:s,openDirection:y,showOptions:t}=Z(e),d=a.isOpen,L=a.isPointed,b=a.isSelected,c=a.isDisabled,O=a.isActive,I=a.canPointGroups,S=a.resolving,P=a.fo,A=h(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...o.value})),D=h(()=>!!(d.value&&t.value&&(!S.value||S.value&&P.value.length)));return{classList:h(()=>{const i=A.value;return{container:[i.container].concat(s.value?i.containerDisabled:[]).concat(D.value&&y.value==="top"?i.containerOpenTop:[]).concat(D.value&&y.value!=="top"?i.containerOpen:[]).concat(O.value?i.containerActive:[]),wrapper:i.wrapper,spacer:i.spacer,singleLabel:i.singleLabel,singleLabelText:i.singleLabelText,multipleLabel:i.multipleLabel,search:i.search,tags:i.tags,tag:[i.tag].concat(s.value?i.tagDisabled:[]),tagDisabled:i.tagDisabled,tagRemove:i.tagRemove,tagRemoveIcon:i.tagRemoveIcon,tagsSearchWrapper:i.tagsSearchWrapper,tagsSearch:i.tagsSearch,tagsSearchCopy:i.tagsSearchCopy,placeholder:i.placeholder,caret:[i.caret].concat(d.value?i.caretOpen:[]),clear:i.clear,clearIcon:i.clearIcon,spinner:i.spinner,inifinite:i.inifinite,inifiniteSpinner:i.inifiniteSpinner,dropdown:[i.dropdown].concat(y.value==="top"?i.dropdownTop:[]).concat(!d.value||!t.value||!D.value?i.dropdownHidden:[]),options:[i.options].concat(y.value==="top"?i.optionsTop:[]),group:i.group,groupLabel:C=>{let M=[i.groupLabel];return L(C)?M.push(b(C)?i.groupLabelSelectedPointed:i.groupLabelPointed):b(C)&&I.value?M.push(c(C)?i.groupLabelSelectedDisabled:i.groupLabelSelected):c(C)&&M.push(i.groupLabelDisabled),I.value&&M.push(i.groupLabelPointable),M},groupOptions:i.groupOptions,option:(C,M)=>{let H=[i.option];return L(C)?H.push(b(C)?i.optionSelectedPointed:i.optionPointed):b(C)?H.push(c(C)?i.optionSelectedDisabled:i.optionSelected):(c(C)||M&&c(M))&&H.push(i.optionDisabled),H},noOptions:i.noOptions,noResults:i.noResults,assist:i.assist,fakeInput:i.fakeInput}}),showDropdown:D}}function jl(e,r,a){const{limit:o,infinite:s}=Z(e),y=a.isOpen,t=a.offset,d=a.search,L=a.pfo,b=a.eo,c=z(null),O=z(null),I=h(()=>t.value<L.value.length),S=A=>{const{isIntersecting:D,target:g}=A[0];if(D){const i=g.offsetParent,C=i.scrollTop;t.value+=o.value==-1?10:o.value,Ce(()=>{i.scrollTop=C})}},P=()=>{y.value&&t.value<L.value.length?c.value.observe(O.value):!y.value&&c.value&&c.value.disconnect()};return x(y,()=>{s.value&&P()}),x(d,()=>{s.value&&(t.value=o.value,P())},{flush:"post"}),x(b,()=>{s.value&&P()},{immediate:!1,flush:"post"}),_e(()=>{window&&window.IntersectionObserver&&(c.value=new IntersectionObserver(S))}),{hasMore:I,infiniteLoader:O}}function Ml(e,r,a){const{placeholder:o,id:s,valueProp:y,label:t,mode:d,groupLabel:L,aria:b,searchable:c}=Z(e),O=a.pointer,I=a.iv,S=a.hasSelected,P=a.multipleLabelText,A=z(null),D=h(()=>{let v=[];return s&&s.value&&v.push(s.value),v.push("assist"),v.join("-")}),g=h(()=>{let v=[];return s&&s.value&&v.push(s.value),v.push("multiselect-options"),v.join("-")}),i=h(()=>{let v=[];if(s&&s.value&&v.push(s.value),O.value)return v.push(O.value.group?"multiselect-group":"multiselect-option"),v.push(O.value.group?O.value.index:O.value[y.value]),v.join("-")}),C=h(()=>o.value),M=h(()=>d.value!=="single"),H=h(()=>{let v="";return d.value==="single"&&S.value&&(v+=I.value[t.value]),d.value==="multiple"&&S.value&&(v+=P.value),d.value==="tags"&&S.value&&(v+=I.value.map(k=>k[t.value]).join(", ")),v}),p=h(()=>{let v={...b.value};return c.value&&(v["aria-labelledby"]=v["aria-labelledby"]?`${D.value} ${v["aria-labelledby"]}`:D.value,H.value&&v["aria-label"]&&(v["aria-label"]=`${H.value}, ${v["aria-label"]}`)),v}),F=v=>{let k=[];return s&&s.value&&k.push(s.value),k.push("multiselect-option"),k.push(v[y.value]),k.join("-")},W=v=>{let k=[];return s&&s.value&&k.push(s.value),k.push("multiselect-group"),k.push(v.index),k.join("-")},j=v=>{let k=[];return k.push(v),k.join(" ")},X=v=>{let k=[];return k.push(v),k.join(" ")},$=v=>`${v} ❎`;return _e(()=>{if(s&&s.value&&document&&document.querySelector){let v=document.querySelector(`[for="${s.value}"]`);A.value=v?v.innerText:null}}),{arias:p,ariaLabel:H,ariaAssist:D,ariaControls:g,ariaPlaceholder:C,ariaMultiselectable:M,ariaActiveDescendant:i,ariaOptionId:F,ariaOptionLabel:j,ariaGroupId:W,ariaGroupLabel:X,ariaTagLabel:$}}function Gl(e,r,a){const{locale:o,fallbackLocale:s}=Z(e);return{localize:t=>{var d,L;return t&&typeof t=="object"?(t==null?void 0:t[o.value])||(t==null?void 0:t[(d=o.value)==null?void 0:d.toUpperCase()])||(t==null?void 0:t[s.value])||(t==null?void 0:t[(L=s.value)==null?void 0:L.toUpperCase()])||(t==null?void 0:t[Object.keys(t)[0]]):t}}}function Vl(e,r,a,o={}){return a.forEach(s=>{s&&(o={...o,...s(e,r,o)})}),o}var xe={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(e,r){return Vl(e,r,[Gl,wl,Tl,Dl,Pl,kl,Bl,Cl,jl,Il,Al,Rl,Ml])}};const Nl=["id","dir"],Kl=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],Fl=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],zl=["onKeyup","aria-label"],Hl=["onClick"],Wl=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],Ul=["innerHTML"],Jl=["id"],Ql=["id","aria-label","aria-selected"],Xl=["data-pointed","onMouseenter","onClick"],Yl=["innerHTML"],Zl=["aria-label"],$l=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],_l=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],xl=["innerHTML"],ea=["innerHTML"],la=["value"],aa=["name","value"],ta=["name","value"],na=["id"];function ua(e,r,a,o,s,y){return N(),K("div",{ref:"multiselect",class:E(e.classList.container),id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,onFocusin:r[10]||(r[10]=(...t)=>e.handleFocusIn&&e.handleFocusIn(...t)),onFocusout:r[11]||(r[11]=(...t)=>e.handleFocusOut&&e.handleFocusOut(...t)),onKeyup:r[12]||(r[12]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onKeydown:r[13]||(r[13]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[G("div",Ne({class:e.classList.wrapper,onMousedown:r[9]||(r[9]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":a.searchable?void 0:e.ariaControls,"aria-placeholder":a.searchable?void 0:e.ariaPlaceholder,"aria-expanded":a.searchable?void 0:e.isOpen,"aria-activedescendant":a.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":a.searchable?void 0:e.ariaMultiselectable,role:a.searchable?void 0:"combobox"},a.searchable?{}:e.arias),[w(" Search "),a.mode!=="tags"&&a.searchable&&!a.disabled?(N(),K("input",Ne({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0,onInput:r[0]||(r[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:r[1]||(r[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:r[2]||(r[2]=Ke((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,Fl)):w("v-if",!0),w(" Tags (with search) "),a.mode=="tags"?(N(),K("div",{key:1,class:E(e.classList.tags),"data-tags":""},[(N(!0),K(be,null,Le(e.iv,(t,d,L)=>Q(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},()=>[(N(),K("span",{class:E([e.classList.tag,t.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:$e(b=>e.handleTagRemove(t,b),["enter"]),key:L,"aria-label":e.ariaTagLabel(e.localize(t[a.label]))},[Ll(ce(e.localize(t[a.label]))+" ",1),!a.disabled&&!t.disabled?(N(),K("span",{key:0,class:E(e.classList.tagRemove),onClick:Ke(b=>e.handleTagRemove(t,b),["stop"])},[G("span",{class:E(e.classList.tagRemoveIcon)},null,2)],10,Hl)):w("v-if",!0)],42,zl))])),256)),G("div",{class:E(e.classList.tagsSearchWrapper),ref:"tags"},[w(" Used for measuring search width "),G("span",{class:E(e.classList.tagsSearchCopy)},ce(e.search),3),w(" Actual search input "),a.searchable&&!a.disabled?(N(),K("input",Ne({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete,onInput:r[3]||(r[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:r[4]||(r[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:r[5]||(r[5]=Ke((...t)=>e.handlePaste&&e.handlePaste(...t),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,Wl)):w("v-if",!0)],2)],2)):w("v-if",!0),w(" Single label "),a.mode=="single"&&e.hasSelected&&!e.search&&e.iv?Q(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[G("div",{class:E(e.classList.singleLabel)},[G("span",{class:E(e.classList.singleLabelText)},ce(e.localize(e.iv[a.label])),3)],2)]):w("v-if",!0),w(" Multiple label "),a.mode=="multiple"&&e.hasSelected&&!e.search?Q(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[G("div",{class:E(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,Ul)]):w("v-if",!0),w(" Placeholder "),a.placeholder&&!e.hasSelected&&!e.search?Q(e.$slots,"placeholder",{key:4},()=>[G("div",{class:E(e.classList.placeholder),"aria-hidden":"true"},ce(a.placeholder),3)]):w("v-if",!0),w(" Spinner "),a.loading||e.resolving?Q(e.$slots,"spinner",{key:5},()=>[G("span",{class:E(e.classList.spinner),"aria-hidden":"true"},null,2)]):w("v-if",!0),w(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?Q(e.$slots,"clear",{key:6,clear:e.clear},()=>[G("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:E(e.classList.clear),onClick:r[6]||(r[6]=(...t)=>e.clear&&e.clear(...t)),onKeyup:r[7]||(r[7]=$e((...t)=>e.clear&&e.clear(...t),["enter"]))},[G("span",{class:E(e.classList.clearIcon)},null,2)],34)]):w("v-if",!0),w(" Caret "),a.caret&&a.showOptions?Q(e.$slots,"caret",{key:7},()=>[G("span",{class:E(e.classList.caret),onClick:r[8]||(r[8]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t)),"aria-hidden":"true"},null,2)]):w("v-if",!0)],16,Kl),w(" Options "),G("div",{class:E(e.classList.dropdown),tabindex:"-1"},[Q(e.$slots,"beforelist",{options:e.fo}),G("ul",{class:E(e.classList.options),id:e.ariaControls,role:"listbox"},[a.groups?(N(!0),K(be,{key:0},Le(e.fg,(t,d,L)=>(N(),K("li",{class:E(e.classList.group),key:L,id:e.ariaGroupId(t),"aria-label":e.ariaGroupLabel(e.localize(t[a.groupLabel])),"aria-selected":e.isSelected(t),role:"option"},[t.__CREATE__?w("v-if",!0):(N(),K("div",{key:0,class:E(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:b=>e.setPointer(t,d),onClick:b=>e.handleGroupClick(t)},[Q(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},()=>[G("span",{innerHTML:e.localize(t[a.groupLabel])},null,8,Yl)])],42,Xl)),G("ul",{class:E(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(t[a.groupLabel])),role:"group"},[(N(!0),K(be,null,Le(t.__VISIBLE__,(b,c,O)=>(N(),K("li",{class:E(e.classList.option(b,t)),"data-pointed":e.isPointed(b),"data-selected":e.isSelected(b)||void 0,key:O,onMouseenter:I=>e.setPointer(b),onClick:I=>e.handleOptionClick(b),id:e.ariaOptionId(b),"aria-selected":e.isSelected(b),"aria-label":e.ariaOptionLabel(e.localize(b[a.label])),role:"option"},[Q(e.$slots,"option",{option:b,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[G("span",null,ce(e.localize(b[a.label])),1)])],42,$l))),128))],10,Zl)],10,Ql))),128)):(N(!0),K(be,{key:1},Le(e.fo,(t,d,L)=>(N(),K("li",{class:E(e.classList.option(t)),"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,key:L,onMouseenter:b=>e.setPointer(t),onClick:b=>e.handleOptionClick(t),id:e.ariaOptionId(t),"aria-selected":e.isSelected(t),"aria-label":e.ariaOptionLabel(e.localize(t[a.label])),role:"option"},[Q(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[G("span",null,ce(e.localize(t[a.label])),1)])],42,_l))),128))],10,Jl),e.noOptions?Q(e.$slots,"nooptions",{key:0},()=>[G("div",{class:E(e.classList.noOptions),innerHTML:e.localize(a.noOptionsText)},null,10,xl)]):w("v-if",!0),e.noResults?Q(e.$slots,"noresults",{key:1},()=>[G("div",{class:E(e.classList.noResults),innerHTML:e.localize(a.noResultsText)},null,10,ea)]):w("v-if",!0),a.infinite&&e.hasMore?(N(),K("div",{key:2,class:E(e.classList.inifinite),ref:"infiniteLoader"},[Q(e.$slots,"infinite",{},()=>[G("span",{class:E(e.classList.inifiniteSpinner)},null,2)])],2)):w("v-if",!0),Q(e.$slots,"afterlist",{options:e.fo})],2),w(" Hacky input element to show HTML5 required warning "),a.required?(N(),K("input",{key:0,class:E(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,la)):w("v-if",!0),w(" Native input support "),a.nativeSupport?(N(),K(be,{key:1},[a.mode=="single"?(N(),K("input",{key:0,type:"hidden",name:a.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,aa)):(N(!0),K(be,{key:1},Le(e.plainValue,(t,d)=>(N(),K("input",{type:"hidden",name:`${a.name}[]`,value:t,key:d},null,8,ta))),128))],64)):w("v-if",!0),w(" Screen reader assistive text "),a.searchable&&e.hasSelected?(N(),K("div",{key:2,class:E(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},ce(e.ariaLabel),11,na)):w("v-if",!0),w(" Create height for empty input "),G("div",{class:E(e.classList.spacer)},null,2)],42,Nl)}xe.render=ua;xe.__file="src/Multiselect.vue";export{xe as s};
