import{o as n,p as x,a as r,C as D,D as y,c as d,b as e,n as I,t as h,F as w,r as k,E as T,h as g,G as z,I as P,u as _,w as m,H as $,L as V,e as N,l as X,i as f}from"./app-e501deca.js";import{B as E}from"./Authenticated-e419867d.js";import{B as b}from"./Button-c51487b6.js";import{r as O}from"./PencilIcon-590e89ad.js";import{r as C}from"./SearchIcon-0cd5810b.js";import{r as j}from"./TrashIcon-d2223331.js";import{C as L}from"./ConfirmationModal-77b49e5a.js";import{P as B}from"./Pagination-53775274.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-c140f20f.js";import"./default.css_vue_type_style_index_0_src_true_lang-1fd6dac0.js";import"./transition-23404d95.js";function H(s,t){return n(),x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[r("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})])}const F=D({name:"my-image-box",props:{imagesListClass:{type:String,default:""},images:{type:Array,default:()=>[]},openLightbox:Boolean},created(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption},watch:{images:{handler(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption}}},setup(s){const t=y({show:!1,isChanging:!1,selectedIndex:0,selectedImgPath:"",selectedCaption:""}),c=(i,M,A)=>{t.selectedIndex=i,t.selectedImgPath=M,t.selectedCaption=A,t.show=!0},o=()=>{if(t.selectedIndex==0)return!1;let i=t.selectedIndex-1;t.selectedIndex=i,t.selectedImgPath=s.images[i].src,t.selectedCaption=s.images[i].caption},u=()=>{if(t.selectedIndex==s.images.length-1)return!1;let i=t.selectedIndex+1;t.selectedIndex=i,t.selectedImgPath=s.images[i].src,t.selectedCaption=s.images[i].caption},v=y({startX:0});return{state:t,selected:c,prev:o,next:u,touchStart:i=>{v.startX=i.changedTouches[0].clientX},touchEnd:i=>{i.changedTouches[0].clientX>v.startX?o():u(),v.startX=0}}},methods:{closeImagebox(){this.$emit("closeImagebox",!0)}}}),p=s=>(z("data-v-d35edbb7"),s=s(),P(),s),J={key:0,class:"vue-lb-container",style:{"touch-action":"pan-y","user-select":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},Q={class:"vue-lb-content"},Y={class:"vue-lb-header"},G=p(()=>e("span",null,null,-1)),U=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})])],-1)),q=[U],K={class:"vue-lb-figure"},W=["src"],Z=["innerHTML"],ee={class:"vue-lb-footer"},te=p(()=>e("div",{class:"vue-lb-footer-info"},null,-1)),se={class:"vue-lb-footer-count"},oe={class:"vue-lb-thumbnail-wrapper"},ae={class:"vue-lb-thumbnail"},ie=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),ne=[ie],le=["aaa","bbb","onClick"],re=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),de=[re],ce=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),he=[ce],pe=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),ue=[pe];function me(s,t,c,o,u,v){return(s.state.show=s.openLightbox)?(n(),d("div",J,[e("div",Q,[e("div",Y,[G,e("button",{type:"button",title:"Close (Esc)",class:I("relative p-1 w-10"),onClick:t[0]||(t[0]=a=>s.closeImagebox())},q)]),e("div",K,[e("img",{class:"vue-lb-modal-image",src:s.state.selectedImgPath,onTouchstart:t[1]||(t[1]=(...a)=>s.touchStart&&s.touchStart(...a)),onTouchend:t[2]||(t[2]=(...a)=>s.touchEnd&&s.touchEnd(...a))},null,40,W),e("div",{class:"vue-lb-info",innerHTML:s.state.selectedCaption},null,8,Z),e("div",ee,[te,e("div",se,h(s.state.selectedIndex+1)+" / "+h(s.images.length),1)])])]),e("div",oe,[e("div",ae,[e("button",{type:"button",title:"Previous",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-left",onClick:t[3]||(t[3]=(...a)=>s.prev&&s.prev(...a))},ne),(n(!0),d(w,null,k(s.images,(a,l)=>(n(),d("div",{key:l,class:"vue-lb-modal-thumbnail",lazy:"loaded",aaa:l,bbb:s.state.selectedIndex,style:T({"background-image":"url('"+a.thumb+"')",display:l<5&&s.state.selectedIndex<3||s.state.selectedIndex>s.images.length-5&&s.images.length-l<=5&&l<=s.state.selectedIndex+2||l>=s.state.selectedIndex-2&&l<=s.state.selectedIndex+2?"":"none"}),onClick:i=>s.selected(l,a.src,a.caption)},null,12,le))),128)),e("button",{type:"button",title:"Next",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-right",onClick:t[4]||(t[4]=(...a)=>s.next&&s.next(...a))},de)])]),e("button",{type:"button",title:"Previous",class:"vue-lb-arrow vue-lb-left",onClick:t[5]||(t[5]=(...a)=>s.prev&&s.prev(...a))},he),e("button",{type:"button",title:"Next",class:"vue-lb-arrow vue-lb-right",onClick:t[6]||(t[6]=(...a)=>s.next&&s.next(...a))},ue)])):g("",!0)}const S=R(F,[["render",me],["__scopeId","data-v-d35edbb7"]]),ge={class:"py-4 px-4"},ve={class:"overflow-x-auto"},fe={class:"mx-auto"},be={class:"align-middle inline-block min-w-full"},xe={class:"flex justify-between pb-4 relative text-gray-400 focus-within:text-gray-600"},_e={class:"flex"},we={key:0,class:"flex"},ye={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Ie={class:"min-w-full divide-y divide-gray-200"},ke=e("thead",{class:"bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"5%"},"Name"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"3%"},"Address"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",width:"3%"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",width:"3%"},"Action")])],-1),$e={class:"bg-white divide-y divide-gray-200"},Ce={key:0},Le=e("td",{class:"text-center",colspan:"10"},[e("div",{class:"p-3"}," No Record Found! ")],-1),Be=[Le],Se={class:"px-2 py-3"},Me={class:"flex items-center"},Ae={class:"ml-4"},De={class:"text-md font-bold text-indigo-900 uppercase mb-1"},Te={class:"flex items-center text-sm text-black-500"},ze=e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1),Pe={class:"pl-2"},Ve={class:"flex text-sm text-black-500"},Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1),Xe={class:"pl-2"},Ee={class:"px-2 py-4 whitespace-nowrap"},Oe={class:"flex"},je=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),Re={class:"pl-2 capitalize text-sm break-all"},He={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},Je={class:"flex justify-center"},Qe={class:"flex mr-1"},Ye={class:"flex mr-1"},Ge={class:"flex"},Ue={components:{SearchIcon:C,TrashIcon:j,PencilIcon:O,PhotographIcon:H,ImageBox:S,Pagination:B,ConfirmationModal:L,Head:$,Link:V},props:{filter:Object,centre_images:Object},created(){this.images.push({thumb:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",src:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",caption:"Not Available"})},data(){return{isOpen:!1,isOpenImagebox:!1,userID:"",confirmationTitle:"",confirmationText:"",confirmationAlert:"",confirmationButton:"",confirmationMethod:"",confirmationData:"",confirmationRoute:"",params:{search:this.filter.search?this.filter.search:""},images:[]}},watch:{params:{handler(){this.params&&this.$inertia.get(this.route("centres"),this.params,{replace:!0,preserveState:!0})},deep:!0}},methods:{deleteCentre(s){this.confirmationRoute="centres.destroy",this.confirmationData=s,this.isOpen=!0},editCentre(s){this.$inertia.get(route("centres.edit"),{centre_id:s},{preserveState:!0})},viewImages(s){axios.get(this.route("centres.get_images"),{params:{centre_id:s}}).then(t=>{this.images="",this.images=[],this.images=t.data,this.isOpenImagebox=!0,document.body.classList.add("overflow-hidden")})},closeImage(){this.isOpenImagebox=!1,document.body.classList.remove("overflow-hidden")}}},rt=Object.assign(Ue,{__name:"Index",setup(s){return(t,c)=>(n(),d(w,null,[r(_($),{title:"Centres"}),r(E,null,{header:m(()=>[]),default:m(()=>[e("div",ge,[e("div",ve,[e("div",fe,[e("div",be,[e("div",xe,[e("div",_e,[r(_(C),{class:"text-gray-600 h-4 w-4 fill-current pointer-events-none absolute top-1/4 left-3",style:"top:21%"}),N(e("input",{class:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg focus:ring-0 focus:border-gray-300 appearance-none block pl-10",type:"text","onUpdate:modelValue":c[0]||(c[0]=o=>t.params.search=o),placeholder:"Search"},null,512),[[X,t.params.search]])]),t.$page.props.can.centre_create_access?(n(),d("div",we,[r(b,{route:t.route("centres.create")},{default:m(()=>[f("New Centre")]),_:1},8,["route"])])):g("",!0)]),e("div",ye,[e("table",Ie,[ke,e("tbody",$e,[t.$page.props.centres.data.length?g("",!0):(n(),d("tr",Ce,Be)),(n(!0),d(w,null,k(t.$page.props.centres.data,o=>(n(),d("tr",{class:"hover:bg-gray-200",key:o.ID},[e("td",Se,[e("div",Me,[e("div",Ae,[e("div",De,h(o.label),1),e("div",Te,[ze,e("span",Pe,h(o.email),1)]),e("div",Ve,[Ne,e("span",Xe,h(o.phone?o.phone:"-"),1)])])])]),e("td",Ee,[e("div",Oe,[je,e("span",Re,h(o.address?o.address:"Not Available"),1)])]),e("td",He,[e("span",{class:I(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",o.is_active==!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},h(o.is_active==!0?"Active":"Not Active"),3)]),e("td",Fe,[e("div",Je,[e("div",Qe,[t.$page.props.can.centre_view_access?(n(),x(b,{key:0,buttonType:"blue",title:"View Images",onClick:u=>t.viewImages(o.ID)},{default:m(()=>[f(" View Images ")]),_:2},1032,["onClick"])):g("",!0)]),e("div",Ye,[t.$page.props.can.centre_edit_access?(n(),x(b,{key:0,buttonType:"warning",title:"Edit School",onClick:u=>t.editCentre(o.ID)},{default:m(()=>[f(" Edit ")]),_:2},1032,["onClick"])):g("",!0)]),e("div",Ge,[t.$page.props.can.centre_delete_access?(n(),x(b,{key:0,buttonType:"danger",title:"Delete School",onClick:u=>t.deleteCentre(o.ID)},{default:m(()=>[f(" Delete ")]),_:2},1032,["onClick"])):g("",!0)])])])]))),128))])]),r(B,{page_data:t.$page.props.centres},null,8,["page_data"])])])])]),r(L,{show:t.isOpen,onClose:c[1]||(c[1]=o=>t.isOpen=!1),confirmationAlert:"danger",confirmationTitle:"Delete Centre",confirmationText:"Are you sure want to delete this centre?",confirmationButton:"Delete",confirmationMethod:"delete",confirmationRoute:t.confirmationRoute,confirmationData:t.confirmationData},null,8,["show","confirmationRoute","confirmationData"]),r(_(S),{onCloseImagebox:t.closeImage,images:t.images,openLightbox:t.isOpenImagebox},null,8,["onCloseImagebox","images","openLightbox"])])]),_:1})],64))}});export{rt as default};
