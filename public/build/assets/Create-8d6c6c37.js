import{x as c,v as i,u as f,O as l,F as k,b7 as h,q as _,U as m,y as t,z as v,H as g,B as y}from"./@vue-39dc9ff3.js";import{B as T}from"./Authenticated-89c7332d.js";import{H as x,L as C}from"./@inertiajs-2b766590.js";import{_ as b}from"./Card-b75ae06b.js";import{d as L}from"./@radix-icons-9ff33614.js";import"./ApplicationLogo-5cf6e77e.js";import"./radix-vue-a603168c.js";import"./@floating-ui-c05b1c1f.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-dbb80022.js";import"./axios-1779699b.js";import"./pusher-js-68b5c933.js";import"./@vueform-8fb84cf1.js";import"./@vuepic-a83e4355.js";import"./@babel-1b80a44a.js";import"./cropperjs-042b647f.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-e9930861.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-c14271ca.js";import"./lodash.isequal-0acc53e7.js";import"./vue-46d666fa.js";import"./lodash.clonedeep-12c784b4.js";import"./qs-45a3326f.js";import"./side-channel-401220dd.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-ac0241aa.js";import"./deepmerge-89e33937.js";import"./nprogress-87ee1729.js";import"./lucide-vue-next-7b48dc26.js";const $={class:"grid grid-cols-1 gap-4"},B=t("span",{class:"text-red-500"},"*",-1),M={class:"space-y-2"},V=t("label",{class:"block text-sm text-gray-700 font-bold"},[m(" Thumbnail "),t("span",{class:"text-red-500"},"*")],-1),j={key:0,class:"rounded-md bg-red-100 p-4"},E={class:"flex"},U={class:"flex-shrink-0"},F=t("div",{class:"ml-3"},[t("h3",{class:"text-sm font-medium text-red-500"},"File is required!")],-1),H={class:"space-y-1 text-center"},P=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),R={class:"flex text-sm text-gray-600"},N={class:"browse text-indigo-400 hover:text-indigo-800 cursor-pointer font-bold"},D={ref:"thumbnail",id:"file",class:"sr-only",type:"file",accept:"image/*"},I=t("p",{class:"pl-1"},"or drag and drop an image",-1),A=t("p",{class:"text-xs text-gray-500"},"Image Format : PNG, JPG",-1),G=t("label",{class:"block text-sm text-gray-700 font-bold mb-2"}," Artwork File ",-1),O={class:"flex flex-row justify-start space-x-2"},S={class:"flex-column text-center"},q=["src"],z={class:"flex-column"},Y={class:"flex flex-col space-y-1"},J=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),X=t("span",{class:"text-red-500"},"*",-1),K={class:"flex justify-end"},Q={class:"flex space-x-2"},w=window.URL||window.webkitURL,W=/^image\/\w+$/,Z={components:{Head:x,Link:C},data(){return{data:{type:Object,default:()=>({})},list:{students:[],levels:this.$page.props.levels,themes:[],lessons:[],activities:[]},form:{title:"",folder_name:"",thumbnail:{image_url:"",file:""}}}},methods:{submit(){this.$inertia.post(route("math_manipulatives.configuration.store"),this.form,{preserveState:!0})},read(s,e){return new Promise((o,a)=>{if(!s){o();return}W.test(s.type)?w?o({loaded:!0,name:s.name,type:s.type,url:w.createObjectURL(s)}):a(new Error("Your browser is not supported.")):a(new Error("Please select a valid image file."))})},changeThumbnail({target:s}){const{files:e}=s;e&&e.length>0&&this.read(e[0],s).then(o=>{this.form.thumbnail.image_url=o.url,this.form.thumbnail.file=e[0]}).catch(this.alert)},dragoverThumbnail(s){s.preventDefault()},dropThumbnail(s){const{files:e}=s.dataTransfer;s.preventDefault(),e&&e.length>0&&this.read(e[0],s).then(o=>{this.form.thumbnail.image_url=o.url,this.form.thumbnail.file=e[0]}).catch(this.alert)},reselect_thumbnail(){this.$refs.thumbnail.value="",this.form.thumbnail.image_url="",this.form.thumbnail.file=""},change(s){const e=s.target.files,o={};for(let a=0;a<e.length;a++){const d=e[a],n=d.webkitRelativePath.split("/");let r=o;for(let p=0;p<n.length;p++){const u=n[p];r[u]?p===n.length-1&&r[u].push(d):p===n.length-1?r[u]=[d]:r[u]={},r=r[u]}}this.form.folder=o},removeFolder(){this.form.folder=[]}}},Se=Object.assign(Z,{__name:"Create",setup(s){return(e,o)=>{const a=h("Label"),d=h("Input"),n=h("Button");return _(),c(k,null,[i(f(x),{title:"Math Manipulatives"}),i(T,null,{header:l(()=>[]),default:l(()=>[i(b,null,{title:l(()=>[m("Upload Math Manipulative")]),content:l(()=>[t("div",$,[t("div",null,[i(a,null,{default:l(()=>[m("Title"),B]),_:1}),i(d,{type:"text",error:e.$page.props.errors.title,modelValue:e.form.title,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.title=r)},null,8,["error","modelValue"])]),v(t("div",M,[V,e.$page.props.errors["artwork.file"]?(_(),c("div",j,[t("div",E,[t("div",U,[i(f(L),{class:"h-5 w-5 text-red-500","aria-hidden":"true"})]),F])])):y("",!0),t("div",{class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",onChange:o[1]||(o[1]=(...r)=>e.changeThumbnail&&e.changeThumbnail(...r)),onDragover:o[2]||(o[2]=(...r)=>e.dragoverThumbnail&&e.dragoverThumbnail(...r)),onDrop:o[3]||(o[3]=(...r)=>e.dropThumbnail&&e.dropThumbnail(...r))},[t("div",H,[P,t("div",R,[t("label",N,[m("Click here "),t("input",D,null,512)]),I]),A])],32)],512),[[g,e.form.thumbnail.image_url==""]]),v(t("div",null,[G,t("div",O,[t("div",S,[t("img",{class:"object-scale-down h-40 w-40",src:e.form.thumbnail.image_url,alt:""},null,8,q)]),t("div",z,[t("div",Y,[i(n,{onClick:o[4]||(o[4]=r=>e.reselect_thumbnail()),title:"Reselect an image"},{default:l(()=>[J]),_:1})])])])],512),[[g,e.form.thumbnail.image_url!=""]]),t("div",null,[i(a,null,{default:l(()=>[m("Folder Name"),X]),_:1}),i(d,{type:"text",error:e.$page.props.errors.folder_name,modelValue:e.form.folder_name,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.folder_name=r)},null,8,["error","modelValue"])])])]),_:1}),i(b,null,{content:l(()=>[t("div",K,[t("div",Q,[i(n,{variant:"outline",onClick:o[6]||(o[6]=r=>e.$inertia.get(e.route("math_manipulatives.configuration")))},{default:l(()=>[m("Cancel")]),_:1}),i(n,{onClick:e.submit},{default:l(()=>[m("Save")]),_:1},8,["onClick"])])])]),_:1})]),_:1})],64)}}});export{Se as default};
