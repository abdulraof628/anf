import{o as n,p as x,b as c,B as A,C as w,c as r,d as e,n as k,t as h,F as _,h as I,D,j as g,E as T,G as z,u as y,w as m,H as C,L as P,f as V,l as N,k as f}from"./app-8c295014.js";import{B as X}from"./Authenticated-baad3ab5.js";import{B as b}from"./Button-c4cbc055.js";import{r as E}from"./PencilIcon-b49919f1.js";import{r as O}from"./SearchIcon-51054916.js";import{r as j}from"./TrashIcon-d0a1fe1c.js";import{C as $}from"./ConfirmationModal-ff51292c.js";import{P as L}from"./Pagination-aaf7bcdc.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-9b5887e5.js";import"./XIcon-7465ddb2.js";import"./default.css_vue_type_style_index_0_src_true_lang-017670c9.js";import"./moment-fbc5633a.js";import"./transition-f9385eb3.js";function H(s,t){return n(),x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})])}const F=A({name:"my-image-box",props:{imagesListClass:{type:String,default:""},images:{type:Array,default:()=>[]},openLightbox:Boolean},created(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption},watch:{images:{handler(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption}}},setup(s){const t=w({show:!1,isChanging:!1,selectedIndex:0,selectedImgPath:"",selectedCaption:""}),d=(i,M,S)=>{t.selectedIndex=i,t.selectedImgPath=M,t.selectedCaption=S,t.show=!0},o=()=>{if(t.selectedIndex==0)return!1;let i=t.selectedIndex-1;t.selectedIndex=i,t.selectedImgPath=s.images[i].src,t.selectedCaption=s.images[i].caption},u=()=>{if(t.selectedIndex==s.images.length-1)return!1;let i=t.selectedIndex+1;t.selectedIndex=i,t.selectedImgPath=s.images[i].src,t.selectedCaption=s.images[i].caption},v=w({startX:0});return{state:t,selected:d,prev:o,next:u,touchStart:i=>{v.startX=i.changedTouches[0].clientX},touchEnd:i=>{i.changedTouches[0].clientX>v.startX?o():u(),v.startX=0}}},methods:{closeImagebox(){this.$emit("closeImagebox",!0)}}}),p=s=>(T("data-v-d35edbb7"),s=s(),z(),s),J={key:0,class:"vue-lb-container",style:{"touch-action":"pan-y","user-select":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},Q={class:"vue-lb-content"},Y={class:"vue-lb-header"},G=p(()=>e("span",null,null,-1)),U=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})])],-1)),Z=[U],q={class:"vue-lb-figure"},K=["src"],W=["innerHTML"],ee={class:"vue-lb-footer"},te=p(()=>e("div",{class:"vue-lb-footer-info"},null,-1)),se={class:"vue-lb-footer-count"},oe={class:"vue-lb-thumbnail-wrapper"},ae={class:"vue-lb-thumbnail"},ie=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),ne=[ie],le=["aaa","bbb","onClick"],re=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),de=[re],ce=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),he=[ce],pe=p(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),ue=[pe];function me(s,t,d,o,u,v){return(s.state.show=s.openLightbox)?(n(),r("div",J,[e("div",Q,[e("div",Y,[G,e("button",{type:"button",title:"Close (Esc)",class:k("relative p-1 w-10"),onClick:t[0]||(t[0]=a=>s.closeImagebox())},Z)]),e("div",q,[e("img",{class:"vue-lb-modal-image",src:s.state.selectedImgPath,onTouchstart:t[1]||(t[1]=(...a)=>s.touchStart&&s.touchStart(...a)),onTouchend:t[2]||(t[2]=(...a)=>s.touchEnd&&s.touchEnd(...a))},null,40,K),e("div",{class:"vue-lb-info",innerHTML:s.state.selectedCaption},null,8,W),e("div",ee,[te,e("div",se,h(s.state.selectedIndex+1)+" / "+h(s.images.length),1)])])]),e("div",oe,[e("div",ae,[e("button",{type:"button",title:"Previous",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-left",onClick:t[3]||(t[3]=(...a)=>s.prev&&s.prev(...a))},ne),(n(!0),r(_,null,I(s.images,(a,l)=>(n(),r("div",{key:l,class:"vue-lb-modal-thumbnail",lazy:"loaded",aaa:l,bbb:s.state.selectedIndex,style:D({"background-image":"url('"+a.thumb+"')",display:l<5&&s.state.selectedIndex<3||s.state.selectedIndex>s.images.length-5&&s.images.length-l<=5&&l<=s.state.selectedIndex+2||l>=s.state.selectedIndex-2&&l<=s.state.selectedIndex+2?"":"none"}),onClick:i=>s.selected(l,a.src,a.caption)},null,12,le))),128)),e("button",{type:"button",title:"Next",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-right",onClick:t[4]||(t[4]=(...a)=>s.next&&s.next(...a))},de)])]),e("button",{type:"button",title:"Previous",class:"vue-lb-arrow vue-lb-left",onClick:t[5]||(t[5]=(...a)=>s.prev&&s.prev(...a))},he),e("button",{type:"button",title:"Next",class:"vue-lb-arrow vue-lb-right",onClick:t[6]||(t[6]=(...a)=>s.next&&s.next(...a))},ue)])):g("",!0)}const B=R(F,[["render",me],["__scopeId","data-v-d35edbb7"]]),ge={class:"py-4 px-4"},ve={class:"overflow-x-auto"},fe={class:"mx-auto"},be={class:"align-middle inline-block min-w-full"},xe={class:"flex justify-between pb-4 relative text-gray-400 focus-within:text-gray-600 items-center"},_e={class:"relative"},we=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-10 w-4 h-4 text-gray-400",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),ye={key:0,class:"flex"},ke={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},Ie={class:"min-w-full divide-y divide-gray-200"},Ce=e("thead",{class:"bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"5%"},"Name"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"3%"},"Address"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",width:"3%"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",width:"3%"},"Action")])],-1),$e={class:"bg-white divide-y divide-gray-200"},Le={key:0},Be=e("td",{class:"text-center",colspan:"10"},[e("div",{class:"p-3"}," No Record Found! ")],-1),Me=[Be],Se={class:"px-2 py-3"},Ae={class:"flex items-center"},De={class:"ml-4"},Te={class:"text-md font-bold text-indigo-900 uppercase mb-1"},ze={class:"flex items-center text-sm text-black-500"},Pe=e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1),Ve={class:"pl-2"},Ne={class:"flex text-sm text-black-500"},Xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1),Ee={class:"pl-2"},Oe={class:"px-2 py-4 whitespace-nowrap"},je={class:"flex"},Re=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),He={class:"pl-2 capitalize text-sm break-all"},Fe={class:"px-6 py-4 whitespace-nowrap"},Je={class:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},Qe={class:"flex justify-center"},Ye={class:"flex mr-1"},Ge={class:"flex mr-1"},Ue={class:"flex"},Ze={components:{SearchIcon:O,TrashIcon:j,PencilIcon:E,PhotographIcon:H,ImageBox:B,Pagination:L,ConfirmationModal:$,Head:C,Link:P},props:{filter:Object,centre_images:Object},created(){this.images.push({thumb:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",src:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",caption:"Not Available"})},data(){return{isOpen:!1,isOpenImagebox:!1,userID:"",confirmationTitle:"",confirmationText:"",confirmationAlert:"",confirmationButton:"",confirmationMethod:"",confirmationData:"",confirmationRoute:"",params:{search:this.filter.search?this.filter.search:""},images:[]}},watch:{params:{handler(){this.params&&this.$inertia.get(this.route("centres"),this.params,{replace:!0,preserveState:!0})},deep:!0}},methods:{deleteCentre(s){this.confirmationRoute="centres.destroy",this.confirmationData=s,this.isOpen=!0},editCentre(s){this.$inertia.get(route("centres.edit"),{centre_id:s},{preserveState:!0})},viewImages(s){axios.get(this.route("centres.get_images"),{params:{centre_id:s}}).then(t=>{this.images="",this.images=[],this.images=t.data,this.isOpenImagebox=!0,document.body.classList.add("overflow-hidden")})},closeImage(){this.isOpenImagebox=!1,document.body.classList.remove("overflow-hidden")}}},ht=Object.assign(Ze,{__name:"Index",setup(s){return(t,d)=>(n(),r(_,null,[c(y(C),{title:"Centres"}),c(X,null,{header:m(()=>[]),default:m(()=>[e("div",ge,[e("div",ve,[e("div",fe,[e("div",be,[e("div",xe,[e("div",_e,[we,V(e("input",{type:"text",class:"h-10 border-2 border-gray-300 w-full appearance-none focus:ring-0 focus:border-gray-300 py-1 pl-10 pr-4 text-gray-700 bg-white border rounded-md",placeholder:"Search","onUpdate:modelValue":d[0]||(d[0]=o=>t.params.search=o)},null,512),[[N,t.params.search]])]),t.$page.props.can.centre_create_access?(n(),r("div",ye,[c(b,{route:t.route("centres.create")},{default:m(()=>[f("New Centre")]),_:1},8,["route"])])):g("",!0)]),e("div",ke,[e("table",Ie,[Ce,e("tbody",$e,[t.$page.props.centres.data.length?g("",!0):(n(),r("tr",Le,Me)),(n(!0),r(_,null,I(t.$page.props.centres.data,o=>(n(),r("tr",{class:"hover:bg-gray-200",key:o.ID},[e("td",Se,[e("div",Ae,[e("div",De,[e("div",Te,h(o.label),1),e("div",ze,[Pe,e("span",Ve,h(o.email),1)]),e("div",Ne,[Xe,e("span",Ee,h(o.phone?o.phone:"-"),1)])])])]),e("td",Oe,[e("div",je,[Re,e("span",He,h(o.address?o.address:"Not Available"),1)])]),e("td",Fe,[e("span",{class:k(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",o.is_active==!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},h(o.is_active==!0?"Active":"Not Active"),3)]),e("td",Je,[e("div",Qe,[e("div",Ye,[t.$page.props.can.centre_view_access?(n(),x(b,{key:0,buttonType:"blue",title:"View Images",onClick:u=>t.viewImages(o.ID)},{default:m(()=>[f(" View Images ")]),_:2},1032,["onClick"])):g("",!0)]),e("div",Ge,[t.$page.props.can.centre_edit_access?(n(),x(b,{key:0,buttonType:"warning",title:"Edit School",onClick:u=>t.editCentre(o.ID)},{default:m(()=>[f(" Edit ")]),_:2},1032,["onClick"])):g("",!0)]),e("div",Ue,[t.$page.props.can.centre_delete_access?(n(),x(b,{key:0,buttonType:"danger",title:"Delete School",onClick:u=>t.deleteCentre(o.ID)},{default:m(()=>[f(" Delete ")]),_:2},1032,["onClick"])):g("",!0)])])])]))),128))])]),c(L,{page_data:t.$page.props.centres},null,8,["page_data"])])])])]),c($,{show:t.isOpen,onClose:d[1]||(d[1]=o=>t.isOpen=!1),confirmationAlert:"danger",confirmationTitle:"Delete Centre",confirmationText:"Are you sure want to delete this centre?",confirmationButton:"Delete",confirmationMethod:"delete",confirmationRoute:t.confirmationRoute,confirmationData:t.confirmationData},null,8,["show","confirmationRoute","confirmationData"]),c(y(B),{onCloseImagebox:t.closeImage,images:t.images,openLightbox:t.isOpenImagebox},null,8,["onCloseImagebox","images","openLightbox"])])]),_:1})],64))}});export{ht as default};
