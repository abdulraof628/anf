import{x as f,v as a,u as y,P as p,F as k,a5 as T,q as _,y as e,B as C,K as u,bv as b,m as g,L as v,z as B,V as n}from"./@vue-64c42e7d.js";import{B as L}from"./Authenticated-6651b23d.js";import{B as h}from"./Button-df73f7a0.js";import{H as w,L as E}from"./@inertiajs-41d03628.js";import"./ApplicationLogo-64527dd0.js";import"./radix-vue-2488f6ae.js";import"./@floating-ui-7a9770d8.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-f96983da.js";import"./app-98c3eb01.js";import"./axios-9cbf0d09.js";import"./pusher-js-2bcba7e2.js";import"./@vueform-ba82ac10.js";import"./@vuepic-339c593a.js";import"./date-fns-60a02367.js";import"./@babel-1b80a44a.js";import"./cropperjs-2c7c67ce.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-1cb1b359.js";import"./@popperjs-f3391c26.js";import"./clsx-0839fdbe.js";import"./tailwind-merge-642c57ff.js";import"./@vueuse-deae3e94.js";import"./@radix-icons-03b844c4.js";import"./moment-timezone-65f24d9a.js";import"./moment-3968d9f3.js";import"./lodash.isequal-60a7aae7.js";import"./vue-68dd36d7.js";import"./lodash.clonedeep-8b83a099.js";import"./qs-589f641c.js";import"./side-channel-1ba8a7fc.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-a3a9a537.js";import"./deepmerge-89e33937.js";import"./nprogress-34a09d83.js";import"./lucide-vue-next-48142e2c.js";const M={class:"md:grid md:grid-cols-2"},j={class:"md:mt-0 md:col-span-2"},F={class:"px-4 py-5 bg-indigo-50 space-y-6 sm:p-6"},P={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-2 grid-flow-col gap-4"},$={class:"sm:row-span-3"},R={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},U=e("div",{class:"mb-5"},[e("h1",{class:"font-bold text-indigo-800"},"Upload Math Manipulative"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),V={class:"mb-4"},H=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"},[n(" Title "),e("span",{class:"text-red-500"},"*")],-1),N={class:"mt-1 flex rounded-md.shadow-sm"},A={class:"mb-4 space-y-2"},D=e("label",{class:"block text-sm text-gray-700 font-bold"},[n(" Thumbnail "),e("span",{class:"text-red-500"},"*")],-1),G={key:0,class:"rounded-md bg-red-100 p-4"},I={class:"flex"},S={class:"flex-shrink-0"},z=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-red-500"},"File is required!")],-1),O={class:"space-y-1 text-center"},q=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Y={class:"flex text-sm text-gray-600"},J={class:"browse text-indigo-400 hover:text-indigo-800 cursor-pointer font-bold"},K={ref:"thumbnail",id:"file",class:"sr-only",type:"file",accept:"image/*"},X=e("p",{class:"pl-1"},"or drag and drop an image",-1),Q=e("p",{class:"text-xs text-gray-500"},"Image Format : PNG, JPG",-1),W={class:"mb-4"},Z=e("label",{class:"block text-sm text-gray-700 font-bold mb-2"}," Artwork File ",-1),ee={class:"flex flex-row justify-start space-x-2"},te={class:"flex-column text-center"},oe=["src"],se={class:"flex-column"},re={class:"flex flex-col space-y-1"},ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),le={class:"mb-4"},ae=e("label",{for:"folder_name",class:"block text-sm font-bold text-gray-700"},[n(" Folder Name "),e("span",{class:"text-red-500"},"*")],-1),ne={class:"mt-1 flex rounded-md.shadow-sm"},de=e("div",{class:"border-b border-dashed border-indigo-900 mt-4 mb-5"},null,-1),me={class:"flex items-center justify-end"},pe={class:"flex space-x-2"},x=window.URL||window.webkitURL,ce=/^image\/\w+$/,ue={components:{Head:w,Link:E},data(){return{data:{type:Object,default:()=>({})},list:{students:[],levels:this.$page.props.levels,themes:[],lessons:[],activities:[]},form:{title:"",folder_name:"",thumbnail:{image_url:"",file:""}}}},methods:{submit(){this.$inertia.post(route("math_manipulatives.configuration.store"),this.form,{preserveState:!0})},read(s,t){return new Promise((o,i)=>{if(!s){o();return}ce.test(s.type)?x?o({loaded:!0,name:s.name,type:s.type,url:x.createObjectURL(s)}):i(new Error("Your browser is not supported.")):i(new Error("Please select a valid image file."))})},changeThumbnail({target:s}){const{files:t}=s;t&&t.length>0&&this.read(t[0],s).then(o=>{this.form.thumbnail.image_url=o.url,this.form.thumbnail.file=t[0]}).catch(this.alert)},dragoverThumbnail(s){s.preventDefault()},dropThumbnail(s){const{files:t}=s.dataTransfer;s.preventDefault(),t&&t.length>0&&this.read(t[0],s).then(o=>{this.form.thumbnail.image_url=o.url,this.form.thumbnail.file=t[0]}).catch(this.alert)},reselect_thumbnail(){this.$refs.thumbnail.value="",this.form.thumbnail.image_url="",this.form.thumbnail.file=""},change(s){const t=s.target.files,o={};for(let i=0;i<t.length;i++){const r=t[i],c=r.webkitRelativePath.split("/");let l=o;for(let d=0;d<c.length;d++){const m=c[d];l[m]?d===c.length-1&&l[m].push(r):d===c.length-1?l[m]=[r]:l[m]={},l=l[m]}}this.form.folder=o},removeFolder(){this.form.folder=[]}}},nt=Object.assign(ue,{__name:"Create",setup(s){return(t,o)=>{const i=T("ExclamationIcon");return _(),f(k,null,[a(y(w),{title:"Art Gallery"}),a(L,null,{header:p(()=>[]),default:p(()=>[e("div",M,[e("div",j,[e("form",{onSubmit:o[6]||(o[6]=C((...r)=>t.submit&&t.submit(...r),["prevent"]))},[e("div",F,[e("div",P,[e("div",$,[e("div",R,[U,e("div",V,[H,e("div",N,[u(e("input",{type:"text",name:"title",id:"title",class:g(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.title?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":o[0]||(o[0]=r=>t.form.title=r),autocomplete:"off"},null,2),[[b,t.form.title]])])]),u(e("div",A,[D,t.$page.props.errors["artwork.file"]?(_(),f("div",G,[e("div",I,[e("div",S,[a(i,{class:"h-5 w-5 text-red-500","aria-hidden":"true"})]),z])])):B("",!0),e("div",{class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",onChange:o[1]||(o[1]=(...r)=>t.changeThumbnail&&t.changeThumbnail(...r)),onDragover:o[2]||(o[2]=(...r)=>t.dragoverThumbnail&&t.dragoverThumbnail(...r)),onDrop:o[3]||(o[3]=(...r)=>t.dropThumbnail&&t.dropThumbnail(...r))},[e("div",O,[q,e("div",Y,[e("label",J,[n("Click here "),e("input",K,null,512)]),X]),Q])],32)],512),[[v,t.form.thumbnail.image_url==""]]),u(e("div",W,[Z,e("div",ee,[e("div",te,[e("img",{class:"object-scale-down h-40 w-40",src:t.form.thumbnail.image_url,alt:""},null,8,oe)]),e("div",se,[e("div",re,[a(h,{class:"py-1 px-2 bg-blue-500 hover:bg-blue-600 rounded text-white shadow",onClick:o[4]||(o[4]=r=>t.reselect_thumbnail()),title:"Reselect an image"},{default:p(()=>[ie]),_:1})])])])],512),[[v,t.form.thumbnail.image_url!=""]]),e("div",le,[ae,e("div",ne,[u(e("input",{type:"text",name:"folder_name",id:"folder_name",class:g(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.folder_name?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":o[5]||(o[5]=r=>t.form.folder_name=r),autocomplete:"off"},null,2),[[b,t.form.folder_name]])])]),de,e("div",me,[e("div",pe,[a(h,{buttonType:"gray",url:t.route("math_manipulatives.configuration")},{default:p(()=>[n("Cancel")]),_:1},8,["url"]),a(h,{type:"submit"},{default:p(()=>[n("Save")]),_:1})])])])])])])],32)])])]),_:1})],64)}}});export{nt as default};
