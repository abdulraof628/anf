import{B as u}from"./Authenticated-0bdf10fa.js";import{B as f}from"./Button-152ae367.js";import{H as h,L as b}from"./@inertiajs-751b4e3a.js";import{B as m}from"./vue-chartjs-2b0279c1.js";import{C as x,p as v,g as w,h as y,B as k,j as B,L as C}from"./chart.js-88bb31f9.js";import{q as n,x as l,v as d,u as p,P as c,F as D,f as T,y as i,G as _,V as j,z as O}from"./@vue-7927adca.js";import"./ApplicationLogo-04b49080.js";import"./radix-vue-8d4617bd.js";import"./@floating-ui-1e8ef191.js";import"./class-variance-authority-f96983da.js";import"./app-a931a781.js";import"./axios-9cbf0d09.js";import"./pusher-js-36ce843e.js";import"./@vueform-aef92a1c.js";import"./@vuepic-ba9c4d94.js";import"./date-fns-60a02367.js";import"./@babel-1b80a44a.js";import"./cropperjs-8efab0ec.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./clsx-0839fdbe.js";import"./tailwind-merge-642c57ff.js";import"./@vueuse-e8993a83.js";import"./@radix-icons-9a1732cf.js";import"./lodash.isequal-979ca240.js";import"./vue-446e1be1.js";import"./lodash.clonedeep-a2a90952.js";import"./qs-c5780410.js";import"./side-channel-c3de7aff.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-30e6e08c.js";import"./deepmerge-89e33937.js";import"./nprogress-2c66c043.js";import"./lucide-vue-next-4cc1c774.js";import"./@kurkle-b1b89bbc.js";const S={class:"py-6 px-6"},z={class:"overflow-x-auto"},L={key:0,class:"inline-block min-w-full py-12 px-36 shadow-md bg-white rounded text-center"},V={class:"text-2xl font-bold capitalize leading-loose"},$={class:"py-4"},A={class:"pt-6"},F={key:1,class:"inline-block min-w-full p-12 shadow-md bg-white rounded text-center"},N={class:"px-6 pb-8"},I={class:"text-3xl font-bold uppercase"},E={key:0,class:"px-6 pb-8"},H={class:"font-bold uppercase italic text-red-500"},R={class:"flex flex-col place-items-center"},q=["src"],G={class:"flex flex-row justify-between pt-4 w-1/2 space-x-2"};x.register(v,w,y,k,B,C);var r=[];const P=T({components:{Head:h,Link:b,Bar:m},props:{diagnostic_test_list:Object,diagnostic_test_categories_label:Object,diagnostic_test_categories:Object,result:Object,result_score:String},data(){return{count:1,index:0,score:0,final_score:"",chartData:{labels:this.diagnostic_test_categories_label?this.diagnostic_test_categories_label:[],datasets:[{label:"Score",backgroundColor:"#f87979",data:this.final_data?this.final_data:[],barThickness:100,yAxisID:"y"}]},chartOptions:{responsive:!0,maintainAspectRatio:!1,scales:{y:{min:0,max:10,stepSize:1,ticks:{beginAtZero:!0}}}}}},watch:{final_score:{handler(){this.$inertia.get(route("diagnostic_test.run"),{final_score:this.final_score,dt_id:this.$page.props.dt_id})}}},methods:{nextTrue(){var e=this.diagnostic_test_list[this.index].category_id;if(this.diagnostic_test_categories[e]){var t=this.diagnostic_test_categories[e];this.diagnostic_test_categories_label.filter(function(o,a){o==t?r[a]+=1:r[a]||(r[a]=0)})}if(this.diagnostic_test_list[this.index].redirect_yes_id!=null){var s=0;const o=this.diagnostic_test_list[this.index].redirect_yes_id;this.diagnostic_test_list.filter(function(a,g){a.id==o&&(s=g)}),this.index=s,this.score+=1,this.count+=1}else this.diagnostic_test_list[this.index+1]?(this.index++,this.score+=1,this.count+=1):this.diagnostic_test_list[this.index]&&(this.count+1,this.final_score=this.final_score==null?0:this.score+1)},nextFalse(){if(this.diagnostic_test_list[this.index].redirect_no_id!=null){var e=0;const t=this.diagnostic_test_list[this.index].redirect_no_id;this.diagnostic_test_list.filter(function(s,o){s.id==t&&(e=o)}),this.index=e,this.count+=1}else this.diagnostic_test_list[this.index+1]?(this.index++,this.count+=1):this.diagnostic_test_list[this.index]&&(this.count+1,this.final_score=this.final_score==null?0:this.score+0)},restartDT(){r=[],this.$inertia.get(route("diagnostic_test"))},chartInit(){this.diagnostic_test_categories_label.filter(function(e,t){r[t]=0})}},mounted(){this.result_score==""&&this.chartInit()}}),Nt=Object.assign(P,{__name:"Start-backup",setup(e){return(t,s)=>(n(),l(D,null,[d(p(h),{title:"Diagnostic Test"}),d(u,null,{header:c(()=>[]),default:c(()=>[i("div",S,[i("div",z,[t.result_score!=""?(n(),l("div",L,[i("span",V,_(t.result.message),1),i("div",$,[d(p(m),{"chart-options":t.chartOptions,"chart-data":t.chartData,width:100,height:500},null,8,["chart-options","chart-data"])]),i("div",A,[d(f,{class:"px-6 py-2 bg-indigo-500 hover:bg-indigo-600 rounded text-white shadow-md",onClick:t.restartDT},{default:c(()=>[j("Re-run Diagnostic Test")]),_:1},8,["onClick"])])])):(n(),l("div",F,[i("div",N,[i("span",I,"Question "+_(t.count),1)]),t.diagnostic_test_list[t.index].remarks?(n(),l("div",E,[i("span",H,"* "+_(t.diagnostic_test_list[t.index].remarks)+" *",1)])):O("",!0),i("div",R,[i("img",{src:"/storage/"+t.diagnostic_test_list[t.index].image_location,class:"select-none w-1/2 h-1/3 bg-green-200 rounded-lg",alt:""},null,8,q),i("div",G,[i("button",{class:"grow uppercase px-32 py-6 bg-blue-500 hover:bg-blue-600 rounded text-white text-lg font-extrabold shadow-md",onClick:s[0]||(s[0]=o=>t.nextTrue(t.diagnostic_test_list[t.index].id))},"1"),i("button",{class:"grow uppercase px-32 py-6 bg-red-500 hover:bg-red-600 rounded text-white text-lg font-extrabold shadow-md",onClick:s[1]||(s[1]=o=>t.nextFalse(t.diagnostic_test_list[t.index].id))},"0")])])]))])])]),_:1})],64))}});export{Nt as default};
