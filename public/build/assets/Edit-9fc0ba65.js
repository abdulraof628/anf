import{q as d,x as n,v as p,u as w,P as m,F as b,y as e,B as C,K as l,bv as c,C as g,G as i,z as f,V as u,bu as O,m as k}from"./@vue-7927adca.js";import{B as U}from"./Authenticated-090663fe.js";import{B as h}from"./Button-b911d56b.js";import{H as V,L as P}from"./@inertiajs-751b4e3a.js";import{h as x}from"./moment-a9aaa855.js";import{Z as I}from"./@vuepic-ba9c4d94.js";import{M as D}from"./Modal-2eb9c3e2.js";import"./ApplicationLogo-04b49080.js";import"./radix-vue-8d4617bd.js";import"./@floating-ui-1e8ef191.js";import"./class-variance-authority-f96983da.js";import"./app-0d32cceb.js";import"./axios-9cbf0d09.js";import"./pusher-js-36ce843e.js";import"./@vueform-aef92a1c.js";import"./cropperjs-8efab0ec.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./clsx-0839fdbe.js";import"./tailwind-merge-642c57ff.js";import"./@vueuse-e8993a83.js";import"./@radix-icons-9a1732cf.js";import"./date-fns-60a02367.js";import"./@babel-1b80a44a.js";import"./lodash.isequal-979ca240.js";import"./vue-446e1be1.js";import"./lodash.clonedeep-a2a90952.js";import"./qs-c5780410.js";import"./side-channel-c3de7aff.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-30e6e08c.js";import"./deepmerge-89e33937.js";import"./nprogress-2c66c043.js";import"./lucide-vue-next-4cc1c774.js";import"./vue-final-modal-522b0d3f.js";const L={class:"md:grid md:grid-cols-2"},A={class:"md:mt-0 md:col-span-2"},B={class:"px-4 py-5 bg-indigo-50 space-y-6 sm:p-6"},T={class:"grid grid-cols-1 gap-4"},Y={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md h-full"},j=e("div",{class:"mb-5"},[e("h1",{class:"font-bold text-indigo-800"},"Invoice Information"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),N={class:"grid grid-cols-1"},E={class:"mb-4"},R=e("label",{for:"invoice_number",class:"block text-sm font-bold text-gray-700"}," Invoice Number ",-1),S={class:"mt-1 flex rounded-md shadow-sm"},z={class:"grid grid-cols-1"},H={class:"mb-4"},W=e("label",{for:"student_name",class:"block text-sm font-bold text-gray-700"}," Student Name ",-1),G={class:"mt-1 flex rounded-md shadow-sm"},J={class:"grid grid-cols-2 gap-4"},Z={class:"mb-4"},q=e("label",{for:"date_issued",class:"block text-sm font-bold text-gray-700"}," Date Issued ",-1),K={class:"mt-1 flex rounded-md shadow-sm"},Q={class:"mb-4"},X=e("label",{for:"due_date",class:"block text-sm font-bold text-gray-700"}," Due Date ",-1),ee={class:"mt-1 flex rounded-md shadow-sm"},te={class:"grid grid-cols-1"},oe={class:"mb-10"},se={class:"w-full"},ae=e("thead",null,[e("tr",{class:"bg-gray-600"},[e("th",{class:"text-left text-white text-sm py-2 px-4 w-1/12"},"#"),e("th",{class:"text-left text-white text-sm py-2 px-4 w-7/12"},"Items"),e("th",{class:"text-center text-white text-sm py-2 px-4 w-2/12"},"Discount"),e("th",{class:"text-center text-white text-sm py-2 px-4 w-2/12"},"Amount")])],-1),re={class:"border text-sm text-center py-2 px-4"},de={class:"border text-sm py-2 px-4"},ne={class:"grid grid-rows-1 gap-2"},ie={class:"border border-dashed border-indigo-400 bg-indigo-200 rounded py-1 px-3"},le={class:"font-semibold"},me={class:"flex flex-col space-y-2 pl-5"},ce={class:"border border-dashed border-indigo-400 rounded py-1 px-3"},pe={key:0,class:"bg-indigo-100 py-1 px-3 rounded-sm"},ue=e("label",null," Registration Fee ",-1),fe=[ue],_e={key:1,class:"bg-indigo-100 py-1 px-3 rounded-sm"},be=e("label",null," Material Fee ",-1),he=[be],ge={class:"border border-dashed border-blue-400 bg-blue-100 rounded py-1 px-3 space-x-1"},ye=e("label",{class:"text-xs text-white px-1.5 py-0.5 bg-blue-500 rounded"},"Promo",-1),xe={class:"border text-sm py-2 px-4 align-bottom"},ve={class:"flex flex-col space-y-1.5"},we=["onUpdate:modelValue"],ke=["onUpdate:modelValue"],Ve=["onUpdate:modelValue"],De=["value"],Fe={class:"border text-sm py-2 px-4 align-bottom"},Me={class:"flex flex-col space-y-1.5"},$e=["onUpdate:modelValue"],Ce=["onUpdate:modelValue"],Oe=["onUpdate:modelValue"],Ue={class:"grid grid-cols-3"},Pe={class:"mb-4 text-left"},Ie=e("label",{for:"payment_status",class:"block text-sm font-bold text-gray-700"}," Payment Status ",-1),Le=["value"],Ae=e("div",{class:"mb-4"},null,-1),Be={class:"mb-4 text-right pr-5"},Te=e("label",{for:"amount",class:"block text-md font-bold text-gray-700"}," Total Amount",-1),Ye={class:"text-2xl font-bold text-indigo-500"},je={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md h-full"},Ne=e("div",{class:"mb-5"},[e("div",{class:"flex justify-between items-end mb-2"},[e("h1",{class:"font-bold text-indigo-800"},"Online Payment (Billplz)")]),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),Ee={class:"overflow-x-auto"},Re={class:"w-full"},Se=e("thead",null,[e("tr",{class:"bg-gray-600"},[e("th",{class:"text-left text-white text-sm py-2 px-4",width:"10%"},"Payment Date"),e("th",{class:"text-left text-white text-sm py-2 px-4",width:"15%"},"Email"),e("th",{class:"text-center text-white text-sm py-2 px-4",width:"20%"},"Receipt")])],-1),ze={key:0},He={class:"border text-sm py-2 px-4 whitespace-nowrap"},We={class:"border text-sm py-2 px-4 whitespace-nowrap"},Ge={class:"border text-sm py-2 px-4 text-center"},Je={key:1},Ze=e("td",{class:"border text-sm text-center py-2 px-4 text-gray-600",colspan:"10"},"No Records",-1),qe=[Ze],Ke={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md h-full"},Qe={class:"mb-5"},Xe={class:"flex justify-between items-end mb-2"},et=e("h1",{class:"font-bold text-indigo-800"},"Collect Payment",-1),tt=e("div",{class:"border-b border-dashed border-indigo-900 mt-1"},null,-1),ot={class:"overflow-x-auto"},st={class:"w-full"},at=e("thead",null,[e("tr",{class:"bg-gray-600"},[e("th",{class:"text-center text-white text-sm py-2 px-4",width:"1%"},"#"),e("th",{class:"text-left text-white text-sm py-2 px-4",width:"10%"},"Date"),e("th",{class:"text-left text-white text-sm py-2 px-4",width:"15%"},"Transaction ID"),e("th",{class:"text-left text-white text-sm py-2 px-4",width:"20%"},"File Name"),e("th",{class:"text-left text-white text-sm py-2 px-4",width:"25%"},"Remark"),e("th",{class:"text-center text-white text-sm py-2 px-4",width:"10%"},"Action")])],-1),rt={class:"border text-sm py-2 px-4 text-center"},dt={class:"border text-sm py-2 px-4 whitespace-nowrap"},nt={class:"border text-sm py-2 px-4 whitespace-nowrap"},it={class:"min-h-[18px] inline-flex justify-center items-center px-1 bg-gray-200 border border-transparent font-mono text-gray-800 rounded-md"},lt={class:"border text-sm py-2 px-4 whitespace-nowrap"},mt=["href"],ct={class:"border text-sm py-2 px-4 whitespace-nowrap"},pt={class:"border text-sm py-2 px-4 text-center"},ut={key:1},ft=e("td",{class:"border text-sm text-center py-2 px-4 text-gray-600",colspan:"10"},"No Records",-1),_t=[ft],bt={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 gap-4"},ht={class:"sm:row-span-3"},gt={class:"p-5 bg-white border border-gray-200 rounded-lg shadow-md"},yt={class:"flex items-center justify-end"},xt={class:"flex space-x-2"},vt={class:"flex items-center justify-between py-3 px-4 border-b rounded-t font-semibold"},wt=e("h3",{class:"text-gray-900 font-semibold"}," Add Proof of Payment ",-1),kt=e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Vt=[kt],Dt={class:"p-6 overflow-y-auto no-scrollbar"},Ft={class:"grid grid-rows-1"},Mt={class:"mb-4"},$t=e("label",{for:"date",class:"block text-sm font-bold text-gray-700"}," Date ",-1),Ct={class:"mt-1 flex rounded-md shadow-sm"},Ot={class:"mb-4"},Ut=e("label",{for:"transaction_id",class:"block text-sm font-bold text-gray-700"}," Transaction ID ",-1),Pt={class:"mt-1 flex rounded-md shadow-sm"},It={class:"mb-4"},Lt=e("label",{for:"student_name",class:"block text-sm font-bold text-gray-700"},[u(" Proof of Payment ( "),e("span",{class:"text-xs text-indigo-500"},"PDF, JPEG"),u(" )")],-1),At={class:"mt-1 items-center w-full"},Bt={class:""},Tt={class:"block focus:ring-0 focus:border-gray-300"},Yt=e("span",{class:"sr-only"},"Browse File",-1),jt={class:"mb-4"},Nt=e("label",{for:"remark",class:"block text-sm font-bold text-gray-700"}," Remark ",-1),Et={class:"mt-1 flex rounded-md shadow-sm"},Rt={class:"flex justify-end space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},St={components:{Head:V,Link:P,Modal:D},data(){return{show_add_attachment:!1,date_issued:x(this.$page.props.invoice_data.date_issued).format("DD MMM Y"),due_date:x(this.$page.props.invoice_data.due_date).format("DD MMM Y"),form:{params:this.$page.props.params,invoice_id:this.$page.props.invoice_data.id,invoice_items:JSON.parse(this.$page.props.invoice_data.invoice_items),invoice_amount:this.$page.props.invoice_data.amount,payment:{status:this.$page.props.invoice_data.status,proofs:[],proofs_to_delete:[]}},attachment:{date:"",transaction_id:"",url:"",file:"",remark:""},errors:{date:!1,transaction_id:!1,proof_of_payment:!1}}},watch:{"form.invoice_items":{handler(r){r.forEach(t=>{t.programme_fee||(t.programme_fee=0),t.programme_fee_discount||(t.programme_fee_discount=0),t.registration_fee||(t.registration_fee=0),t.registration_fee_discount||(t.registration_fee_discount=0),t.material_fee||(t.material_fee=0),t.material_fee_discount||(t.material_fee_discount=0)})},deep:!0}},methods:{submit(){this.form.invoice_amount=this.totalFee(this.form.invoice_items),this.$inertia.post(route("fee.invoices.update"),this.form,{preserveState:!0})},numbersOnly(r){r=r||window.event;var t=r.which?r.which:r.keyCode;if(t>31&&(t<48||t>57)&&t!==46)r.preventDefault();else{let s=r.target.value.trim();return s===""?s="0":s!=="0"&&s.startsWith("0")&&(s=s.replace(/^0+/,"")),r.target.value=s!==""?s:"0",!0}},totalFee(r){let t=0;for(const o of r){const _=parseFloat(o.programme_fee),a=parseFloat(o.programme_fee_discount),y=parseFloat(o.registration_fee),F=parseFloat(o.registration_fee_discount),M=parseFloat(o.material_fee),$=parseFloat(o.material_fee_discount);t+=_-a,o.include_registration_fee&&(t+=y-F),o.include_material_fee&&(t+=M-$);var s=0;if(o.promos&&Array.isArray(o.promos)){for(const v of o.promos)v.type_id===1&&(s+=_*v.value/100),v.type_id===2&&(s+=v.value);t=t-s}}return t},clearErrors(){this.errors.date=!1,this.errors.transaction_id=!1,this.errors.proof_of_payment=!1},clearAttachmentFields(){this.attachment.date="",this.attachment.transaction_id="",this.attachment.url="",this.attachment.file="",this.attachment.remark=""},showModal(){this.clearErrors(),this.clearAttachmentFields(),this.show_add_attachment=!0},deleteProof(r,t){this.form.payment.proofs.splice(r,1),t&&this.form.payment.proofs_to_delete.push(t)},uploadFile(r){const t=r.target.files[0];t.type=="application/pdf"||t.name.toLowerCase().endsWith(".pdf")||t.type=="image/jpeg"||t.name.toLowerCase().endsWith(".png")?(this.attachment.url=URL.createObjectURL(t),this.attachment.file=t):(alert("Only Image / PDF File allowed!"),this.$refs.file_input.value="")},addAttachment(){if(!this.attachment.date||!this.attachment.transaction_id||!this.attachment.file){this.errors.date=!this.attachment.date,this.errors.transaction_id=!this.attachment.transaction_id,this.errors.proof_of_payment=!this.attachment.file;return}this.form.payment.proofs.push({date:x(this.attachment.date).format("DD-MM-YYYY"),transaction_id:this.attachment.transaction_id,url:this.attachment.url,file:this.attachment.file,remark:this.attachment.remark}),this.show_add_attachment=!1},openPaymentLink(){window.open(this.$page.props.bill_info.url,"_blank")}},mounted(){this.$page.props.invoice_attachments.forEach(r=>{this.form.payment.proofs.push({id:r.id,date:x(r.date).format("DD-MM-YYYY"),transaction_id:r.transaction_id,url:r.attachment,file:"",remark:r.remark})})}},To=Object.assign(St,{__name:"Edit",setup(r){return(t,s)=>(d(),n(b,null,[p(w(V),{title:"Fee Invoices"}),p(U,null,{header:m(()=>[]),default:m(()=>[e("div",L,[e("div",A,[e("form",{onSubmit:s[14]||(s[14]=C((...o)=>t.submit&&t.submit(...o),["prevent"]))},[e("div",B,[e("div",T,[e("div",Y,[j,e("div",N,[e("div",E,[R,e("div",S,[l(e("input",{disabled:"",type:"text",name:"invoice_number",id:"invoice_number",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 bg-gray-100","onUpdate:modelValue":s[0]||(s[0]=o=>t.$page.props.invoice_data.invoice_number=o),autocomplete:"off"},null,512),[[c,t.$page.props.invoice_data.invoice_number]])])])]),e("div",z,[e("div",H,[W,e("div",G,[l(e("input",{disabled:"",type:"text",name:"student_name",id:"student_name",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 bg-gray-100","onUpdate:modelValue":s[1]||(s[1]=o=>t.$page.props.invoice_data.student_name=o),autocomplete:"off"},null,512),[[c,t.$page.props.invoice_data.student_name]])])])]),e("div",J,[e("div",Z,[q,e("div",K,[l(e("input",{disabled:"",type:"text",name:"date_issued",id:"date_issued",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 bg-gray-100","onUpdate:modelValue":s[2]||(s[2]=o=>t.date_issued=o),autocomplete:"off"},null,512),[[c,t.date_issued]])])]),e("div",Q,[X,e("div",ee,[l(e("input",{disabled:"",type:"text",name:"due_date",id:"due_date",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 bg-gray-100","onUpdate:modelValue":s[3]||(s[3]=o=>t.due_date=o),autocomplete:"off"},null,512),[[c,t.due_date]])])])]),e("div",te,[e("div",oe,[e("table",se,[ae,e("tbody",null,[(d(!0),n(b,null,g(t.form.invoice_items,(o,_)=>(d(),n("tr",null,[e("td",re,i(_+1),1),e("td",de,[e("div",ne,[e("div",ie,[e("label",le,i(o.programme_name)+" ( Level "+i(o.programme_level)+" )",1)]),e("div",me,[e("div",ce,[e("label",null,i(o.programme_type),1)]),o.include_registration_fee&&o.registration_fee!=0?(d(),n("div",pe,fe)):f("",!0),o.include_material_fee?(d(),n("div",_e,he)):f("",!0),o.promos?(d(!0),n(b,{key:2},g(o.promos,a=>(d(),n("div",ge,[ye,u(),e("label",null,i(a.promo_name),1)]))),256)):f("",!0)])])]),e("td",xe,[e("div",ve,[l(e("input",{type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed","onUpdate:modelValue":a=>o.programme_fee_discount=a,autocomplete:"off",onInput:s[4]||(s[4]=(...a)=>t.numbersOnly&&t.numbersOnly(...a)),disabled:""},null,40,we),[[c,o.programme_fee_discount]]),o.include_registration_fee&&o.registration_fee!=0?l((d(),n("input",{key:0,type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed","onUpdate:modelValue":a=>o.registration_fee_discount=a,autocomplete:"off",onInput:s[5]||(s[5]=(...a)=>t.numbersOnly&&t.numbersOnly(...a)),disabled:""},null,40,ke)),[[c,o.registration_fee_discount]]):f("",!0),o.include_material_fee&&o.material_fee!=0?l((d(),n("input",{key:1,type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed","onUpdate:modelValue":a=>o.material_fee_discount=a,autocomplete:"off",onInput:s[6]||(s[6]=(...a)=>t.numbersOnly&&t.numbersOnly(...a)),disabled:""},null,40,Ve)),[[c,o.material_fee_discount]]):f("",!0),o.promos?(d(!0),n(b,{key:2},g(o.promos,a=>(d(),n("input",{type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed",value:a.type_id===1?o.programme_fee*a.value/100:a.value,autocomplete:"off",onInput:s[7]||(s[7]=(...y)=>t.numbersOnly&&t.numbersOnly(...y)),disabled:""},null,40,De))),256)):f("",!0)])]),e("td",Fe,[e("div",Me,[l(e("input",{type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed","onUpdate:modelValue":a=>o.programme_fee=a,autocomplete:"off",onInput:s[8]||(s[8]=(...a)=>t.numbersOnly&&t.numbersOnly(...a)),disabled:""},null,40,$e),[[c,o.programme_fee]]),o.include_registration_fee&&o.registration_fee!=0?l((d(),n("input",{key:0,type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed","onUpdate:modelValue":a=>o.registration_fee=a,autocomplete:"off",onInput:s[9]||(s[9]=(...a)=>t.numbersOnly&&t.numbersOnly(...a)),disabled:""},null,40,Ce)),[[c,o.registration_fee]]):f("",!0),o.include_material_fee&&o.material_fee!=0?l((d(),n("input",{key:1,type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed","onUpdate:modelValue":a=>o.material_fee=a,autocomplete:"off",onInput:s[10]||(s[10]=(...a)=>t.numbersOnly&&t.numbersOnly(...a)),disabled:""},null,40,Oe)),[[c,o.material_fee]]):f("",!0),o.promos?(d(!0),n(b,{key:2},g(o.promos,a=>(d(),n("input",{type:"number",min:"0",name:"",id:"",class:"bg-gray-50 py-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300 cursor-not-allowed",value:0,onInput:s[11]||(s[11]=(...y)=>t.numbersOnly&&t.numbersOnly(...y)),disabled:""},null,32))),256)):f("",!0)])])]))),256))])])])]),e("div",Ue,[e("div",Pe,[Ie,l(e("select",{name:"payment_status",id:"payment_status",class:"mt-1 focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300",autocomplete:"off","onUpdate:modelValue":s[12]||(s[12]=o=>t.form.payment.status=o)},[(d(!0),n(b,null,g(t.$page.props.invoice_status,o=>(d(),n("option",{value:o.id},i(o.name),9,Le))),256))],512),[[O,t.form.payment.status]])]),Ae,e("div",Be,[Te,e("span",Ye,i(t.$page.props.invoice_data.amount),1)])])]),e("div",je,[Ne,e("div",Ee,[e("table",Re,[Se,e("tbody",null,[t.$page.props.bill_info.paid?(d(),n("tr",ze,[e("td",He,i(w(x)(t.$page.props.bill_info.paid_at).format("DD/MM/Y")),1),e("td",We,i(t.$page.props.bill_info.email),1),e("td",Ge,[p(h,{buttonType:"info",onClick:s[13]||(s[13]=o=>t.openPaymentLink())},{default:m(()=>[u("View")]),_:1})])])):(d(),n("tr",Je,qe))])])])]),e("div",Ke,[e("div",Qe,[e("div",Xe,[et,p(h,{onClick:t.showModal,class:"normal-case px-4 py-2"},{default:m(()=>[u("Add proof of payment")]),_:1},8,["onClick"])]),tt]),e("div",ot,[e("table",st,[at,e("tbody",null,[t.form.payment.proofs.length?(d(!0),n(b,{key:0},g(t.form.payment.proofs,(o,_)=>(d(),n("tr",null,[e("td",rt,i(_+1),1),e("td",dt,i(o.date),1),e("td",nt,[e("kbd",it,i(o.transaction_id),1)]),e("td",lt,[e("a",{href:o.file?o.url:"/storage/proof_of_payment/"+o.url,download:"",class:"min-h-[30px] inline-flex justify-center items-center py-1 px-1.5 bg-white border border-gray-200 font-mono text-sm text-gray-800 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:bg-neutral-900"},i(o.file?o.file.name:o.url),9,mt)]),e("td",ct,i(o.remark),1),e("td",pt,[p(h,{buttonType:"danger",onClick:a=>t.deleteProof(_,o.id)},{default:m(()=>[u("Delete")]),_:2},1032,["onClick"])])]))),256)):(d(),n("tr",ut,_t))])])])])]),e("div",bt,[e("div",ht,[e("div",gt,[e("div",yt,[e("div",xt,[p(h,{buttonType:"gray",url:t.route("fee.invoices",t.$page.props.params)},{default:m(()=>[u("Cancel")]),_:1},8,["url"]),p(h,{type:"submit"},{default:m(()=>[u("Save")]),_:1})])])])])])])],32)])]),p(D,{showModal:t.show_add_attachment,modalType:"sm",onHideModal:s[21]||(s[21]=o=>t.show_add_attachment=!1)},{header:m(()=>[e("div",vt,[wt,e("button",{type:"button",onClick:s[15]||(s[15]=o=>t.show_add_attachment=!1),class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"default-modal"},Vt)])]),content:m(()=>[e("div",Dt,[e("div",Ft,[e("div",Mt,[$t,e("div",Ct,[p(w(I),{class:k("focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm"),"input-class-name":t.errors.date?"invoices-input-date-picker-error focus:ring-0":"invoices-input-date-picker focus:ring-0",modelValue:t.attachment.date,"onUpdate:modelValue":s[16]||(s[16]=o=>t.attachment.date=o),enableTimePicker:!1,"auto-apply":!0,format:"dd/MM/yyyy"},null,8,["input-class-name","modelValue"])])]),e("div",Ot,[Ut,e("div",Pt,[l(e("input",{type:"text",name:"transaction_id",id:"transaction_id",class:k(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.errors.transaction_id?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[17]||(s[17]=o=>t.attachment.transaction_id=o),autocomplete:"off"},null,2),[[c,t.attachment.transaction_id]])])]),e("div",It,[Lt,e("div",At,[e("div",Bt,[e("label",Tt,[Yt,e("input",{type:"file",ref:"file_input",class:k(["focus:ring-0 border rounded-md block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-gray-200 file:text-gray-700 focus:outline-none",t.errors.proof_of_payment?"border-red-300":"border-gray-300"]),onChange:s[18]||(s[18]=(...o)=>t.uploadFile&&t.uploadFile(...o))},null,34)])])])]),e("div",jt,[Nt,e("div",Et,[l(e("textarea",{type:"text",name:"remark",id:"remark",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm border-gray-300","onUpdate:modelValue":s[19]||(s[19]=o=>t.attachment.remark=o),autocomplete:"off"},null,512),[[c,t.attachment.remark]])])])])])]),footer:m(()=>[e("div",Rt,[p(h,{buttonType:"gray",onClick:s[20]||(s[20]=o=>t.show_add_attachment=!1)},{default:m(()=>[u("Cancel")]),_:1}),p(h,{onClick:t.addAttachment},{default:m(()=>[u("Add")]),_:1},8,["onClick"])])]),_:1},8,["showModal"])]),_:1})],64))}});export{To as default};
