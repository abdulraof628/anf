import{B as D}from"./Authenticated-89c7332d.js";import{H as k,L as A}from"./@inertiajs-2b766590.js";import{_ as L}from"./Card-b75ae06b.js";import{P as S}from"./Pagination-68c56f06.js";import{_ as I}from"./DeleteConfirmation-b2aa0ec0.js";import{_ as U,a as T,b as h,c as l,d as j,e as n}from"./TableRow-da22b5e6.js";import{h as x}from"./moment-a9aaa855.js";import{M as z}from"./Modal-6a11ca09.js";import{_ as F}from"./DialogModal-6d0aecd6.js";import{a as O}from"./@radix-icons-9ff33614.js";import{x as C,v as e,u as s,O as t,F as b,b7 as u,b8 as E,q as _,y as p,z as H,U as i,t as $,B as M,I as P,J as d,m as R}from"./@vue-39dc9ff3.js";import"./ApplicationLogo-5cf6e77e.js";import"./radix-vue-a603168c.js";import"./@floating-ui-c05b1c1f.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-dbb80022.js";import"./axios-1779699b.js";import"./pusher-js-68b5c933.js";import"./@vueform-8fb84cf1.js";import"./@vuepic-a83e4355.js";import"./@babel-1b80a44a.js";import"./cropperjs-042b647f.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-e9930861.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-c14271ca.js";import"./lodash.isequal-0acc53e7.js";import"./vue-46d666fa.js";import"./lodash.clonedeep-12c784b4.js";import"./qs-45a3326f.js";import"./side-channel-401220dd.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-ac0241aa.js";import"./deepmerge-89e33937.js";import"./nprogress-87ee1729.js";import"./lucide-vue-next-7b48dc26.js";import"./vue-final-modal-a2198d51.js";const q={class:"relative"},J=p("div",{class:"p-3"}," No Record Found ",-1),Y={class:"flex justify-center space-x-2"},G={class:"p-1 grid grid-cols-1 gap-4"},K={class:""},Q=p("span",{class:"text-red-500"},"*",-1),W={components:{Head:k,Link:A,Modal:z,Pagination:S},props:{filter:Object},data(){return{open_modal:!1,confirmation:{is_open:!1,route_name:"",id:""},params:{search:this.filter.search?this.filter.search:"",centre_id:this.filter.centre_id?this.filter.centre_id:""},form:{result_id:"",admitted:!1,centre_id:!1,notes:""}}},methods:{viewDetails(m){this.$inertia.get(this.route("diagnostic_test.saved_result.details"),{result_id:m})},updateStatus(m,o,r,c){this.form.result_id=m,this.form.admitted=o==1,this.form.centre_id=r||"",this.form.notes=c,this.open_modal=!0},deleteStatus(m){this.confirmation.route_name="diagnostic_test.delete_result",this.confirmation.id=m,this.confirmation.is_open=!0},saveStatus(){this.$inertia.post(this.route("diagnostic_test.saved_result.save_status"),this.form,{onSuccess:m=>{this.open_modal=!1}})},search(){this.$inertia.get(this.route("diagnostic_test.saved_result"),this.params,{replace:!0,preserveState:!0})}}},Ke=Object.assign(W,{__name:"Index",setup(m){return(o,r)=>{const c=u("Input"),f=u("Button"),V=u("Checkbox"),g=u("Label"),w=u("ComboBox"),N=u("Textarea"),y=E("debounce");return _(),C(b,null,[e(s(k),{title:"Diagnostic Test"}),e(D,null,{header:t(()=>[]),default:t(()=>[p("div",q,[e(s(O),{class:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),H(e(c,{type:"text",placeholder:"Search",class:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]",modelValue:o.params.search,"onUpdate:modelValue":r[0]||(r[0]=a=>o.params.search=a)},null,8,["modelValue"]),[[y,o.search,"800ms"]])]),e(L,null,{content:t(()=>[e(s(U),null,{default:t(()=>[e(s(T),{class:"bg-gray-100"},{default:t(()=>[e(s(h),null,{default:t(()=>[e(s(l),null,{default:t(()=>[i("#")]),_:1}),e(s(l),null,{default:t(()=>[i("Name")]),_:1}),e(s(l),null,{default:t(()=>[i("Email")]),_:1}),e(s(l),null,{default:t(()=>[i("Contact Number")]),_:1}),e(s(l),null,{default:t(()=>[i("Centre")]),_:1}),e(s(l),null,{default:t(()=>[i("Admitted")]),_:1}),e(s(l),null,{default:t(()=>[i("Notes")]),_:1}),e(s(l),{class:"text-center"},{default:t(()=>[i("Action")]),_:1})]),_:1})]),_:1}),e(s(j),null,{default:t(()=>[o.$page.props.saved_results.data.length?M("",!0):(_(),$(s(h),{key:0},{default:t(()=>[e(s(n),{class:"text-center",colspan:"10"},{default:t(()=>[J]),_:1})]),_:1})),(_(!0),C(b,null,P(o.$page.props.saved_results.data,(a,B)=>(_(),$(s(h),null,{default:t(()=>[e(s(n),null,{default:t(()=>[i(d(o.$page.props.saved_results.from+B),1)]),_:2},1024),e(s(n),null,{default:t(()=>[i(d(a.child_id?a.student_name:a.child_name)+" - Age ("+d(a.child_id?s(x)().diff(a.student_dob,"years"):a.child_age)+")",1)]),_:2},1024),e(s(n),null,{default:t(()=>[i(d(a.parent_email),1)]),_:2},1024),e(s(n),null,{default:t(()=>[i(d(a.parent_contact),1)]),_:2},1024),e(s(n),null,{default:t(()=>[i(d(a.centre_name),1)]),_:2},1024),e(s(n),null,{default:t(()=>[p("span",{class:R(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",a.admitted==1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},d(a.admitted==1?"Yes":"No"),3)]),_:2},1024),e(s(n),null,{default:t(()=>[i(d(a.notes),1)]),_:2},1024),e(s(n),{class:"text-center space-x-2"},{default:t(()=>[p("div",Y,[e(f,{variant:"outline",onClick:v=>o.updateStatus(a.id,a.admitted,a.centre_id,a.notes)},{default:t(()=>[i("Status")]),_:2},1032,["onClick"]),e(f,{onClick:v=>o.viewDetails(a.id)},{default:t(()=>[i("View Details")]),_:2},1032,["onClick"]),e(f,{variant:"destructive",onClick:v=>o.deleteStatus(a.id)},{default:t(()=>[i("Delete")]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),e(S,{page_data:o.$page.props.saved_results,params:o.params},null,8,["page_data","params"]),e(I,{open:o.confirmation.is_open,onClose:r[1]||(r[1]=a=>o.confirmation.is_open=!1),routeName:o.confirmation.route_name,id:o.confirmation.id},{title:t(()=>[i("Delete Result")]),description:t(()=>[i("Are you sure want to delete this result?")]),_:1},8,["open","routeName","id"]),e(F,{open:o.open_modal,"onUpdate:open":r[6]||(r[6]=a=>o.open_modal=a)},{title:t(()=>[i("Status")]),content:t(()=>[p("div",G,[e(g,{for:"admitted",class:"flex items-center space-x-1 cursor-pointer"},{default:t(()=>[e(V,{class:"mr-1",id:"admitted",value:!0,checked:o.form.admitted,onClick:r[2]||(r[2]=a=>o.form.admitted=!o.form.admitted)},null,8,["checked"]),i(" Admitted ")]),_:1}),p("div",K,[e(g,null,{default:t(()=>[i("Centre"),Q]),_:1}),e(w,{canClear:"",items:o.$page.props.allowed_centres,"label-property":"label","value-property":"ID",error:o.$page.props.errors.centre_id,modelValue:o.form.centre_id,"onUpdate:modelValue":r[3]||(r[3]=a=>o.form.centre_id=a),"select-placeholder":"Select Centre","search-placeholder":"Search centre..."},null,8,["items","error","modelValue"])]),e(N,{rows:"3",placeholder:"Notes...",modelValue:o.form.notes,"onUpdate:modelValue":r[4]||(r[4]=a=>o.form.notes=a)},null,8,["modelValue"])])]),footer:t(()=>[e(f,{variant:"outline",onClick:r[5]||(r[5]=a=>o.open_modal=!1)},{default:t(()=>[i("Cancel")]),_:1}),e(f,{onClick:o.saveStatus},{default:t(()=>[i("Save")]),_:1},8,["onClick"])]),_:1},8,["open"])]),_:1})],64)}}});export{Ke as default};
