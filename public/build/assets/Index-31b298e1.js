import{o as i,m as x,b as c,B as A,C as w,c as l,d as e,n as I,t as p,F as _,h as k,D as T,j as b,E as D,G as N,a as P,u as y,w as g,H as C,L as z,k as f,f as X,l as E}from"./app-6a039a4d.js";import{B as O}from"./Authenticated-f41802d1.js";import{B as v}from"./Button-92f7232a.js";import{r as R}from"./PencilIcon-ab89b5f4.js";import{r as V}from"./SearchIcon-e088b054.js";import{r as j}from"./TrashIcon-c9634ee0.js";import{C as $}from"./ConfirmationModal-fdd7e3ff.js";import{P as L}from"./Pagination-660958c3.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-da5a4e4a.js";import"./XIcon-18df17fb.js";import"./toggle-540d86db.js";import"./moment-fbc5633a.js";import"./transition-d8784206.js";function F(s,t){return i(),x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})])}const J=A({name:"my-image-box",props:{imagesListClass:{type:String,default:""},images:{type:Array,default:()=>[]},openLightbox:Boolean},created(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption},watch:{images:{handler(){this.state.selectedIndex=0,this.state.selectedImgPath=this.images[0].src,this.state.selectedCaption=this.images[0].caption}}},setup(s){const t=w({show:!1,isChanging:!1,selectedIndex:0,selectedImgPath:"",selectedCaption:""}),d=(n,S,M)=>{t.selectedIndex=n,t.selectedImgPath=S,t.selectedCaption=M,t.show=!0},m=()=>{if(t.selectedIndex==0)return!1;let n=t.selectedIndex-1;t.selectedIndex=n,t.selectedImgPath=s.images[n].src,t.selectedCaption=s.images[n].caption},a=()=>{if(t.selectedIndex==s.images.length-1)return!1;let n=t.selectedIndex+1;t.selectedIndex=n,t.selectedImgPath=s.images[n].src,t.selectedCaption=s.images[n].caption},u=w({startX:0});return{state:t,selected:d,prev:m,next:a,touchStart:n=>{u.startX=n.changedTouches[0].clientX},touchEnd:n=>{n.changedTouches[0].clientX>u.startX?m():a(),u.startX=0}}},methods:{closeImagebox(){this.$emit("closeImagebox",!0)}}}),h=s=>(D("data-v-d35edbb7"),s=s(),N(),s),Q={key:0,class:"vue-lb-container",style:{"touch-action":"pan-y","user-select":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}},Y={class:"vue-lb-content"},G={class:"vue-lb-header"},U=h(()=>e("span",null,null,-1)),Z=h(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})])],-1)),q=[Z],K={class:"vue-lb-figure"},W=["src"],ee=["innerHTML"],te={class:"vue-lb-footer"},se=h(()=>e("div",{class:"vue-lb-footer-info"},null,-1)),oe={class:"vue-lb-footer-count"},ae={class:"vue-lb-thumbnail-wrapper"},ne={class:"vue-lb-thumbnail"},ie=h(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),re=[ie],le=["aaa","bbb","onClick"],de=h(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),ce=[de],pe=h(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"},[e("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"})])],-1)),he=[pe],ue=h(()=>e("span",null,[e("svg",{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"},[e("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})])],-1)),me=[ue];function ge(s,t,d,m,a,u){return(s.state.show=s.openLightbox)?(i(),l("div",Q,[e("div",Y,[e("div",G,[U,e("button",{type:"button",title:"Close (Esc)",class:I("relative p-1 w-10"),onClick:t[0]||(t[0]=o=>s.closeImagebox())},q)]),e("div",K,[e("img",{class:"vue-lb-modal-image",src:s.state.selectedImgPath,onTouchstart:t[1]||(t[1]=(...o)=>s.touchStart&&s.touchStart(...o)),onTouchend:t[2]||(t[2]=(...o)=>s.touchEnd&&s.touchEnd(...o))},null,40,W),e("div",{class:"vue-lb-info",innerHTML:s.state.selectedCaption},null,8,ee),e("div",te,[se,e("div",oe,p(s.state.selectedIndex+1)+" / "+p(s.images.length),1)])])]),e("div",ae,[e("div",ne,[e("button",{type:"button",title:"Previous",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-left",onClick:t[3]||(t[3]=(...o)=>s.prev&&s.prev(...o))},re),(i(!0),l(_,null,k(s.images,(o,r)=>(i(),l("div",{key:r,class:"vue-lb-modal-thumbnail",lazy:"loaded",aaa:r,bbb:s.state.selectedIndex,style:T({"background-image":"url('"+o.thumb+"')",display:r<5&&s.state.selectedIndex<3||s.state.selectedIndex>s.images.length-5&&s.images.length-r<=5&&r<=s.state.selectedIndex+2||r>=s.state.selectedIndex-2&&r<=s.state.selectedIndex+2?"":"none"}),onClick:n=>s.selected(r,o.src,o.caption)},null,12,le))),128)),e("button",{type:"button",title:"Next",class:"vue-lb-thumbnail-arrow vue-lb-thumbnail-right",onClick:t[4]||(t[4]=(...o)=>s.next&&s.next(...o))},ce)])]),e("button",{type:"button",title:"Previous",class:"vue-lb-arrow vue-lb-left",onClick:t[5]||(t[5]=(...o)=>s.prev&&s.prev(...o))},he),e("button",{type:"button",title:"Next",class:"vue-lb-arrow vue-lb-right",onClick:t[6]||(t[6]=(...o)=>s.next&&s.next(...o))},me)])):b("",!0)}const B=H(J,[["render",ge],["__scopeId","data-v-d35edbb7"]]),be={class:"py-4 px-4"},fe={key:0,class:"flex justify-end mb-3"},ve=e("hr",{class:"my-3 border border-dashed border-gray-400"},null,-1),xe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-2 mb-3"},_e={class:"relative w-full"},we=e("svg",{class:"absolute top-2.5 left-3 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ye={class:"overflow-x-auto"},Ie={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},ke={class:"min-w-full divide-y divide-gray-200"},Ce=e("thead",{class:"bg-gray-300"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"1%"},"#"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"5%"},"Name"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"7%"},"Address"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider max-w-xs",width:"5%"},"Country"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",width:"2%"},"Status"),e("th",{scope:"col",class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",width:"2%"},"Action")])],-1),$e={class:"bg-white divide-y divide-gray-200"},Le={key:0},Be=e("td",{class:"text-center",colspan:"10"},[e("div",{class:"p-3"}," No Record Found! ")],-1),Se=[Be],Me={class:"hover:bg-gray-200"},Ae={class:"px-6 py-3"},Te={class:"font-semibold text-black text-sm dark:text-white"},De={class:"px-6 py-3"},Ne={class:"font-semibold whitespace-break-spaces text-sm"},Pe={class:"px-6 py-3"},ze={class:"font-semibold whitespace-break-spaces text-sm"},Xe={class:"px-6 py-3 text-center"},Ee={class:"font-semibold whitespace-break-spaces text-sm"},Oe={class:"px-6 py-4"},Re={class:"px-6 py-4 text-sm font-medium"},Ve={class:"flex justify-center space-x-2"},je={components:{SearchIcon:V,TrashIcon:j,PencilIcon:R,PhotographIcon:F,ImageBox:B,Pagination:L,ConfirmationModal:$,Head:C,Link:z},props:{filter:Object,centre_images:Object},created(){this.images.push({thumb:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",src:"https://media.istockphoto.com/vectors/no-image-available-sign-vector-id1138179183?k=20&m=1138179183&s=612x612&w=0&h=iJ9y-snV_RmXArY4bA-S4QSab0gxfAMXmXwn5Edko1M=",caption:"Not Available"})},data(){return{isOpen:!1,isOpenImagebox:!1,userID:"",confirmationTitle:"",confirmationText:"",confirmationAlert:"",confirmationButton:"",confirmationMethod:"",confirmationData:"",confirmationRoute:"",params:{search:this.filter.search?this.filter.search:""},images:[]}},methods:{deleteCentre(s){this.confirmationRoute="centres.destroy",this.confirmationData=s,this.isOpen=!0},editCentre(s){this.$inertia.get(route("centres.edit"),{centre_id:s},{preserveState:!0})},viewImages(s){axios.get(this.route("centres.get_images"),{params:{centre_id:s}}).then(t=>{this.images="",this.images=[],this.images=t.data,this.isOpenImagebox=!0,document.body.classList.add("overflow-hidden")})},closeImage(){this.isOpenImagebox=!1,document.body.classList.remove("overflow-hidden")},search(){this.$inertia.get(this.route("centres"),this.params,{replace:!0,preserveState:!0})}}},ot=Object.assign(je,{__name:"Index",setup(s){return(t,d)=>{const m=P("debounce");return i(),l(_,null,[c(y(C),{title:"Centres"}),c(O,null,{header:g(()=>[]),default:g(()=>[e("div",be,[t.$page.props.can.create_centres?(i(),l("div",fe,[c(v,{route:t.route("centres.create")},{default:g(()=>[f("New Centre")]),_:1},8,["route"])])):b("",!0),ve,e("div",xe,[e("div",_e,[we,X(e("input",{type:"text",class:"h-10 border-2 border-gray-300 w-full appearance-none focus:ring-0 focus:border-gray-300 py-1 pl-10 pr-4 text-gray-700 bg-white rounded-md","onUpdate:modelValue":d[0]||(d[0]=a=>t.params.search=a)},null,512),[[m,t.search,"800ms"],[E,t.params.search]])])]),e("div",ye,[e("div",Ie,[e("table",ke,[Ce,e("tbody",$e,[t.$page.props.centres.data.length?b("",!0):(i(),l("tr",Le,Se)),(i(!0),l(_,null,k(t.$page.props.centres.data,(a,u)=>(i(),l("tr",Me,[e("td",Ae,[e("span",Te,p(u+1),1)]),e("td",De,[e("span",Ne,p(a.centre_name),1)]),e("td",Pe,[e("span",ze,p(a.centre_address?a.centre_address:"Not Available"),1)]),e("td",Xe,[e("span",Ee,p(a.country_name?a.country_name:"Not Set"),1)]),e("td",Oe,[e("span",{class:I(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",a.centre_status==1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},p(a.centre_status==1?"Active":"Not Active"),3)]),e("td",Re,[e("div",Ve,[t.$page.props.can.edit_centres?(i(),x(v,{key:0,buttonType:"warning",title:"Edit School",onClick:o=>t.editCentre(a.centre_id)},{default:g(()=>[f("Edit")]),_:2},1032,["onClick"])):b("",!0),t.$page.props.can.delete_centres?(i(),x(v,{key:1,buttonType:"danger",title:"Delete School",onClick:o=>t.deleteCentre(a.centre_id)},{default:g(()=>[f("Delete")]),_:2},1032,["onClick"])):b("",!0)])])]))),256))])]),c(L,{page_data:t.$page.props.centres,params:t.params},null,8,["page_data","params"])])]),c($,{show:t.isOpen,onClose:d[1]||(d[1]=a=>t.isOpen=!1),confirmationAlert:"danger",confirmationTitle:"Delete Centre",confirmationText:"Are you sure want to delete this centre?",confirmationButton:"Delete",confirmationMethod:"delete",confirmationRoute:t.confirmationRoute,confirmationData:t.confirmationData},null,8,["show","confirmationRoute","confirmationData"]),c(y(B),{onCloseImagebox:t.closeImage,images:t.images,openLightbox:t.isOpenImagebox},null,8,["onCloseImagebox","images","openLightbox"])])]),_:1})],64)}}});export{ot as default};
