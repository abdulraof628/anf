import{B as M}from"./Authenticated-89c7332d.js";import{H as j,L}from"./@inertiajs-2b766590.js";import{_ as A}from"./Collapsible-08c65aae.js";import{_ as E}from"./Card-b75ae06b.js";import{_ as z,a as O}from"./index-85b03c23.js";import{_ as H}from"./AlertTitle-f2657c78.js";import{_ as J,a as R,b as T,c as w,d as Z,e as y}from"./TableRow-da22b5e6.js";import{_ as q}from"./DialogModal-6d0aecd6.js";import{h as N}from"./moment-a9aaa855.js";import{e as F}from"./vue-debounce-ed417ae1.js";import{a as S}from"./axios-1779699b.js";import{e as G}from"./@radix-icons-9ff33614.js";import{x as _,v as l,u as r,O as i,F as $,b7 as k,q as n,y as t,U as d,J as c,t as P,B as g,I as U}from"./@vue-39dc9ff3.js";import"./ApplicationLogo-5cf6e77e.js";import"./radix-vue-a603168c.js";import"./@floating-ui-c05b1c1f.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-52f2569e.js";import"./clsx-1229b3e0.js";import"./app-dbb80022.js";import"./pusher-js-68b5c933.js";import"./@vueform-8fb84cf1.js";import"./@vuepic-a83e4355.js";import"./@babel-1b80a44a.js";import"./cropperjs-042b647f.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./v-calendar-e9930861.js";import"./tailwind-merge-3f7ff3b1.js";import"./@vueuse-c14271ca.js";import"./lodash.isequal-0acc53e7.js";import"./vue-46d666fa.js";import"./lodash.clonedeep-12c784b4.js";import"./qs-45a3326f.js";import"./side-channel-401220dd.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-ac0241aa.js";import"./deepmerge-89e33937.js";import"./nprogress-87ee1729.js";import"./lucide-vue-next-7b48dc26.js";const K={class:"grid grid-cols-1 gap-2"},Q={class:"grid grid-cols-1 xl:grid-cols-2 2xl:grid-cols-4 gap-4 p-3"},W=t("span",{class:"text-red-500"},"*",-1),X=t("span",{class:"text-red-500"},"*",-1),Y=t("span",{class:"text-red-500"},"*",-1),ee=t("span",{class:"text-red-500"},"*",-1),se={class:"font-normal"},te=t("span",{class:"text-red-500"},"*",-1),oe=t("span",{class:"text-red-500"},"*",-1),le=t("span",{class:"text-red-500"},"*",-1),ae={class:"self-end"},ie={class:"grid grid-cols-1 xl:grid-cols-2 gap-2"},re={ref:"available_classes"},ne={key:0,class:"max-h-[26rem] overflow-y-auto"},de=t("div",{class:"p-3"}," No classes available ",-1),_e={class:"pl-2 whitespace-nowrap"},ce={key:1,class:"flex justify-center py-2 text-sm"},me=t("span",null,"Please search for classes.",-1),fe=[me],pe={ref:"class_fee"},ue={key:0,class:"grid px-3 divide-y select-none"},he={class:"py-4"},ge={class:"flex justify-between mb-3 font-semibold"},be={class:"text-sm"},ve={class:"text-sm"},ye={class:"grid gap-2 mb-4 text-xs font-semibold"},ke={class:"flex items-center justify-between"},Ce=t("span",null,"Centre",-1),Ve={class:"text-slate-600"},xe={class:"flex items-center justify-between"},we=t("span",null,"Fee",-1),Se={class:"text-slate-600"},$e={class:"flex items-center justify-between"},Pe=t("span",null,"Class Method",-1),Ne={class:"text-slate-600"},Ue={class:"grid gap-2 mb-3 text-xs font-semibold"},Ie=t("li",{class:"flex items-center"},[t("span",{class:"underline"},"Timetable")],-1),Ae={class:"flex flex-wrap items-center gap-4"},Te={class:"grid gap-2 mb-3 text-xs font-semibold"},Be={class:"flex items-center space-x-2"},Fe=t("span",{class:"underline"},"Applied Promos",-1),je=["onClick"],De={class:"font-medium"},Me={key:0,class:"flex flex-wrap gap-2"},Le={class:"flex space-x-2 items-center justify-center rounded-sm bg-indigo-200 px-2.5 py-1 text-indigo-800"},Ee={class:"whitespace-nowrap text-xs"},ze=["onClick"],Oe=t("path",{d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"},null,-1),He=[Oe],Je={key:1,class:""},Re=t("span",{class:"text-xs font-semibold text-indigo-500"},"None",-1),Ze=[Re],qe={key:0,class:"grid gap-2 mb-3 text-xs font-semibold"},Ge={class:"flex flex-col"},Ke={class:"flex items-center space-x-2"},Qe=["for"],We={key:0,class:"flex items-center space-x-2 pl-6"},Xe=["for"],Ye={key:1,class:"grid gap-2 mb-3 text-xs font-semibold"},es={class:"flex flex-col"},ss={class:"flex items-center space-x-2"},ts=["for"],os={key:0,class:"flex items-center space-x-2 pl-6"},ls=["for"],as={class:"grid gap-2 text-xs font-semibold"},is={class:"flex flex-col"},rs={class:"col-span-2 mt-3"},ns={class:"flex items-center justify-end space-x-2"},ds=["for"],_s={class:"flex items-center justify-end text-lg space-x-1"},cs={class:"font-brown"},ms=t("span",{class:"font-medium text-sm text-gray-700"},"/month",-1),fs={key:1,class:"flex justify-center py-2 text-sm"},ps={key:0},us={key:1},hs={class:"flex justify-end space-x-2"},gs={components:{Head:j,Link:L},data(){return{open_promo_modal:!1,disable_check_box:!1,fetching_fee:!1,no_fee_found:!1,total_amount:0,open:{student_info:!0,student_classes:!1,admission_confirmation:!1},errors:{child:!1,centre:!1,admission_date:!1,programme:!1,class_type:!1,programme:!1,level:!1,class_method:!1},disable:{class_type:!0,class_levels:!0},list:{students:[],class_types:[],class_levels:[],available_classes:[]},searching:{student:!1,class:!1,fee:!1},enable_container:{available_classes:!1,show_fee:!1},search_form:{programme_id:"",class_type:"",class_level:"",class_method:""},form:{date_admission:"",children_id:"",centre_id:"",fee:[]},selected_promo:{promo_id:"",fee_index:""},selected_plus_class:{}}},watch:{"search_form.programme_id":{handler(){this.search_form.programme_id&&(this.disable.class_type=!0,this.disable.class_levels=!0,this.search_form.class_type="",this.search_form.class_level="",S.get(route("classes.get_class_types"),{params:{programme_id:this.search_form.programme_id}}).then(a=>{this.list.class_types=a.data,this.disable.class_type=!1}))},deep:!0},"search_form.class_type":{handler(){this.search_form.programme_id&&this.search_form.class_type&&(this.disable.class_levels=!0,this.search_form.class_level="",S.get(route("classes.get_class_levels"),{params:{programme_id:this.search_form.programme_id,class_type:this.search_form.class_type}}).then(a=>{this.list.class_levels=a.data,this.disable.class_levels=!1}))},deep:!0},"form.fee":{handler(){this.total_amount=0,this.form.fee.forEach(a=>{const{include_registration_fee:e,registration_fee:o,registration_fee_discount:h,include_material_fee:u,material_fee:m,material_fee_discount:b,programme_fee:v,promos:C}=a.fee_info,s=e?Number(o):0,f=h!=""&&h>0?Number(h):0,p=u?Number(m):0,I=b!=""&&b>0?Number(b):0,B=C.reduce((V,x)=>x.type_id===1?V+x.value:V,0),D=C.reduce((V,x)=>x.type_id===2?V+x.value:V,0);this.total_amount+=Number(v)-D-this.total_amount*B/100+(Number(s)-Number(f))+(Number(p)-Number(I))})},deep:!0}},methods:{submit(){this.$inertia.post(route("classes.store"),this.form,{preserveState:!0})},findChildren:F(function(a){F(e=>"400ms")(10),a&&(this.searching.student=!0,S.get(route("children.find"),{params:{keyword:a}}).then(e=>{this.list.students=e.data,this.searching.student=!1}))},1e3),findClasses(){if(this.errors.child=!this.form.children_id,this.errors.centre=!this.form.centre_id,this.errors.admission_date=!this.form.date_admission,this.errors.programme=!this.search_form.programme_id,this.errors.class_type=!this.search_form.class_type,this.errors.level=!this.search_form.class_level,this.errors.class_method=!this.search_form.class_method,this.form.children_id&&this.form.centre_id&&this.search_form.programme_id&&this.search_form.class_level&&this.search_form.class_type&&this.search_form.class_method){this.searching.class=!0,this.enable_container.show_fee=!1,this.list.available_classes=[],this.selected_plus_class[this.search_form.programme_id]=[];const a=this.form.fee.findIndex(e=>e.fee_info.programme_id===this.search_form.programme_id);a!=-1&&this.form.fee.splice(a,1),S.get(route("classes.find"),{params:{centre_id:this.form.centre_id,programme_id:this.search_form.programme_id,class_method:this.search_form.class_method,class_level:this.search_form.class_level,class_type:this.search_form.class_type}}).then(e=>{this.list.available_classes=e.data,this.enable_container.available_classes=!0,this.searching.class=!1,this.open.student_info=!1,this.open.student_classes=!0,setTimeout(()=>{this.scrollToElement("available_classes")},300)})}},getPlusFee(a,e,o,h){if(this.fetching_fee||this.disable_check_box)return;this.disable_check_box=!0,this.checkIfClassSelected(a,o)?(this.selected_plus_class[o].length==1&&(this.selected_plus_class[o]=[],this.no_fee_found=!1),this.selected_plus_class[o]=this.selected_plus_class[o].filter(m=>m!==a)):(this.selected_plus_class[o]||(this.selected_plus_class[o]=[]),this.selected_plus_class[o].push(a)),this.form.fee=this.form.fee.filter(m=>m.fee_info.programme_id!==o),this.selected_plus_class[o].length?(this.fetching_fee=!0,S.get(route("programmes.get_fee"),{params:{class_type:this.search_form.class_type,class_count:this.selected_plus_class[o].length,classes:this.selected_plus_class[o],programme_level_id:h}}).then(m=>{m.data.fee_info&&this.form.fee.push(m.data),setTimeout(()=>{this.scrollToElement("class_fee")},300),this.searching.fee=!1,this.disable_check_box=!1,this.fetching_fee=!1,this.open.admission_confirmation=!0}).catch(m=>{this.searching.fee=!1,this.disable_check_box=!1,this.fetching_fee=!1,this.no_fee_found=!0})):this.disable_check_box=!1},clearStudents(){this.list.students=[]},scrollToElement(a){const e=this.$refs[a];e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},deleteFee(a,e){this.form.fee=this.form.fee.filter(o=>o.fee_info.programme_id!==a),e==2&&this.selected_plus_class.hasOwnProperty(a)&&delete this.selected_plus_class[a]},admitStudent(){this.$inertia.post(route("students.store"),this.form)},checkIfClassSelected(a,e){return this.selected_plus_class[e]?this.selected_plus_class[e].includes(a):!1},sumMaterialFee(a,e,o){return a?Number(e)+Number(o):Number(o)},showPromoModal(a){this.selected_promo.promo_id="",this.selected_promo.fee_index=a,this.open_promo_modal=!0},addPromo(){const a=this.$page.props.promos.find(o=>o.promo_id===this.selected_promo.promo_id);!this.form.fee[this.selected_promo.fee_index].fee_info.promos.find(o=>o.promo_id===this.selected_promo.promo_id)&&a&&this.form.fee[this.selected_promo.fee_index].fee_info.promos.push({promo_id:parseInt(a.promo_id),promo_name:a.promo_name,type_id:parseInt(a.type_id),type_name:a.type_name,value:parseInt(a.value),duration_id:parseInt(a.type_id),duration_name:a.duration_name,duration_count:parseInt(a.duration_count),duration_remaining:parseInt(a.duration_count)}),this.open_promo_modal=!1},deletePromo(a,e){this.form.fee[a].fee_info.promos.splice(e,1)},calculateTotal(a,e){const o=this.form.fee[a].fee_info.promos.reduce((u,m)=>m.type_id===1?u+m.value:u,0),h=this.form.fee[a].fee_info.promos.reduce((u,m)=>m.type_id===2?u+m.value:u,0);return e-h-e*o/100}},mounted(){const e=new Date().toISOString().substring(0,10);this.form.date_admission=`${e}T05:59:00.000Z`}},pt=Object.assign(gs,{__name:"Create",setup(a){return(e,o)=>{const h=k("Label"),u=k("ComboBox"),m=k("Datepicker"),b=k("Button"),v=k("Checkbox"),C=k("Input");return n(),_($,null,[l(r(j),{title:"Students"}),l(M,null,{header:i(()=>[]),default:i(()=>[t("div",K,[l(r(z),{class:"bg-sky-200 text-slate-900 mb-3"},{default:i(()=>[l(r(G),{class:"h-4 w-4"}),l(r(H),{class:"font-semibold"},{default:i(()=>[d("Heads up!")]),_:1}),l(r(O),null,{default:i(()=>[d(" Select a different programme and choose classes after adding a new programme if you want to include multiple programmes. ")]),_:1})]),_:1}),l(A,{class:"bg-white",modelValue:e.open.student_info,"onUpdate:modelValue":o[7]||(o[7]=s=>e.open.student_info=s)},{trigger:i(()=>[d("Admission Information")]),content:i(()=>[t("div",Q,[t("div",null,[l(h,null,{default:i(()=>[d("Child Name"),W]),_:1}),l(u,{items:e.list.students,"label-property":"name","value-property":"id",onSearch:e.findChildren,modelValue:e.form.children_id,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.children_id=s),"select-placeholder":"Select Child","search-placeholder":"Enter some characters to search name...",loading:e.searching.student,error:e.errors.child},null,8,["items","onSearch","modelValue","loading","error"])]),t("div",null,[l(h,null,{default:i(()=>[d("Centre"),X]),_:1}),l(u,{items:e.$page.props.allowed_centres,"label-property":"label","value-property":"ID",modelValue:e.form.centre_id,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.centre_id=s),"select-placeholder":"Select Centre","search-placeholder":"Search centre...",error:e.errors.centre},null,8,["items","modelValue","error"])]),t("div",null,[l(h,null,{default:i(()=>[d("Start Date"),Y]),_:1}),l(m,{mode:"date",format:"dd/MM/yyyy",modelValue:e.form.date_admission,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.date_admission=s),disabled:""},null,8,["modelValue"])]),t("div",null,[l(h,null,{default:i(()=>[d("Programme"),ee]),_:1}),l(u,{items:e.$page.props.programme_list,"label-property":"name","value-property":"id",modelValue:e.search_form.programme_id,"onUpdate:modelValue":o[3]||(o[3]=s=>e.search_form.programme_id=s),"select-placeholder":"Select Programme","search-placeholder":"Search programme...",error:e.errors.programme},{label:i(({item:s})=>[t("span",se,c(s.name+" ("+s.country_name+")"),1)]),_:1},8,["items","modelValue","error"])]),t("div",null,[l(h,null,{default:i(()=>[d("Class Type"),te]),_:1}),l(u,{items:e.list.class_types,"label-property":"name","value-property":"id",modelValue:e.search_form.class_type,"onUpdate:modelValue":o[4]||(o[4]=s=>e.search_form.class_type=s),"select-placeholder":"Select Class Type","search-placeholder":"Search class type...",disabled:e.disable.class_type,error:e.errors.class_type},null,8,["items","modelValue","disabled","error"])]),t("div",null,[l(h,null,{default:i(()=>[d("Class Level"),oe]),_:1}),l(u,{items:e.list.class_levels,"label-property":"level","value-property":"level",modelValue:e.search_form.class_level,"onUpdate:modelValue":o[5]||(o[5]=s=>e.search_form.class_level=s),"select-placeholder":"Select Class Level","search-placeholder":"Search class leel...",disabled:e.disable.class_levels,error:e.errors.level},null,8,["items","modelValue","disabled","error"])]),t("div",null,[l(h,null,{default:i(()=>[d("Class Method"),le]),_:1}),l(u,{items:e.$page.props.method_list,"label-property":"name","value-property":"id",modelValue:e.search_form.class_method,"onUpdate:modelValue":o[6]||(o[6]=s=>e.search_form.class_method=s),"select-placeholder":"Select Class Method","search-placeholder":"Search class method...",error:e.errors.class_method},null,8,["items","modelValue","error"])]),t("div",ae,[l(b,{onClick:e.findClasses},{default:i(()=>[d("Search Classes")]),_:1},8,["onClick"])])])]),_:1},8,["modelValue"]),t("div",ie,[t("div",re,[l(A,{class:"bg-white",modelValue:e.open.student_classes,"onUpdate:modelValue":o[8]||(o[8]=s=>e.open.student_classes=s)},{trigger:i(()=>[d("Class Availability")]),content:i(()=>[e.enable_container.available_classes?(n(),_("div",ne,[l(r(J),null,{default:i(()=>[l(r(R),{class:"bg-gray-100"},{default:i(()=>[l(r(T),null,{default:i(()=>[l(r(w),{class:"px-4"},{default:i(()=>[d("#")]),_:1}),l(r(w),null,{default:i(()=>[d("Day")]),_:1}),l(r(w),{class:"text-center"},{default:i(()=>[d("Time")]),_:1}),l(r(w),{class:"text-center"},{default:i(()=>[d("Capacity")]),_:1}),l(r(w),{class:"text-center"},{default:i(()=>[d("Action")]),_:1})]),_:1})]),_:1}),l(r(Z),null,{default:i(()=>[!e.searching.class&&!e.list.available_classes.length?(n(),P(r(T),{key:0},{default:i(()=>[l(r(y),{class:"text-center",colspan:"10"},{default:i(()=>[de]),_:1})]),_:1})):g("",!0),(n(!0),_($,null,U(e.list.available_classes,(s,f)=>(n(),P(r(T),null,{default:i(()=>[l(r(y),{class:"px-4"},{default:i(()=>[d(c(f+1),1)]),_:2},1024),l(r(y),null,{default:i(()=>[d(c(s.class_day),1)]),_:2},1024),l(r(y),{class:"text-center"},{default:i(()=>[t("span",_e,c(r(N)(s.start_time).format("h:mm A"))+" - "+c(r(N)(s.end_time).format("h:mm A")),1)]),_:2},1024),l(r(y),{class:"text-center"},{default:i(()=>[d(c(s.capacity),1)]),_:2},1024),l(r(y),{class:"text-center"},{default:i(()=>[l(v,{id:s.id,value:s.id,checked:e.checkIfClassSelected(s.class_id,s.programme_id),onClick:p=>e.getPlusFee(s.class_id,s.class_type,s.programme_id,s.programme_level_id)},null,8,["id","value","checked","onClick"])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})])):g("",!0),!e.enable_container.available_classes&&!e.searching.class&&!e.list.available_classes.length?(n(),_("div",ce,fe)):g("",!0)]),_:1},8,["modelValue"])],512),t("div",pe,[l(A,{class:"bg-white",modelValue:e.open.admission_confirmation,"onUpdate:modelValue":o[9]||(o[9]=s=>e.open.admission_confirmation=s)},{trigger:i(()=>[d("Admission Confirmation")]),content:i(()=>[e.form.fee.length?(n(),_("div",ue,[(n(!0),_($,null,U(e.form.fee,(s,f)=>(n(),_("div",he,[t("div",ge,[t("span",be,c(s.fee_info.programme_name),1),t("span",ve,"Level "+c(s.fee_info.programme_level),1)]),t("ul",ye,[t("li",ke,[Ce,t("span",Ve,c(s.fee_info.centre_name),1)]),t("li",xe,[we,t("span",Se,c(s.fee_info.programme_type),1)]),t("li",$e,[Pe,t("span",Ne,c(s.fee_info.class_method),1)])]),t("ul",Ue,[Ie,t("li",Ae,[(n(!0),_($,null,U(s.classes,p=>(n(),_("span",{class:"text-slate-600 text-xs",key:p.id},c(p.class_day)+" ("+c(r(N)(p.start_time).format("h:mm A"))+" - "+c(r(N)(p.end_time).format("h:mm A"))+")",1))),128))])]),t("ul",Te,[t("li",Be,[Fe,t("div",{onClick:p=>e.showPromoModal(f),class:"font-medium text-indigo-500 cursor-pointer px-1.5 py-0.5 rounded border border-dashed border-indigo-500 bg-white hover:bg-indigo-50 whitespace-nowrap"}," Add Promo ",8,je)]),t("li",De,[s.fee_info.promos.length?(n(),_("div",Me,[(n(!0),_($,null,U(s.fee_info.promos,(p,I)=>(n(),_("span",Le,[t("p",Ee,c(p.promo_name),1),(n(),_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",onClick:B=>e.deletePromo(f,I),class:"h-3.5 w-3.5 text-red-600 cursor-pointer"},He,8,ze))]))),256))])):(n(),_("div",Je,Ze))])]),s.fee_info.registration_fee!=0?(n(),_("ul",qe,[t("li",Ge,[t("div",Ke,[l(v,{id:"registration_fee_"+f,value:s.fee_info.include_registration_fee,checked:s.fee_info.include_registration_fee,onClick:p=>s.fee_info.include_registration_fee=!s.fee_info.include_registration_fee},null,8,["id","value","checked","onClick"]),t("label",{for:"registration_fee_"+f,class:"cursor-pointer"},"Registration Fee: "+c(s.fee_info.currency_symbol)+c(s.fee_info.registration_fee),9,Qe)]),s.fee_info.include_registration_fee?(n(),_("div",We,[t("span",{for:"registration_fee_discount"+f},"Discount: ",8,Xe),s.fee_info.include_registration_fee&&s.fee_info.registration_fee&&s.fee_info.registration_fee!=0?(n(),P(C,{key:0,min:"0",id:"registration_fee_discount"+f,type:"number",class:"text-xs h-6",placeholder:"Discount",modelValue:s.fee_info.registration_fee_discount,"onUpdate:modelValue":p=>s.fee_info.registration_fee_discount=p},null,8,["id","modelValue","onUpdate:modelValue"])):g("",!0)])):g("",!0)])])):g("",!0),s.fee_info.material_fee!=0?(n(),_("ul",Ye,[t("li",es,[t("div",ss,[l(v,{id:"material_fee_"+f,value:s.fee_info.include_material_fee,checked:s.fee_info.include_material_fee,onClick:p=>s.fee_info.include_material_fee=!s.fee_info.include_material_fee},null,8,["id","value","checked","onClick"]),t("label",{for:"material_fee_"+f,class:"cursor-pointer"},"Material Fee: "+c(s.fee_info.currency_symbol)+c(s.fee_info.material_fee),9,ts)]),s.fee_info.include_material_fee?(n(),_("div",os,[t("span",{for:"material_fee_discount_"+f},"Discount: ",8,ls),s.fee_info.include_material_fee&&s.fee_info.material_fee&&s.fee_info.material_fee!=0?(n(),P(C,{key:0,min:"0",id:"material_fee_discount_"+f,type:"number",class:"text-xs h-6",placeholder:"Discount",modelValue:s.fee_info.material_fee_discount,"onUpdate:modelValue":p=>s.fee_info.material_fee_discount=p},null,8,["id","modelValue","onUpdate:modelValue"])):g("",!0)])):g("",!0)])])):g("",!0),t("ul",as,[t("li",is,[t("div",rs,[t("div",ns,[l(v,{id:"old_fee_"+f,value:s.fee_info.use_old_fee,checked:s.fee_info.use_old_fee,onClick:p=>s.fee_info.use_old_fee=!s.fee_info.use_old_fee},null,8,["id","value","checked","onClick"]),t("label",{for:"old_fee_"+f,class:"cursor-pointer"},"Use old fee",8,ds)]),t("div",_s,[t("span",cs,c(s.fee_info.currency_symbol)+c(e.calculateTotal(f,s.fee_info.use_old_fee?s.fee_info.old_programme_fee:s.fee_info.programme_fee)),1),ms])])])])]))),256))])):g("",!0),e.searching.class?g("",!0):(n(),_("div",fs,[!e.enable_container.available_classes||e.enable_container.available_classes&&!e.form.fee.length&&!e.no_fee_found?(n(),_("span",ps,"No classes have been selected.")):g("",!0),e.enable_container.available_classes&&!e.form.fee.length&&e.no_fee_found?(n(),_("span",us,"Fees are not available for the selected classes.")):g("",!0)]))]),_:1},8,["modelValue"])],512)]),e.form.fee.length?(n(),P(E,{key:0},{content:i(()=>[t("div",hs,[l(b,{variant:"outline",onClick:o[10]||(o[10]=s=>e.$inertia.get(e.route("students")))},{default:i(()=>[d("Cancel")]),_:1}),l(b,{onClick:e.admitStudent},{default:i(()=>[d("Save")]),_:1},8,["onClick"])])]),_:1})):g("",!0)]),l(q,{open:e.open_promo_modal,"onUpdate:open":o[13]||(o[13]=s=>e.open_promo_modal=s)},{title:i(()=>[d("Add Status")]),content:i(()=>[l(u,{items:e.$page.props.promos,"label-property":"promo_name","value-property":"promo_id",modelValue:e.selected_promo.promo_id,"onUpdate:modelValue":o[11]||(o[11]=s=>e.selected_promo.promo_id=s),"select-placeholder":"Select Promo","search-placeholder":"Search promo..."},null,8,["items","modelValue"])]),footer:i(()=>[l(b,{variant:"outline",onClick:o[12]||(o[12]=s=>e.open_promo_modal=!1)},{default:i(()=>[d("Cancel")]),_:1}),l(b,{onClick:e.addPromo},{default:i(()=>[d("Add")]),_:1},8,["onClick"])]),_:1},8,["open"])]),_:1})],64)}}});export{pt as default};
