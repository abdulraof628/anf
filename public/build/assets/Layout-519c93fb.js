import{B as p}from"./Authenticated-5d9bc80b.js";import{o as i,s as a,a as n,c as l,u as v,w as c,F as u,L as g,z as w,H as _,d as e,n as d,e as m,t as h,y as x}from"./app-b7f40a39.js";import"./moment-a9aaa855.js";import{T as f}from"./vue3-perfect-scrollbar-fae24869.js";import{r as b}from"./PencilIcon-c10abc7d.js";import{r as y}from"./SearchIcon-3031c4c2.js";import{g as k,S as M,M as $,b as C}from"./menu-869c835a.js";import{W as B,Y as z,h as N,S}from"./transition-1adba1b0.js";import"./ApplicationLogo-fb8435cc.js";import"./Button-dc7b31a1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XIcon-91c32bd7.js";import"./keyboard-387b5f3d.js";import"./use-resolve-button-type-3a3cff7a.js";function I(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),n("path",{"fill-rule":"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z","clip-rule":"evenodd"})])}function L(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function H(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function j(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})])}function V(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1.586l-.293-.293a1 1 0 10-1.414 1.414l2 2 .002.002a.997.997 0 001.41 0l.002-.002 2-2a1 1 0 00-1.414-1.414l-.293.293V9z"})])}function A(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function D(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})])}function R(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}function U(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})])}function T(o,t){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const F={class:"py-4 px-4"},O={class:"overflow-x-auto"},W={class:"mx-auto"},Y={class:"align-middle inline-block min-w-full"},E={class:"h-full flex flex-col"},P={class:"min-h-0 flex-1 flex overflow-hidden"},X={class:"h-full relative flex flex-col border-r border-gray-200 bg-gray-100 w-1/3"},q=e("div",{class:"flex-shrink-0"},[e("div",{class:"h-16 px-6 flex flex-col justify-center bg-indigo-200"},[e("div",{class:"flex items-baseline space-x-3"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Notifications")])])],-1),G={class:"h-[74vh]"},J={class:"flex flex-row space-x-2 border-t border-b border-gray-200 bg-indigo-50 px-4 py-2 text-sm font-medium text-gray-500"},K={key:0,class:"bg-indigo-100 h-[70vh] overflow-hidden overflow-y-auto no-scrollbar"},Q=e("div",{"aria-label":"Message list",class:"h-full text-center pt-6"},[e("span",{class:"text-sm text-gray-500 font-semibold"},"No notification")],-1),Z=[Q],ee={"aria-label":"Message list",class:"h-full"},te={role:"list",class:"border-b border-gray-200 divide-y divide-gray-200"},oe=["onClick"],ie={class:"flex justify-between space-x-3"},re={class:"min-w-0 flex-1"},ne=["href"],se=e("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),ae={class:"text-sm font-medium text-gray-900 truncate"},le={class:"mt-1"},de={class:"line-clamp-2 text-sm text-gray-600"},ce={class:"flex flex-col grow w-full"},ue=e("div",{class:"flex h-16 items-center justify-end bg-indigo-200"},null,-1),he={class:"flex flex-col"},fe={key:0,class:"flex h-[74vh] justify-center items-center bg-white"},pe=e("img",{src:"/images/no_notification_yet.png",class:"h-1/3 w-1/5",alt:""},null,-1),ve=[pe],ge={key:1,class:"flex justify-center h-[74vh] overflow-y-auto no-scrollbar"},we={components:{Dialog:B,DialogOverlay:z,Menu:k,MenuButton:M,MenuItem:$,MenuItems:C,TransitionChild:N,TransitionRoot:S,Link:g,TimeAgo:f,ArchiveIconSolid:I,BellIcon:R,ChevronDownIcon:L,ChevronUpIcon:H,DotsVerticalIcon:j,FolderDownloadIcon:V,MenuIcon:U,PencilIcon:b,ReplyIcon:A,SearchIcon:y,UserAddIcon:D,XIcon:T},setup(){const o=w(!1);return{user,navigation,sidebarNavigation,userNavigation,messages,open:o}},data(){return{current_data_count:10}},methods:{viewNotification(o){this.$inertia.get(route("view_notification"),{id:o,data_count:this.current_data_count},{preserveScroll:!0,preserveState:!0})},deleteNotification(o){this.$inertia.delete(route("delete_notification",o))},showAllNotifications(){this.$inertia.get(route("notifications"))},showUnreadNotifications(){this.$inertia.get(route("notifications"),{filter:"read"},{preserveScroll:!0})},showReadNotifications(){this.$inertia.get(route("notifications"),{filter:"unread"},{preserveScroll:!0})},onScroll({target:{scrollTop:o,clientHeight:t,scrollHeight:s}}){o+t>=s&&axios.get(route("show_more_notifications"),{params:{data_count:this.current_data_count+=10}}).then(r=>{this.$page.props.notifications=r.data})}}},He=Object.assign(we,{__name:"Layout",setup(o){return(t,s)=>(i(),l(u,null,[n(v(_),{title:"Notifications"}),n(p,null,{header:c(()=>[]),default:c(()=>[e("div",F,[e("div",O,[e("div",W,[e("div",Y,[e("div",E,[e("div",P,[e("div",X,[q,e("div",G,[e("div",J,[e("button",{class:d(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"unread"})||t.route().current("notifications",{filter:"read"})?"bg-indigo-400 px-2 py-1":"bg-indigo-700 py-1 px-2"]),onClick:s[0]||(s[0]=r=>t.showAllNotifications())},"All",2),e("button",{class:d(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"unread"})?"bg-indigo-700 px-2 py-1":"bg-indigo-400 py-1 px-2"]),onClick:s[1]||(s[1]=r=>t.showReadNotifications())},"Unread",2),e("button",{class:d(["shadow-md inline-flex items-center border border-transparent rounded font-semibold text-xs text-white uppercase tracking-widest focus:outline-none transition ease-in-out duration-150 cursor-pointer",t.route().current("notifications",{filter:"read"})?"bg-indigo-700 px-2 py-1":"bg-indigo-400 py-1 px-2"]),onClick:s[2]||(s[2]=r=>t.showUnreadNotifications())},"Read",2)]),t.$page.props.notifications.length?(i(),l("div",{key:1,class:"bg-white h-[70vh] overflow-hidden hover:overflow-y-auto no-scrollbar w-full",onScroll:s[3]||(s[3]=(...r)=>t.onScroll&&t.onScroll(...r))},[e("div",ee,[e("ul",te,[(i(!0),l(u,null,m(t.$page.props.notifications,r=>(i(),l("li",{key:r.id,class:d([[t.route().current("view_notification",{id:r.id})?"bg-indigo-50":"",r.seen?"":"bg-indigo-200"],"relative cursor-pointer bg-white py-5 px-6 hover:bg-indigo-50"]),onClick:_e=>t.viewNotification(r.id)},[e("div",ie,[e("div",re,[e("a",{href:r.href,class:"block focus:outline-none"},[se,e("p",ae,h(r.sender),1)],8,ne)]),n(f,{class:"flex-shrink-0 whitespace-nowrap text-sm text-gray-500",datetime:r.created_at},null,8,["datetime"])]),e("div",le,[e("p",de,h(r.message),1)])],10,oe))),128))])])],32)):(i(),l("div",K,Z))])]),e("div",ce,[ue,e("div",he,[t.$page.props.user_notifications.length?(i(),l("div",ge,[x(t.$slots,"default")])):(i(),l("div",fe,ve))])])])])])])])])]),_:3})],64))}});export{He as default};
