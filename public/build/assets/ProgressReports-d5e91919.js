import{_ as h}from"./Authenticated-37e2b7fd.js";import{o,c as n,a,u as l,d as e,t as d,w as p,F as _,b as f,H as v,n as i,q as g,e as w,g as b}from"./app-537d3edf.js";import{B as x}from"./Button-4b449e6a.js";import{s as c}from"./simplebar.min-892a4c02.js";import{h as y}from"./moment-a9aaa855.js";import"./XIcon-c8ebfa53.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./transition-6806fd23.js";import"./keyboard-67c5e7ff.js";import"./use-resolve-button-type-b898ee00.js";import"./menu-854cc0f1.js";const k={class:"fixed w-full flex justify-center top-[4rem] md:top-[10rem] font-extrabold bg-white border border-gray-300 py-3 z-20"},$={class:"max-w-xl mx-auto border shadow bg-white rounded-lg px-4 mt-14"},C={class:"flex justify-evenly sm:justify-center space-x-8 md:space-x-10 pt-3 pb-4 font-medium"},B=e("img",{src:"/images/parents/stories.png",class:"w-10 h-10",alt:""},null,-1),R=e("span",{class:"text-sm"},"Stories",-1),P=[B,R],j=e("img",{src:"/images/parents/progress_report.png",class:"w-10 h-10",alt:""},null,-1),N=e("span",{class:"text-sm"},"Progress Reports",-1),V=[j,N],z=e("img",{src:"/images/parents/fee_invoice.png",class:"w-10 h-10",alt:""},null,-1),F=e("span",{class:"text-sm"},"Invoices",-1),M=[z,F],H=e("img",{src:"/images/parents/art_gallery.png",class:"w-10 h-10",alt:""},null,-1),L=e("span",{class:"text-sm"},"Art Gallery",-1),U=[H,L],A=e("img",{src:"/images/parents/art_book.png",class:"w-10 h-10",alt:""},null,-1),D=e("span",{class:"text-sm"},"Art Book",-1),E=[A,D],G={class:"max-w-xl mx-auto mt-10"},O={key:0,class:"flex items-center space-y-3"},S=e("h2",{class:"text-lg md:text-xl mx-1 font-extrabold"},"Progress Reports",-1),T=[S],q={key:1,class:"flex justify-center mx-1 mt-10"},I=e("span",{class:"text-slate-500"},"No Progress Reports Found",-1),Y=[I],J={class:"mt-3"},K={class:"bg-white shadow rounded-lg border"},Q={class:"divide-y divide-slate-200 dark:divide-zink-500 px-6 py-4"},W={class:"flex items-center gap-3 py-2 first:pt-0 last:pb-0"},X={class:"grow"},Z={class:"font-medium"},ee={class:"shrink-0"},se={components:{simplebar:c},data(){return{generate:{id:"",running:!1}}},methods:{showProgressReport(u,s){this.generate.running||(this.generate.running=!0,f.get(route("progress_report.full_reports"),{responseType:"blob",params:{progress_report_id:u,student_fee:s}}).then(t=>{const r=new Blob([t.data],{type:"application/pdf"}),m=URL.createObjectURL(r);window.open(m,"_blank"),this.generate.running=!1}).catch(t=>{console.error("Error fetching PDF:",t),this.generate.running=!1}))}}},_e=Object.assign(se,{__name:"ProgressReports",setup(u){return(s,t)=>(o(),n(_,null,[a(l(v),{title:"Home"}),e("div",k,[e("span",null,d(s.$page.props.session_data.current_active_programme.name),1)]),a(h,null,{default:p(()=>[e("div",$,[a(l(c),{"data-simplebar-auto-hide":"true"},{default:p(()=>[e("div",C,[e("div",{class:i(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.stories")?"font-extrabold":""]),onClick:t[0]||(t[0]=r=>s.$inertia.get(s.route("parent.stories",s.$page.props.session_data.current_active_programme.encrypted_id)))},P,2),e("div",{class:i(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.progress_reports")?"font-extrabold":""]),onClick:t[1]||(t[1]=r=>s.$inertia.get(s.route("parent.progress_reports")))},V,2),e("div",{class:i(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.invoices")?"font-extrabold":""]),onClick:t[2]||(t[2]=r=>s.$inertia.get(s.route("parent.invoices")))},M,2),e("div",{class:i(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.art_gallery")?"font-extrabold":""]),onClick:t[3]||(t[3]=r=>s.$inertia.get(s.route("parent.art_gallery")))},U,2),e("div",{class:i(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",s.route().current("parent.art_book")?"font-extrabold":""]),onClick:t[4]||(t[4]=r=>s.$inertia.get(s.route("parent.art_book")))},E,2)])]),_:1})]),e("div",G,[s.$page.props.progress_reports.length?(o(),n("div",O,T)):g("",!0),s.$page.props.progress_reports.length?g("",!0):(o(),n("div",q,Y)),e("div",J,[e("div",K,[a(l(c),{"data-simplebar-auto-hide":"true",class:"max-h-screen"},{default:p(()=>[e("ul",Q,[(o(!0),n(_,null,w(s.$page.props.progress_reports,(r,m)=>(o(),n("li",W,[e("div",X,[e("h6",Z,d(l(y)(r.month).format("MMMM Y")),1)]),e("div",ee,[a(x,{class:"py-1 px-4",onClick:te=>s.showProgressReport(r.id,r.student_fee_id)},{default:p(()=>[b(d(s.generate.id==r.id&&s.generate.running?"Generating...":"View"),1)]),_:2},1032,["onClick"])])]))),256))])]),_:1})])])])]),_:1})],64))}});export{_e as default};
