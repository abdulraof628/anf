import{j as y,o as p,c as _,a,u as k,w as c,F as T,H as x,L as C,d as e,l as j,h,v as b,n as g,p as v,q as B,g as n}from"./app-de3224c3.js";import{B as E}from"./Authenticated-3ff31369.js";import{B as f}from"./Button-6beb9af7.js";import"./ApplicationLogo-5ec5b21e.js";import"./XIcon-53186728.js";import"./perfect-scrollbar.esm-7a922f4b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TimeAgo-0298f640.js";import"./moment-55cb88ed.js";const L={class:"md:grid md:grid-cols-2"},M={class:"md:mt-0 md:col-span-2"},F={class:"px-4 py-5 bg-indigo-50 space-y-6 sm:p-6"},$={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-2 grid-flow-col gap-4"},P={class:"sm:row-span-3"},R={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},U=e("div",{class:"mb-5"},[e("h1",{class:"font-bold text-indigo-800"},"Upload Math Manipulative"),e("div",{class:"border-b border-dashed border-indigo-900 mt-1"})],-1),H={class:"mb-4"},N=e("label",{for:"title",class:"block text-sm font-bold text-gray-700"},[n(" Title "),e("span",{class:"text-red-500"},"*")],-1),V={class:"mt-1 flex rounded-md.shadow-sm"},A={class:"mb-4 space-y-2"},D=e("label",{class:"block text-sm text-gray-700 font-bold"},[n(" Thumbnail "),e("span",{class:"text-red-500"},"*")],-1),G={key:0,class:"rounded-md bg-red-100 p-4"},I={class:"flex"},S={class:"flex-shrink-0"},z=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-red-500"},"File is required!")],-1),O={class:"space-y-1 text-center"},q=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Y={class:"flex text-sm text-gray-600"},J={class:"browse text-indigo-400 hover:text-indigo-800 cursor-pointer font-bold"},X={ref:"thumbnail",id:"file",class:"sr-only",type:"file",accept:"image/*"},K=e("p",{class:"pl-1"},"or drag and drop an image",-1),Q=e("p",{class:"text-xs text-gray-500"},"Image Format : PNG, JPG",-1),W={class:"mb-4"},Z=e("label",{class:"block text-sm text-gray-700 font-bold mb-2"}," Artwork File ",-1),ee={class:"flex flex-row justify-start space-x-2"},te={class:"flex-column text-center"},se=["src"],oe={class:"flex-column"},re={class:"flex flex-col space-y-1"},le=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),ie={class:"mb-4"},ae=e("label",{for:"folder_name",class:"block text-sm font-bold text-gray-700"},[n(" Folder Name "),e("span",{class:"text-red-500"},"*")],-1),ne={class:"mt-1 flex rounded-md.shadow-sm"},de=e("div",{class:"border-b border-dashed border-indigo-900 mt-4 mb-5"},null,-1),me={class:"flex items-center justify-end"},ce={class:"flex space-x-2"},w=window.URL||window.webkitURL,ue=/^image\/\w+$/,he={components:{Head:x,Link:C},data(){return{data:{type:Object,default:()=>({})},list:{students:[],levels:this.$page.props.levels,themes:[],lessons:[],activities:[]},form:{title:"",folder_name:"",thumbnail:{image_url:"",file:""}}}},methods:{submit(){this.$inertia.post(route("math_manipulatives.configuration.store"),this.form,{preserveState:!0})},read(o,t){return new Promise((s,l)=>{if(!o){s();return}ue.test(o.type)?w?s({loaded:!0,name:o.name,type:o.type,url:w.createObjectURL(o)}):l(new Error("Your browser is not supported.")):l(new Error("Please select a valid image file."))})},changeThumbnail({target:o}){const{files:t}=o;t&&t.length>0&&this.read(t[0],o).then(s=>{this.form.thumbnail.image_url=s.url,this.form.thumbnail.file=t[0]}).catch(this.alert)},dragoverThumbnail(o){o.preventDefault()},dropThumbnail(o){const{files:t}=o.dataTransfer;o.preventDefault(),t&&t.length>0&&this.read(t[0],o).then(s=>{this.form.thumbnail.image_url=s.url,this.form.thumbnail.file=t[0]}).catch(this.alert)},reselect_thumbnail(){this.$refs.thumbnail.value="",this.form.thumbnail.image_url="",this.form.thumbnail.file=""},change(o){const t=o.target.files,s={};for(let l=0;l<t.length;l++){const r=t[l],u=r.webkitRelativePath.split("/");let i=s;for(let d=0;d<u.length;d++){const m=u[d];i[m]?d===u.length-1&&i[m].push(r):d===u.length-1?i[m]=[r]:i[m]={},i=i[m]}}this.form.folder=s},removeFolder(){this.form.folder=[]}}},ke=Object.assign(he,{__name:"Create",setup(o){return(t,s)=>{const l=y("ExclamationIcon");return p(),_(T,null,[a(k(x),{title:"Art Gallery"}),a(E,null,{header:c(()=>[]),default:c(()=>[e("div",L,[e("div",M,[e("form",{onSubmit:s[6]||(s[6]=j((...r)=>t.submit&&t.submit(...r),["prevent"]))},[e("div",F,[e("div",$,[e("div",P,[e("div",R,[U,e("div",H,[N,e("div",V,[h(e("input",{type:"text",name:"title",id:"title",class:g(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.title?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[0]||(s[0]=r=>t.form.title=r),autocomplete:"off"},null,2),[[b,t.form.title]])])]),h(e("div",A,[D,t.$page.props.errors["artwork.file"]?(p(),_("div",G,[e("div",I,[e("div",S,[a(l,{class:"h-5 w-5 text-red-500","aria-hidden":"true"})]),z])])):B("",!0),e("div",{class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",onChange:s[1]||(s[1]=(...r)=>t.changeThumbnail&&t.changeThumbnail(...r)),onDragover:s[2]||(s[2]=(...r)=>t.dragoverThumbnail&&t.dragoverThumbnail(...r)),onDrop:s[3]||(s[3]=(...r)=>t.dropThumbnail&&t.dropThumbnail(...r))},[e("div",O,[q,e("div",Y,[e("label",J,[n("Click here "),e("input",X,null,512)]),K]),Q])],32)],512),[[v,t.form.thumbnail.image_url==""]]),h(e("div",W,[Z,e("div",ee,[e("div",te,[e("img",{class:"object-scale-down h-40 w-40",src:t.form.thumbnail.image_url,alt:""},null,8,se)]),e("div",oe,[e("div",re,[a(f,{class:"py-1 px-2 bg-blue-500 hover:bg-blue-600 rounded text-white shadow",onClick:s[4]||(s[4]=r=>t.reselect_thumbnail()),title:"Reselect an image"},{default:c(()=>[le]),_:1})])])])],512),[[v,t.form.thumbnail.image_url!=""]]),e("div",ie,[ae,e("div",ne,[h(e("input",{type:"text",name:"folder_name",id:"folder_name",class:g(["focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm",t.$page.props.errors.folder_name?"border-red-300":"border-gray-300"]),"onUpdate:modelValue":s[5]||(s[5]=r=>t.form.folder_name=r),autocomplete:"off"},null,2),[[b,t.form.folder_name]])])]),de,e("div",me,[e("div",ce,[a(f,{buttonType:"gray",route:t.route("math_manipulatives.configuration")},{default:c(()=>[n("Cancel")]),_:1},8,["route"]),a(f,{type:"submit"},{default:c(()=>[n("Save")]),_:1})])])])])])])],32)])])]),_:1})],64)}}});export{ke as default};
