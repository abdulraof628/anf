import{q as U,s as E,m as N,c as p,b as u,u as a,w as c,F as S,o as n,H as D,d as t,e as y,t as h,n as g,h as P,f as v,l as x,g as H,k as i,j as _,p as k}from"./app-5b70941e.js";import{B as L}from"./Authenticated-3d558274.js";import{B as f}from"./Button-7003fb3f.js";import{_ as j}from"./ValidationErrors-63b04435.js";import{U as A}from"./UploadPreview-a4846690.js";import{M as z}from"./Modal-cac99ee2.js";import J from"./Variation-99e369c8.js";/* empty css            */import"./ApplicationLogo-9bc665dc.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XIcon-6a638028.js";import"./default.css_vue_type_style_index_0_src_true_lang-5057ee22.js";import"./moment-fbc5633a.js";/* empty css                                                                      */import"./VueFinalModal.esm-7d242b85.js";import"./VariationOption-5691647c.js";const R={class:"md:grid md:grid-cols-2"},q={class:"md:mt-0 md:col-span-2"},Z=["onSubmit"],G={class:"px-4 py-5 bg-indigo-50 space-y-6 sm:p-6"},K={class:"grid grid-rows-1 grid-cols-1 sm:grid-cols-1 grid-flow-col gap-4"},Q={class:"sm:row-span-3"},W={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md"},X={class:"mb-5"},Y={class:"font-bold text-indigo-800"},tt=t("div",{class:"border-b border-dashed border-indigo-900 mt-1"},null,-1),et={class:"p-10"},ot={class:"md:flex items-center justify-center border-b pb-6 border-gray-200 mb-4"},st={class:"px-10"},dt={key:0},at={class:"mb-4"},rt=t("label",{for:"category_name",class:"block text-sm text-gray-700 font-bold mb-2"},[i(" Product Images "),t("span",{class:"text-red-500"},"*")],-1),lt={class:"flex flex-wrap justify-center"},it=["for"],ct={class:"mb-4"},nt=t("label",{for:"product_name",class:"block text-sm text-gray-700 font-bold mb-2"},[i(" Product Name "),t("span",{class:"text-red-500"},"*")],-1),ut={class:"mt-1 flex rounded-md shadow-sm"},mt={class:"mb-4"},pt=t("label",{for:"product_description",class:"block text-sm text-gray-700 font-bold mb-2"},[i(" Product Description "),t("span",{class:"text-red-500"},"*")],-1),_t={class:"mt-1 flex rounded-md shadow-sm"},ft={class:"mb-4"},gt=t("label",{for:"product_category",class:"block text-sm text-gray-700 font-bold mb-2"},[i(" Product Category "),t("span",{class:"text-red-500"},"*")],-1),vt={class:"mt-1 flex rounded-md shadow-sm"},bt=t("option",{value:""},"Please Select",-1),xt=["value"],yt={key:1},ht={key:0},kt={class:"mb-4"},wt=t("label",{class:"block text-sm text-gray-700 font-bold"}," Variation ",-1),Ct={class:"mt-1 flex rounded-md"},Vt={class:"mb-4"},Ut=t("label",{for:"product_price",class:"block text-sm text-gray-700 font-bold"},[i(" Price "),t("span",{class:"text-red-500"},"*")],-1),St={class:"mt-1 flex rounded-md shadow-sm"},Bt={class:"mb-4"},It=t("label",{for:"product_stock",class:"block text-sm text-gray-700 font-bold"},[i(" Stock "),t("span",{class:"text-red-500"},"*")],-1),Nt={class:"mt-1 flex rounded-md shadow-sm"},Pt={key:1},jt=t("label",{class:"block text-sm text-gray-700 font-bold"}," Variation ",-1),Mt={class:"mt-1 flex rounded-md shadow-sm"},$t={class:"flex items-center justify-between space-x-2"},Ft=t("svg",{class:"ml-3",width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M8.01 3H0V5H8.01V8L12 4L8.01 0V3Z",fill:"currentColor"})],-1),Tt=t("h3",{class:"text-gray-900 text-xl font-semibold"}," Add New Product Category ",-1),Ot={class:"p-6 grid grid-cols-1 sm:grid-cols-0 gap-0 sm:gap-4"},Et={class:"mb-4"},Dt=t("label",{for:"category_name",class:"block text-sm text-gray-700 font-bold"},[i(" Product Category Name "),t("span",{class:"text-red-500"},"*")],-1),Ht={class:"mt-1 flex rounded-md shadow-sm"},Lt={class:"flex justify-end space-x-2 items-center p-4 border-t border-gray-200 rounded-b"},de={__name:"Create",props:{product:{type:Object},productImages:{type:Object},categories:{type:Object}},setup(m){const s=m,l=U(1),b=U(!1),w=U([{label:"Cover Image",name:"product_cover_image",value:null},{label:"Image 1",name:"product_image_1",value:null},{label:"Image 2",name:"product_image_2",value:null},{label:"Image 3",name:"product_image_3",value:null},{label:"Image 4",name:"product_image_4",value:null},{label:"Image 5",name:"product_image_5",value:null},{label:"Image 6",name:"product_image_6",value:null}]);E(()=>{s.productImages&&w.value.forEach(r=>{Object(s.productImages).forEach(e=>{r.name=="product_"+e.name&&(r.value="../../storage/"+e.path)})})});const d=N({product_name:s.product?s.product.name:"",product_description:s.product?s.product.description:"",product_category:s.product?s.product.product_category_id:"",product_price:s.product&&!s.product.has_variation?JSON.parse(s.product.details)[0].price:"",product_stock:s.product&&!s.product.has_variation?JSON.parse(s.product.details)[0].stock:"",product_cover_image:"",product_image_1:"",product_image_2:"",product_image_3:"",product_image_4:"",product_image_5:"",product_image_6:"",product_variation:s.product&&s.product.has_variation?"enabled":"disabled",product_variation_items:[]}),C=N({category_name:""}),M=s.product?route("products.update",s.product.id):route("products.store"),$=s.product?"put":"post",B=r=>{l.value=r},F=(r,e)=>{if(r){const o=new FileReader;o.onload=()=>{I(e,o.result)},o.readAsDataURL(r),d[e]=r}else I(e,null)},I=(r,e)=>{w.value.forEach(o=>{o.name===r&&(o.value=e)})},T=()=>{d[$](M,{onSuccess:()=>d.reset()})},O=()=>{axios.post(route("api.product.categories.store"),C).then(r=>{console.log(r),r.status==200&&(b.value=!1)}).catch(r=>{console.error(r)})};return(r,e)=>(n(),p(S,null,[u(a(D),{title:"Product"}),u(L,null,{header:c(()=>[]),default:c(()=>[t("div",R,[t("div",q,[t("form",{onSubmit:y(T,["prevent"])},[t("div",G,[t("div",K,[t("div",Q,[t("div",W,[t("div",X,[t("h1",Y,h(m.product?"Edit":"New")+" Product",1),tt]),t("div",et,[u(j,{class:"mb-4"}),t("div",ot,[t("div",{class:g(["flex items-center md:mt-0 mt-4 md:ml-12",{"cursor-pointer":l.value!=2}]),onClick:e[0]||(e[0]=o=>B(1))},[t("div",{class:g(["w-full h-full p-4 rounded flex items-center justify-center",{"bg-indigo-700":l.value===1}])},[t("p",{class:g(["text-base ml-3 font-medium leading-4 text-gray-800",{"text-white":l.value===1}])}," Basic Information ",2)],2)],2),t("div",{class:g(["flex items-center md:mt-0 mt-4 md:ml-12",{"cursor-pointer":l.value!=2}]),onClick:e[1]||(e[1]=o=>B(2))},[t("div",{class:g(["w-full h-full p-4 rounded flex items-center justify-center",{"bg-indigo-700":l.value===2}])},[t("p",{class:g(["text-base ml-3 font-medium leading-4 text-gray-800",{"text-white":l.value===2}])}," Sales Information ",2)],2)],2)]),t("div",st,[l.value===1?(n(),p("div",dt,[t("div",at,[rt,t("div",lt,[(n(!0),p(S,null,P(w.value,o=>(n(),p("div",{key:o.name,class:"flex flex-col items-center p-2 m-2"},[u(A,{previewUrl:o.value,"onUpdate:value":V=>F(V,o.name)},null,8,["previewUrl","onUpdate:value"]),t("label",{for:o.label,class:"text-sm text-gray-500 text-center"},h(o.label),9,it)]))),128))])]),t("div",ct,[nt,t("div",ut,[v(t("input",{type:"text",name:"product_name",id:"product_name",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":e[2]||(e[2]=o=>a(d).product_name=o),autocomplete:"off"},null,512),[[x,a(d).product_name]])])]),t("div",mt,[pt,t("div",_t,[v(t("textarea",{name:"product_description",id:"product_description",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":e[3]||(e[3]=o=>a(d).product_description=o),cols:"30",rows:"10"},null,512),[[x,a(d).product_description]])])]),t("div",ft,[gt,t("div",vt,[v(t("select",{name:"product_category",id:"product_category",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":e[4]||(e[4]=o=>a(d).product_category=o)},[bt,(n(!0),p(S,null,P(m.categories,(o,V)=>(n(),p("option",{key:V,value:o.id},h(o.name),9,xt))),128))],512),[[H,a(d).product_category]]),u(f,{onClick:e[5]||(e[5]=o=>b.value=!0),buttonType:"warning",class:"h-full p-2"},{default:c(()=>[i("Add New Category")]),_:1})])])])):_("",!0),l.value===2?(n(),p("div",yt,[a(d).product_variation==="disabled"?(n(),p("div",ht,[t("div",kt,[wt,t("div",Ct,[u(f,{onClick:e[6]||(e[6]=o=>a(d).product_variation="enabled"),buttonType:"gray"},{default:c(()=>[i("Enable Variation")]),_:1})])]),t("div",Vt,[Ut,t("div",St,[v(t("input",{type:"text",name:"product_price",id:"product_price",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":e[7]||(e[7]=o=>a(d).product_price=o),autocomplete:"off"},null,512),[[x,a(d).product_price]])])]),t("div",Bt,[It,t("div",Nt,[v(t("input",{type:"number",step:"1",name:"product_stock",id:"product_stock",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":e[8]||(e[8]=o=>a(d).product_stock=o),autocomplete:"off"},null,512),[[x,a(d).product_stock]])])])])):_("",!0),a(d).product_variation==="enabled"?(n(),p("div",Pt,[jt,t("div",Mt,[u(J,{productVariations:m.product&&m.product.has_variation?JSON.parse(m.product.details):[],hasSecondVariation:m.product?m.product.has_second_variation:!1,"onUpdate:variation":e[9]||(e[9]=o=>a(d).product_variation_items=o),"onDelete:variation":e[10]||(e[10]=o=>a(d).product_variation="disabled")},null,8,["productVariations","hasSecondVariation"])])])):_("",!0)])):_("",!0)])]),t("div",$t,[l.value!=1?(n(),k(f,{key:0,onClick:e[11]||(e[11]=y(o=>l.value--,["stop"])),buttonType:"gray"},{default:c(()=>[i("Back")]),_:1})):_("",!0),l.value===1?(n(),k(f,{key:1,route:r.route("products"),buttonType:"gray"},{default:c(()=>[i("Back")]),_:1},8,["route"])):_("",!0),l.value!=2?(n(),k(f,{key:2,onClick:e[12]||(e[12]=y(o=>l.value++,["stop"]))},{default:c(()=>[i(" Next Step "),Ft]),_:1})):_("",!0),l.value===2?(n(),k(f,{key:3,type:"submit"},{default:c(()=>[i(h(m.product?"Update":"Create"),1)]),_:1})):_("",!0)])])])])])],40,Z)])]),u(z,{showModal:b.value,modalType:"sm",onHideModal:e[15]||(e[15]=o=>b.value=!1)},{header:c(()=>[Tt]),content:c(()=>[t("div",Ot,[u(j,{class:"mb-4"}),t("div",Et,[Dt,t("div",Ht,[v(t("input",{type:"text",name:"category_name",id:"category_name",class:"focus:ring-0 focus:border-indigo-300 flex-1 block w-full rounded-md sm:text-sm","onUpdate:modelValue":e[13]||(e[13]=o=>a(C).category_name=o),autocomplete:"off"},null,512),[[x,a(C).category_name]])])])])]),footer:c(()=>[t("div",Lt,[u(f,{buttonType:"gray",onClick:e[14]||(e[14]=o=>b.value=!1)},{default:c(()=>[i("Cancel")]),_:1}),u(f,{onClick:y(O,["stop"])},{default:c(()=>[i("Create")]),_:1},8,["onClick"])])]),_:1},8,["showModal"])]),_:1})],64))}};export{de as default};
